var TI=Object.defineProperty;var kI=(e,t,n)=>t in e?TI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ld=(e,t,n)=>(kI(e,typeof t!="symbol"?t+"":t,n),n);function AI(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function RI(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var k_={exports:{}},tc={},A_={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var El=Symbol.for("react.element"),NI=Symbol.for("react.portal"),xI=Symbol.for("react.fragment"),PI=Symbol.for("react.strict_mode"),OI=Symbol.for("react.profiler"),DI=Symbol.for("react.provider"),bI=Symbol.for("react.context"),LI=Symbol.for("react.forward_ref"),MI=Symbol.for("react.suspense"),FI=Symbol.for("react.memo"),jI=Symbol.for("react.lazy"),Ym=Symbol.iterator;function UI(e){return e===null||typeof e!="object"?null:(e=Ym&&e[Ym]||e["@@iterator"],typeof e=="function"?e:null)}var R_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N_=Object.assign,x_={};function Rs(e,t,n){this.props=e,this.context=t,this.refs=x_,this.updater=n||R_}Rs.prototype.isReactComponent={};Rs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function P_(){}P_.prototype=Rs.prototype;function fp(e,t,n){this.props=e,this.context=t,this.refs=x_,this.updater=n||R_}var pp=fp.prototype=new P_;pp.constructor=fp;N_(pp,Rs.prototype);pp.isPureReactComponent=!0;var Qm=Array.isArray,O_=Object.prototype.hasOwnProperty,gp={current:null},D_={key:!0,ref:!0,__self:!0,__source:!0};function b_(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)O_.call(t,r)&&!D_.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:El,type:e,key:s,ref:o,props:i,_owner:gp.current}}function $I(e,t){return{$$typeof:El,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mp(e){return typeof e=="object"&&e!==null&&e.$$typeof===El}function BI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Jm=/\/+/g;function ad(e,t){return typeof e=="object"&&e!==null&&e.key!=null?BI(""+e.key):t.toString(36)}function Ia(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case El:case NI:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+ad(o,0):r,Qm(i)?(n="",e!=null&&(n=e.replace(Jm,"$&/")+"/"),Ia(i,t,n,"",function(u){return u})):i!=null&&(mp(i)&&(i=$I(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Jm,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Qm(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+ad(s,l);o+=Ia(s,t,n,a,i)}else if(a=UI(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+ad(s,l++),o+=Ia(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Xl(e,t,n){if(e==null)return e;var r=[],i=0;return Ia(e,r,"","",function(s){return t.call(n,s,i++)}),r}function VI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},Ta={transition:null},zI={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:Ta,ReactCurrentOwner:gp};X.Children={map:Xl,forEach:function(e,t,n){Xl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xl(e,function(){t++}),t},toArray:function(e){return Xl(e,function(t){return t})||[]},only:function(e){if(!mp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=Rs;X.Fragment=xI;X.Profiler=OI;X.PureComponent=fp;X.StrictMode=PI;X.Suspense=MI;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zI;X.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=N_({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=gp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)O_.call(t,a)&&!D_.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:El,type:e.type,key:i,ref:s,props:r,_owner:o}};X.createContext=function(e){return e={$$typeof:bI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:DI,_context:e},e.Consumer=e};X.createElement=b_;X.createFactory=function(e){var t=b_.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:LI,render:e}};X.isValidElement=mp;X.lazy=function(e){return{$$typeof:jI,_payload:{_status:-1,_result:e},_init:VI}};X.memo=function(e,t){return{$$typeof:FI,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=Ta.transition;Ta.transition={};try{e()}finally{Ta.transition=t}};X.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};X.useCallback=function(e,t){return ht.current.useCallback(e,t)};X.useContext=function(e){return ht.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};X.useEffect=function(e,t){return ht.current.useEffect(e,t)};X.useId=function(){return ht.current.useId()};X.useImperativeHandle=function(e,t,n){return ht.current.useImperativeHandle(e,t,n)};X.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return ht.current.useMemo(e,t)};X.useReducer=function(e,t,n){return ht.current.useReducer(e,t,n)};X.useRef=function(e){return ht.current.useRef(e)};X.useState=function(e){return ht.current.useState(e)};X.useSyncExternalStore=function(e,t,n){return ht.current.useSyncExternalStore(e,t,n)};X.useTransition=function(){return ht.current.useTransition()};X.version="18.2.0";A_.exports=X;var N=A_.exports;const Vt=RI(N),Eh=AI({__proto__:null,default:Vt},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WI=N,HI=Symbol.for("react.element"),GI=Symbol.for("react.fragment"),KI=Object.prototype.hasOwnProperty,qI=WI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YI={key:!0,ref:!0,__self:!0,__source:!0};function L_(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)KI.call(t,r)&&!YI.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:HI,type:e,key:s,ref:o,props:i,_owner:qI.current}}tc.Fragment=GI;tc.jsx=L_;tc.jsxs=L_;k_.exports=tc;var y=k_.exports,Ch={},M_={exports:{}},Ft={},F_={exports:{}},j_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,z){var K=b.length;b.push(z);e:for(;0<K;){var ge=K-1>>>1,Te=b[ge];if(0<i(Te,z))b[ge]=z,b[K]=Te,K=ge;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var z=b[0],K=b.pop();if(K!==z){b[0]=K;e:for(var ge=0,Te=b.length,Pi=Te>>>1;ge<Pi;){var Zt=2*(ge+1)-1,Wr=b[Zt],gn=Zt+1,Oi=b[gn];if(0>i(Wr,K))gn<Te&&0>i(Oi,Wr)?(b[ge]=Oi,b[gn]=K,ge=gn):(b[ge]=Wr,b[Zt]=K,ge=Zt);else if(gn<Te&&0>i(Oi,K))b[ge]=Oi,b[gn]=K,ge=gn;else break e}}return z}function i(b,z){var K=b.sortIndex-z.sortIndex;return K!==0?K:b.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,h=3,p=!1,v=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(b){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=b)r(u),z.sortIndex=z.expirationTime,t(a,z);else break;z=n(u)}}function E(b){if(w=!1,g(b),!v)if(n(a)!==null)v=!0,Je(T);else{var z=n(u);z!==null&&xn(E,z.startTime-b)}}function T(b,z){v=!1,w&&(w=!1,m(A),A=-1),p=!0;var K=h;try{for(g(z),d=n(a);d!==null&&(!(d.expirationTime>z)||b&&!$());){var ge=d.callback;if(typeof ge=="function"){d.callback=null,h=d.priorityLevel;var Te=ge(d.expirationTime<=z);z=e.unstable_now(),typeof Te=="function"?d.callback=Te:d===n(a)&&r(a),g(z)}else r(a);d=n(a)}if(d!==null)var Pi=!0;else{var Zt=n(u);Zt!==null&&xn(E,Zt.startTime-z),Pi=!1}return Pi}finally{d=null,h=K,p=!1}}var x=!1,O=null,A=-1,V=5,G=-1;function $(){return!(e.unstable_now()-G<V)}function J(){if(O!==null){var b=e.unstable_now();G=b;var z=!0;try{z=O(!0,b)}finally{z?ue():(x=!1,O=null)}}else x=!1}var ue;if(typeof f=="function")ue=function(){f(J)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,It=Re.port2;Re.port1.onmessage=J,ue=function(){It.postMessage(null)}}else ue=function(){C(J,0)};function Je(b){O=b,x||(x=!0,ue())}function xn(b,z){A=C(function(){b(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,Je(T))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(b){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var K=h;h=z;try{return b()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,z){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var K=h;h=b;try{return z()}finally{h=K}},e.unstable_scheduleCallback=function(b,z,K){var ge=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ge+K:ge):K=ge,b){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=K+Te,b={id:c++,callback:z,priorityLevel:b,startTime:K,expirationTime:Te,sortIndex:-1},K>ge?(b.sortIndex=K,t(u,b),n(a)===null&&b===n(u)&&(w?(m(A),A=-1):w=!0,xn(E,K-ge))):(b.sortIndex=Te,t(a,b),v||p||(v=!0,Je(T))),b},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(b){var z=h;return function(){var K=h;h=z;try{return b.apply(this,arguments)}finally{h=K}}}})(j_);F_.exports=j_;var QI=F_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_=N,bt=QI;function k(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $_=new Set,Po={};function Ii(e,t){fs(e,t),fs(e+"Capture",t)}function fs(e,t){for(Po[e]=t,e=0;e<t.length;e++)$_.add(t[e])}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sh=Object.prototype.hasOwnProperty,JI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xm={},Zm={};function XI(e){return Sh.call(Zm,e)?!0:Sh.call(Xm,e)?!1:JI.test(e)?Zm[e]=!0:(Xm[e]=!0,!1)}function ZI(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function eT(e,t,n,r){if(t===null||typeof t>"u"||ZI(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ft(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ke[e]=new ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ke[t]=new ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ke[e]=new ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ke[e]=new ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ke[e]=new ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ke[e]=new ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ke[e]=new ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ke[e]=new ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ke[e]=new ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var vp=/[\-:]([a-z])/g;function yp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vp,yp);Ke[t]=new ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vp,yp);Ke[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vp,yp);Ke[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ke[e]=new ft(e,1,!1,e.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ke[e]=new ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function _p(e,t,n,r){var i=Ke.hasOwnProperty(t)?Ke[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(eT(t,n,i,r)&&(n=null),r||i===null?XI(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xn=U_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zl=Symbol.for("react.element"),Fi=Symbol.for("react.portal"),ji=Symbol.for("react.fragment"),wp=Symbol.for("react.strict_mode"),Ih=Symbol.for("react.profiler"),B_=Symbol.for("react.provider"),V_=Symbol.for("react.context"),Ep=Symbol.for("react.forward_ref"),Th=Symbol.for("react.suspense"),kh=Symbol.for("react.suspense_list"),Cp=Symbol.for("react.memo"),rr=Symbol.for("react.lazy"),z_=Symbol.for("react.offscreen"),e0=Symbol.iterator;function Vs(e){return e===null||typeof e!="object"?null:(e=e0&&e[e0]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,ud;function io(e){if(ud===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ud=t&&t[1]||""}return`
`+ud+e}var cd=!1;function dd(e,t){if(!e||cd)return"";cd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{cd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?io(e):""}function tT(e){switch(e.tag){case 5:return io(e.type);case 16:return io("Lazy");case 13:return io("Suspense");case 19:return io("SuspenseList");case 0:case 2:case 15:return e=dd(e.type,!1),e;case 11:return e=dd(e.type.render,!1),e;case 1:return e=dd(e.type,!0),e;default:return""}}function Ah(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ji:return"Fragment";case Fi:return"Portal";case Ih:return"Profiler";case wp:return"StrictMode";case Th:return"Suspense";case kh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case V_:return(e.displayName||"Context")+".Consumer";case B_:return(e._context.displayName||"Context")+".Provider";case Ep:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cp:return t=e.displayName||null,t!==null?t:Ah(e.type)||"Memo";case rr:t=e._payload,e=e._init;try{return Ah(e(t))}catch{}}return null}function nT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ah(t);case 8:return t===wp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function W_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rT(e){var t=W_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ea(e){e._valueTracker||(e._valueTracker=rT(e))}function H_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ba(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rh(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function t0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Rr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function G_(e,t){t=t.checked,t!=null&&_p(e,"checked",t,!1)}function Nh(e,t){G_(e,t);var n=Rr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xh(e,t.type,n):t.hasOwnProperty("defaultValue")&&xh(e,t.type,Rr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function n0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xh(e,t,n){(t!=="number"||Ba(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var so=Array.isArray;function es(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Rr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ph(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(k(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function r0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(k(92));if(so(n)){if(1<n.length)throw Error(k(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Rr(n)}}function K_(e,t){var n=Rr(t.value),r=Rr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function i0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function q_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?q_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ta,Y_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ta=ta||document.createElement("div"),ta.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ta.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iT=["Webkit","ms","Moz","O"];Object.keys(go).forEach(function(e){iT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),go[t]=go[e]})});function Q_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||go.hasOwnProperty(e)&&go[e]?(""+t).trim():t+"px"}function J_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Q_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var sT=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dh(e,t){if(t){if(sT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(k(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(k(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(k(61))}if(t.style!=null&&typeof t.style!="object")throw Error(k(62))}}function bh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lh=null;function Sp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mh=null,ts=null,ns=null;function s0(e){if(e=Il(e)){if(typeof Mh!="function")throw Error(k(280));var t=e.stateNode;t&&(t=oc(t),Mh(e.stateNode,e.type,t))}}function X_(e){ts?ns?ns.push(e):ns=[e]:ts=e}function Z_(){if(ts){var e=ts,t=ns;if(ns=ts=null,s0(e),t)for(e=0;e<t.length;e++)s0(t[e])}}function e1(e,t){return e(t)}function t1(){}var hd=!1;function n1(e,t,n){if(hd)return e(t,n);hd=!0;try{return e1(e,t,n)}finally{hd=!1,(ts!==null||ns!==null)&&(t1(),Z_())}}function Do(e,t){var n=e.stateNode;if(n===null)return null;var r=oc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(k(231,t,typeof n));return n}var Fh=!1;if(Wn)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){Fh=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{Fh=!1}function oT(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var mo=!1,Va=null,za=!1,jh=null,lT={onError:function(e){mo=!0,Va=e}};function aT(e,t,n,r,i,s,o,l,a){mo=!1,Va=null,oT.apply(lT,arguments)}function uT(e,t,n,r,i,s,o,l,a){if(aT.apply(this,arguments),mo){if(mo){var u=Va;mo=!1,Va=null}else throw Error(k(198));za||(za=!0,jh=u)}}function Ti(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function r1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function o0(e){if(Ti(e)!==e)throw Error(k(188))}function cT(e){var t=e.alternate;if(!t){if(t=Ti(e),t===null)throw Error(k(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return o0(i),e;if(s===r)return o0(i),t;s=s.sibling}throw Error(k(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?e:t}function i1(e){return e=cT(e),e!==null?s1(e):null}function s1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=s1(e);if(t!==null)return t;e=e.sibling}return null}var o1=bt.unstable_scheduleCallback,l0=bt.unstable_cancelCallback,dT=bt.unstable_shouldYield,hT=bt.unstable_requestPaint,Ce=bt.unstable_now,fT=bt.unstable_getCurrentPriorityLevel,Ip=bt.unstable_ImmediatePriority,l1=bt.unstable_UserBlockingPriority,Wa=bt.unstable_NormalPriority,pT=bt.unstable_LowPriority,a1=bt.unstable_IdlePriority,nc=null,Sn=null;function gT(e){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(nc,e,void 0,(e.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:yT,mT=Math.log,vT=Math.LN2;function yT(e){return e>>>=0,e===0?32:31-(mT(e)/vT|0)|0}var na=64,ra=4194304;function oo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ha(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=oo(l):(s&=o,s!==0&&(r=oo(s)))}else o=n&~i,o!==0?r=oo(o):s!==0&&(r=oo(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-un(t),i=1<<n,r|=e[n],t&=~i;return r}function _T(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-un(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=_T(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function Uh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function u1(){var e=na;return na<<=1,!(na&4194240)&&(na=64),e}function fd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Cl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-un(t),e[t]=n}function ET(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-un(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Tp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-un(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var re=0;function c1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var d1,kp,h1,f1,p1,$h=!1,ia=[],pr=null,gr=null,mr=null,bo=new Map,Lo=new Map,sr=[],CT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function a0(e,t){switch(e){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":bo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(t.pointerId)}}function Ws(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Il(t),t!==null&&kp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ST(e,t,n,r,i){switch(t){case"focusin":return pr=Ws(pr,e,t,n,r,i),!0;case"dragenter":return gr=Ws(gr,e,t,n,r,i),!0;case"mouseover":return mr=Ws(mr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return bo.set(s,Ws(bo.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Lo.set(s,Ws(Lo.get(s)||null,e,t,n,r,i)),!0}return!1}function g1(e){var t=Jr(e.target);if(t!==null){var n=Ti(t);if(n!==null){if(t=n.tag,t===13){if(t=r1(n),t!==null){e.blockedOn=t,p1(e.priority,function(){h1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ka(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Lh=r,n.target.dispatchEvent(r),Lh=null}else return t=Il(n),t!==null&&kp(t),e.blockedOn=n,!1;t.shift()}return!0}function u0(e,t,n){ka(e)&&n.delete(t)}function IT(){$h=!1,pr!==null&&ka(pr)&&(pr=null),gr!==null&&ka(gr)&&(gr=null),mr!==null&&ka(mr)&&(mr=null),bo.forEach(u0),Lo.forEach(u0)}function Hs(e,t){e.blockedOn===t&&(e.blockedOn=null,$h||($h=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,IT)))}function Mo(e){function t(i){return Hs(i,e)}if(0<ia.length){Hs(ia[0],e);for(var n=1;n<ia.length;n++){var r=ia[n];r.blockedOn===e&&(r.blockedOn=null)}}for(pr!==null&&Hs(pr,e),gr!==null&&Hs(gr,e),mr!==null&&Hs(mr,e),bo.forEach(t),Lo.forEach(t),n=0;n<sr.length;n++)r=sr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<sr.length&&(n=sr[0],n.blockedOn===null);)g1(n),n.blockedOn===null&&sr.shift()}var rs=Xn.ReactCurrentBatchConfig,Ga=!0;function TT(e,t,n,r){var i=re,s=rs.transition;rs.transition=null;try{re=1,Ap(e,t,n,r)}finally{re=i,rs.transition=s}}function kT(e,t,n,r){var i=re,s=rs.transition;rs.transition=null;try{re=4,Ap(e,t,n,r)}finally{re=i,rs.transition=s}}function Ap(e,t,n,r){if(Ga){var i=Bh(e,t,n,r);if(i===null)Sd(e,t,r,Ka,n),a0(e,r);else if(ST(i,e,t,n,r))r.stopPropagation();else if(a0(e,r),t&4&&-1<CT.indexOf(e)){for(;i!==null;){var s=Il(i);if(s!==null&&d1(s),s=Bh(e,t,n,r),s===null&&Sd(e,t,r,Ka,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Sd(e,t,r,null,n)}}var Ka=null;function Bh(e,t,n,r){if(Ka=null,e=Sp(r),e=Jr(e),e!==null)if(t=Ti(e),t===null)e=null;else if(n=t.tag,n===13){if(e=r1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ka=e,null}function m1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fT()){case Ip:return 1;case l1:return 4;case Wa:case pT:return 16;case a1:return 536870912;default:return 16}default:return 16}}var cr=null,Rp=null,Aa=null;function v1(){if(Aa)return Aa;var e,t=Rp,n=t.length,r,i="value"in cr?cr.value:cr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Aa=i.slice(e,1<r?1-r:void 0)}function Ra(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sa(){return!0}function c0(){return!1}function jt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sa:c0,this.isPropagationStopped=c0,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),t}var Ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Np=jt(Ns),Sl=ye({},Ns,{view:0,detail:0}),AT=jt(Sl),pd,gd,Gs,rc=ye({},Sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gs&&(Gs&&e.type==="mousemove"?(pd=e.screenX-Gs.screenX,gd=e.screenY-Gs.screenY):gd=pd=0,Gs=e),pd)},movementY:function(e){return"movementY"in e?e.movementY:gd}}),d0=jt(rc),RT=ye({},rc,{dataTransfer:0}),NT=jt(RT),xT=ye({},Sl,{relatedTarget:0}),md=jt(xT),PT=ye({},Ns,{animationName:0,elapsedTime:0,pseudoElement:0}),OT=jt(PT),DT=ye({},Ns,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bT=jt(DT),LT=ye({},Ns,{data:0}),h0=jt(LT),MT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jT[e])?!!t[e]:!1}function xp(){return UT}var $T=ye({},Sl,{key:function(e){if(e.key){var t=MT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ra(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?FT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xp,charCode:function(e){return e.type==="keypress"?Ra(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ra(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),BT=jt($T),VT=ye({},rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f0=jt(VT),zT=ye({},Sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xp}),WT=jt(zT),HT=ye({},Ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),GT=jt(HT),KT=ye({},rc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qT=jt(KT),YT=[9,13,27,32],Pp=Wn&&"CompositionEvent"in window,vo=null;Wn&&"documentMode"in document&&(vo=document.documentMode);var QT=Wn&&"TextEvent"in window&&!vo,y1=Wn&&(!Pp||vo&&8<vo&&11>=vo),p0=" ",g0=!1;function _1(e,t){switch(e){case"keyup":return YT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ui=!1;function JT(e,t){switch(e){case"compositionend":return w1(t);case"keypress":return t.which!==32?null:(g0=!0,p0);case"textInput":return e=t.data,e===p0&&g0?null:e;default:return null}}function XT(e,t){if(Ui)return e==="compositionend"||!Pp&&_1(e,t)?(e=v1(),Aa=Rp=cr=null,Ui=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return y1&&t.locale!=="ko"?null:t.data;default:return null}}var ZT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ZT[e.type]:t==="textarea"}function E1(e,t,n,r){X_(r),t=qa(t,"onChange"),0<t.length&&(n=new Np("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var yo=null,Fo=null;function ek(e){O1(e,0)}function ic(e){var t=Vi(e);if(H_(t))return e}function tk(e,t){if(e==="change")return t}var C1=!1;if(Wn){var vd;if(Wn){var yd="oninput"in document;if(!yd){var v0=document.createElement("div");v0.setAttribute("oninput","return;"),yd=typeof v0.oninput=="function"}vd=yd}else vd=!1;C1=vd&&(!document.documentMode||9<document.documentMode)}function y0(){yo&&(yo.detachEvent("onpropertychange",S1),Fo=yo=null)}function S1(e){if(e.propertyName==="value"&&ic(Fo)){var t=[];E1(t,Fo,e,Sp(e)),n1(ek,t)}}function nk(e,t,n){e==="focusin"?(y0(),yo=t,Fo=n,yo.attachEvent("onpropertychange",S1)):e==="focusout"&&y0()}function rk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ic(Fo)}function ik(e,t){if(e==="click")return ic(t)}function sk(e,t){if(e==="input"||e==="change")return ic(t)}function ok(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hn=typeof Object.is=="function"?Object.is:ok;function jo(e,t){if(hn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Sh.call(t,i)||!hn(e[i],t[i]))return!1}return!0}function _0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function w0(e,t){var n=_0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_0(n)}}function I1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?I1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function T1(){for(var e=window,t=Ba();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ba(e.document)}return t}function Op(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lk(e){var t=T1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&I1(n.ownerDocument.documentElement,n)){if(r!==null&&Op(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=w0(n,s);var o=w0(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ak=Wn&&"documentMode"in document&&11>=document.documentMode,$i=null,Vh=null,_o=null,zh=!1;function E0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zh||$i==null||$i!==Ba(r)||(r=$i,"selectionStart"in r&&Op(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_o&&jo(_o,r)||(_o=r,r=qa(Vh,"onSelect"),0<r.length&&(t=new Np("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=$i)))}function oa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bi={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionend:oa("Transition","TransitionEnd")},_d={},k1={};Wn&&(k1=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function sc(e){if(_d[e])return _d[e];if(!Bi[e])return e;var t=Bi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in k1)return _d[e]=t[n];return e}var A1=sc("animationend"),R1=sc("animationiteration"),N1=sc("animationstart"),x1=sc("transitionend"),P1=new Map,C0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){P1.set(e,t),Ii(t,[e])}for(var wd=0;wd<C0.length;wd++){var Ed=C0[wd],uk=Ed.toLowerCase(),ck=Ed[0].toUpperCase()+Ed.slice(1);Lr(uk,"on"+ck)}Lr(A1,"onAnimationEnd");Lr(R1,"onAnimationIteration");Lr(N1,"onAnimationStart");Lr("dblclick","onDoubleClick");Lr("focusin","onFocus");Lr("focusout","onBlur");Lr(x1,"onTransitionEnd");fs("onMouseEnter",["mouseout","mouseover"]);fs("onMouseLeave",["mouseout","mouseover"]);fs("onPointerEnter",["pointerout","pointerover"]);fs("onPointerLeave",["pointerout","pointerover"]);Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dk=new Set("cancel close invalid load scroll toggle".split(" ").concat(lo));function S0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,uT(r,t,void 0,e),e.currentTarget=null}function O1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;S0(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;S0(i,l,u),s=a}}}if(za)throw e=jh,za=!1,jh=null,e}function ce(e,t){var n=t[qh];n===void 0&&(n=t[qh]=new Set);var r=e+"__bubble";n.has(r)||(D1(t,e,2,!1),n.add(r))}function Cd(e,t,n){var r=0;t&&(r|=4),D1(n,e,r,t)}var la="_reactListening"+Math.random().toString(36).slice(2);function Uo(e){if(!e[la]){e[la]=!0,$_.forEach(function(n){n!=="selectionchange"&&(dk.has(n)||Cd(n,!1,e),Cd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[la]||(t[la]=!0,Cd("selectionchange",!1,t))}}function D1(e,t,n,r){switch(m1(t)){case 1:var i=TT;break;case 4:i=kT;break;default:i=Ap}n=i.bind(null,t,n,e),i=void 0,!Fh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Sd(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Jr(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}n1(function(){var u=s,c=Sp(n),d=[];e:{var h=P1.get(e);if(h!==void 0){var p=Np,v=e;switch(e){case"keypress":if(Ra(n)===0)break e;case"keydown":case"keyup":p=BT;break;case"focusin":v="focus",p=md;break;case"focusout":v="blur",p=md;break;case"beforeblur":case"afterblur":p=md;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=d0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=NT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=WT;break;case A1:case R1:case N1:p=OT;break;case x1:p=GT;break;case"scroll":p=AT;break;case"wheel":p=qT;break;case"copy":case"cut":case"paste":p=bT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=f0}var w=(t&4)!==0,C=!w&&e==="scroll",m=w?h!==null?h+"Capture":null:h;w=[];for(var f=u,g;f!==null;){g=f;var E=g.stateNode;if(g.tag===5&&E!==null&&(g=E,m!==null&&(E=Do(f,m),E!=null&&w.push($o(f,E,g)))),C)break;f=f.return}0<w.length&&(h=new p(h,v,null,n,c),d.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Lh&&(v=n.relatedTarget||n.fromElement)&&(Jr(v)||v[Hn]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?Jr(v):null,v!==null&&(C=Ti(v),v!==C||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(w=d0,E="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=f0,E="onPointerLeave",m="onPointerEnter",f="pointer"),C=p==null?h:Vi(p),g=v==null?h:Vi(v),h=new w(E,f+"leave",p,n,c),h.target=C,h.relatedTarget=g,E=null,Jr(c)===u&&(w=new w(m,f+"enter",v,n,c),w.target=g,w.relatedTarget=C,E=w),C=E,p&&v)t:{for(w=p,m=v,f=0,g=w;g;g=Di(g))f++;for(g=0,E=m;E;E=Di(E))g++;for(;0<f-g;)w=Di(w),f--;for(;0<g-f;)m=Di(m),g--;for(;f--;){if(w===m||m!==null&&w===m.alternate)break t;w=Di(w),m=Di(m)}w=null}else w=null;p!==null&&I0(d,h,p,w,!1),v!==null&&C!==null&&I0(d,C,v,w,!0)}}e:{if(h=u?Vi(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var T=tk;else if(m0(h))if(C1)T=sk;else{T=rk;var x=nk}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=ik);if(T&&(T=T(e,u))){E1(d,T,n,c);break e}x&&x(e,h,u),e==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&xh(h,"number",h.value)}switch(x=u?Vi(u):window,e){case"focusin":(m0(x)||x.contentEditable==="true")&&($i=x,Vh=u,_o=null);break;case"focusout":_o=Vh=$i=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,E0(d,n,c);break;case"selectionchange":if(ak)break;case"keydown":case"keyup":E0(d,n,c)}var O;if(Pp)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ui?_1(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(y1&&n.locale!=="ko"&&(Ui||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ui&&(O=v1()):(cr=c,Rp="value"in cr?cr.value:cr.textContent,Ui=!0)),x=qa(u,A),0<x.length&&(A=new h0(A,e,null,n,c),d.push({event:A,listeners:x}),O?A.data=O:(O=w1(n),O!==null&&(A.data=O)))),(O=QT?JT(e,n):XT(e,n))&&(u=qa(u,"onBeforeInput"),0<u.length&&(c=new h0("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=O))}O1(d,t)})}function $o(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qa(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Do(e,n),s!=null&&r.unshift($o(e,s,i)),s=Do(e,t),s!=null&&r.push($o(e,s,i))),e=e.return}return r}function Di(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function I0(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Do(n,s),a!=null&&o.unshift($o(n,a,l))):i||(a=Do(n,s),a!=null&&o.push($o(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var hk=/\r\n?/g,fk=/\u0000|\uFFFD/g;function T0(e){return(typeof e=="string"?e:""+e).replace(hk,`
`).replace(fk,"")}function aa(e,t,n){if(t=T0(t),T0(e)!==t&&n)throw Error(k(425))}function Ya(){}var Wh=null,Hh=null;function Gh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kh=typeof setTimeout=="function"?setTimeout:void 0,pk=typeof clearTimeout=="function"?clearTimeout:void 0,k0=typeof Promise=="function"?Promise:void 0,gk=typeof queueMicrotask=="function"?queueMicrotask:typeof k0<"u"?function(e){return k0.resolve(null).then(e).catch(mk)}:Kh;function mk(e){setTimeout(function(){throw e})}function Id(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Mo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Mo(t)}function vr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function A0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xs=Math.random().toString(36).slice(2),yn="__reactFiber$"+xs,Bo="__reactProps$"+xs,Hn="__reactContainer$"+xs,qh="__reactEvents$"+xs,vk="__reactListeners$"+xs,yk="__reactHandles$"+xs;function Jr(e){var t=e[yn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hn]||n[yn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=A0(e);e!==null;){if(n=e[yn])return n;e=A0(e)}return t}e=n,n=e.parentNode}return null}function Il(e){return e=e[yn]||e[Hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(k(33))}function oc(e){return e[Bo]||null}var Yh=[],zi=-1;function Mr(e){return{current:e}}function he(e){0>zi||(e.current=Yh[zi],Yh[zi]=null,zi--)}function ae(e,t){zi++,Yh[zi]=e.current,e.current=t}var Nr={},rt=Mr(Nr),yt=Mr(!1),ci=Nr;function ps(e,t){var n=e.type.contextTypes;if(!n)return Nr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _t(e){return e=e.childContextTypes,e!=null}function Qa(){he(yt),he(rt)}function R0(e,t,n){if(rt.current!==Nr)throw Error(k(168));ae(rt,t),ae(yt,n)}function b1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(k(108,nT(e)||"Unknown",i));return ye({},n,r)}function Ja(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nr,ci=rt.current,ae(rt,e),ae(yt,yt.current),!0}function N0(e,t,n){var r=e.stateNode;if(!r)throw Error(k(169));n?(e=b1(e,t,ci),r.__reactInternalMemoizedMergedChildContext=e,he(yt),he(rt),ae(rt,e)):he(yt),ae(yt,n)}var Dn=null,lc=!1,Td=!1;function L1(e){Dn===null?Dn=[e]:Dn.push(e)}function _k(e){lc=!0,L1(e)}function Fr(){if(!Td&&Dn!==null){Td=!0;var e=0,t=re;try{var n=Dn;for(re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Dn=null,lc=!1}catch(i){throw Dn!==null&&(Dn=Dn.slice(e+1)),o1(Ip,Fr),i}finally{re=t,Td=!1}}return null}var Wi=[],Hi=0,Xa=null,Za=0,$t=[],Bt=0,di=null,Ln=1,Mn="";function Hr(e,t){Wi[Hi++]=Za,Wi[Hi++]=Xa,Xa=e,Za=t}function M1(e,t,n){$t[Bt++]=Ln,$t[Bt++]=Mn,$t[Bt++]=di,di=e;var r=Ln;e=Mn;var i=32-un(r)-1;r&=~(1<<i),n+=1;var s=32-un(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ln=1<<32-un(t)+i|n<<i|r,Mn=s+e}else Ln=1<<s|n<<i|r,Mn=e}function Dp(e){e.return!==null&&(Hr(e,1),M1(e,1,0))}function bp(e){for(;e===Xa;)Xa=Wi[--Hi],Wi[Hi]=null,Za=Wi[--Hi],Wi[Hi]=null;for(;e===di;)di=$t[--Bt],$t[Bt]=null,Mn=$t[--Bt],$t[Bt]=null,Ln=$t[--Bt],$t[Bt]=null}var Ot=null,Nt=null,pe=!1,rn=null;function F1(e,t){var n=Wt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function x0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ot=e,Nt=vr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ot=e,Nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=di!==null?{id:Ln,overflow:Mn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ot=e,Nt=null,!0):!1;default:return!1}}function Qh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jh(e){if(pe){var t=Nt;if(t){var n=t;if(!x0(e,t)){if(Qh(e))throw Error(k(418));t=vr(n.nextSibling);var r=Ot;t&&x0(e,t)?F1(r,n):(e.flags=e.flags&-4097|2,pe=!1,Ot=e)}}else{if(Qh(e))throw Error(k(418));e.flags=e.flags&-4097|2,pe=!1,Ot=e}}}function P0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ot=e}function ua(e){if(e!==Ot)return!1;if(!pe)return P0(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gh(e.type,e.memoizedProps)),t&&(t=Nt)){if(Qh(e))throw j1(),Error(k(418));for(;t;)F1(e,t),t=vr(t.nextSibling)}if(P0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Nt=vr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Nt=null}}else Nt=Ot?vr(e.stateNode.nextSibling):null;return!0}function j1(){for(var e=Nt;e;)e=vr(e.nextSibling)}function gs(){Nt=Ot=null,pe=!1}function Lp(e){rn===null?rn=[e]:rn.push(e)}var wk=Xn.ReactCurrentBatchConfig;function tn(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var eu=Mr(null),tu=null,Gi=null,Mp=null;function Fp(){Mp=Gi=tu=null}function jp(e){var t=eu.current;he(eu),e._currentValue=t}function Xh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function is(e,t){tu=e,Mp=Gi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mt=!0),e.firstContext=null)}function Kt(e){var t=e._currentValue;if(Mp!==e)if(e={context:e,memoizedValue:t,next:null},Gi===null){if(tu===null)throw Error(k(308));Gi=e,tu.dependencies={lanes:0,firstContext:e}}else Gi=Gi.next=e;return t}var Xr=null;function Up(e){Xr===null?Xr=[e]:Xr.push(e)}function U1(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Up(t)):(n.next=i.next,i.next=n),t.interleaved=n,Gn(e,r)}function Gn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ir=!1;function $p(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Gn(e,n)}return i=r.interleaved,i===null?(t.next=t,Up(r)):(t.next=i.next,i.next=t),r.interleaved=t,Gn(e,n)}function Na(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tp(e,n)}}function O0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function nu(e,t,n,r){var i=e.updateQueue;ir=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,c=u=a=null,l=s;do{var h=l.lane,p=l.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,w=l;switch(h=t,p=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){d=v.call(p,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,h=typeof v=="function"?v.call(p,d,h):v,h==null)break e;d=ye({},d,h);break e;case 2:ir=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=p,a=d):c=c.next=p,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);fi|=o,e.lanes=o,e.memoizedState=d}}function D0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(k(191,i));i.call(r)}}}var B1=new U_.Component().refs;function Zh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ac={isMounted:function(e){return(e=e._reactInternals)?Ti(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ct(),i=wr(e),s=Bn(r,i);s.payload=t,n!=null&&(s.callback=n),t=yr(e,s,i),t!==null&&(cn(t,e,i,r),Na(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ct(),i=wr(e),s=Bn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=yr(e,s,i),t!==null&&(cn(t,e,i,r),Na(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ct(),r=wr(e),i=Bn(n,r);i.tag=2,t!=null&&(i.callback=t),t=yr(e,i,r),t!==null&&(cn(t,e,r,n),Na(t,e,r))}};function b0(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!jo(n,r)||!jo(i,s):!0}function V1(e,t,n){var r=!1,i=Nr,s=t.contextType;return typeof s=="object"&&s!==null?s=Kt(s):(i=_t(t)?ci:rt.current,r=t.contextTypes,s=(r=r!=null)?ps(e,i):Nr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ac,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function L0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ac.enqueueReplaceState(t,t.state,null)}function ef(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=B1,$p(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Kt(s):(s=_t(t)?ci:rt.current,i.context=ps(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Zh(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ac.enqueueReplaceState(i,i.state,null),nu(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ks(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;l===B1&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,e))}return e}function ca(e,t){throw e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function M0(e){var t=e._init;return t(e._payload)}function z1(e){function t(m,f){if(e){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function i(m,f){return m=Er(m,f),m.index=0,m.sibling=null,m}function s(m,f,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,f,g,E){return f===null||f.tag!==6?(f=Od(g,m.mode,E),f.return=m,f):(f=i(f,g),f.return=m,f)}function a(m,f,g,E){var T=g.type;return T===ji?c(m,f,g.props.children,E,g.key):f!==null&&(f.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===rr&&M0(T)===f.type)?(E=i(f,g.props),E.ref=Ks(m,f,g),E.return=m,E):(E=La(g.type,g.key,g.props,null,m.mode,E),E.ref=Ks(m,f,g),E.return=m,E)}function u(m,f,g,E){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Dd(g,m.mode,E),f.return=m,f):(f=i(f,g.children||[]),f.return=m,f)}function c(m,f,g,E,T){return f===null||f.tag!==7?(f=oi(g,m.mode,E,T),f.return=m,f):(f=i(f,g),f.return=m,f)}function d(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Od(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Zl:return g=La(f.type,f.key,f.props,null,m.mode,g),g.ref=Ks(m,null,f),g.return=m,g;case Fi:return f=Dd(f,m.mode,g),f.return=m,f;case rr:var E=f._init;return d(m,E(f._payload),g)}if(so(f)||Vs(f))return f=oi(f,m.mode,g,null),f.return=m,f;ca(m,f)}return null}function h(m,f,g,E){var T=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return T!==null?null:l(m,f,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zl:return g.key===T?a(m,f,g,E):null;case Fi:return g.key===T?u(m,f,g,E):null;case rr:return T=g._init,h(m,f,T(g._payload),E)}if(so(g)||Vs(g))return T!==null?null:c(m,f,g,E,null);ca(m,g)}return null}function p(m,f,g,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(g)||null,l(f,m,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Zl:return m=m.get(E.key===null?g:E.key)||null,a(f,m,E,T);case Fi:return m=m.get(E.key===null?g:E.key)||null,u(f,m,E,T);case rr:var x=E._init;return p(m,f,g,x(E._payload),T)}if(so(E)||Vs(E))return m=m.get(g)||null,c(f,m,E,T,null);ca(f,E)}return null}function v(m,f,g,E){for(var T=null,x=null,O=f,A=f=0,V=null;O!==null&&A<g.length;A++){O.index>A?(V=O,O=null):V=O.sibling;var G=h(m,O,g[A],E);if(G===null){O===null&&(O=V);break}e&&O&&G.alternate===null&&t(m,O),f=s(G,f,A),x===null?T=G:x.sibling=G,x=G,O=V}if(A===g.length)return n(m,O),pe&&Hr(m,A),T;if(O===null){for(;A<g.length;A++)O=d(m,g[A],E),O!==null&&(f=s(O,f,A),x===null?T=O:x.sibling=O,x=O);return pe&&Hr(m,A),T}for(O=r(m,O);A<g.length;A++)V=p(O,m,A,g[A],E),V!==null&&(e&&V.alternate!==null&&O.delete(V.key===null?A:V.key),f=s(V,f,A),x===null?T=V:x.sibling=V,x=V);return e&&O.forEach(function($){return t(m,$)}),pe&&Hr(m,A),T}function w(m,f,g,E){var T=Vs(g);if(typeof T!="function")throw Error(k(150));if(g=T.call(g),g==null)throw Error(k(151));for(var x=T=null,O=f,A=f=0,V=null,G=g.next();O!==null&&!G.done;A++,G=g.next()){O.index>A?(V=O,O=null):V=O.sibling;var $=h(m,O,G.value,E);if($===null){O===null&&(O=V);break}e&&O&&$.alternate===null&&t(m,O),f=s($,f,A),x===null?T=$:x.sibling=$,x=$,O=V}if(G.done)return n(m,O),pe&&Hr(m,A),T;if(O===null){for(;!G.done;A++,G=g.next())G=d(m,G.value,E),G!==null&&(f=s(G,f,A),x===null?T=G:x.sibling=G,x=G);return pe&&Hr(m,A),T}for(O=r(m,O);!G.done;A++,G=g.next())G=p(O,m,A,G.value,E),G!==null&&(e&&G.alternate!==null&&O.delete(G.key===null?A:G.key),f=s(G,f,A),x===null?T=G:x.sibling=G,x=G);return e&&O.forEach(function(J){return t(m,J)}),pe&&Hr(m,A),T}function C(m,f,g,E){if(typeof g=="object"&&g!==null&&g.type===ji&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Zl:e:{for(var T=g.key,x=f;x!==null;){if(x.key===T){if(T=g.type,T===ji){if(x.tag===7){n(m,x.sibling),f=i(x,g.props.children),f.return=m,m=f;break e}}else if(x.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===rr&&M0(T)===x.type){n(m,x.sibling),f=i(x,g.props),f.ref=Ks(m,x,g),f.return=m,m=f;break e}n(m,x);break}else t(m,x);x=x.sibling}g.type===ji?(f=oi(g.props.children,m.mode,E,g.key),f.return=m,m=f):(E=La(g.type,g.key,g.props,null,m.mode,E),E.ref=Ks(m,f,g),E.return=m,m=E)}return o(m);case Fi:e:{for(x=g.key;f!==null;){if(f.key===x)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(m,f.sibling),f=i(f,g.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=Dd(g,m.mode,E),f.return=m,m=f}return o(m);case rr:return x=g._init,C(m,f,x(g._payload),E)}if(so(g))return v(m,f,g,E);if(Vs(g))return w(m,f,g,E);ca(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(m,f.sibling),f=i(f,g),f.return=m,m=f):(n(m,f),f=Od(g,m.mode,E),f.return=m,m=f),o(m)):n(m,f)}return C}var ms=z1(!0),W1=z1(!1),Tl={},In=Mr(Tl),Vo=Mr(Tl),zo=Mr(Tl);function Zr(e){if(e===Tl)throw Error(k(174));return e}function Bp(e,t){switch(ae(zo,t),ae(Vo,e),ae(In,Tl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Oh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Oh(t,e)}he(In),ae(In,t)}function vs(){he(In),he(Vo),he(zo)}function H1(e){Zr(zo.current);var t=Zr(In.current),n=Oh(t,e.type);t!==n&&(ae(Vo,e),ae(In,n))}function Vp(e){Vo.current===e&&(he(In),he(Vo))}var me=Mr(0);function ru(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kd=[];function zp(){for(var e=0;e<kd.length;e++)kd[e]._workInProgressVersionPrimary=null;kd.length=0}var xa=Xn.ReactCurrentDispatcher,Ad=Xn.ReactCurrentBatchConfig,hi=0,ve=null,Ne=null,be=null,iu=!1,wo=!1,Wo=0,Ek=0;function Xe(){throw Error(k(321))}function Wp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hn(e[n],t[n]))return!1;return!0}function Hp(e,t,n,r,i,s){if(hi=s,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xa.current=e===null||e.memoizedState===null?Tk:kk,e=n(r,i),wo){s=0;do{if(wo=!1,Wo=0,25<=s)throw Error(k(301));s+=1,be=Ne=null,t.updateQueue=null,xa.current=Ak,e=n(r,i)}while(wo)}if(xa.current=su,t=Ne!==null&&Ne.next!==null,hi=0,be=Ne=ve=null,iu=!1,t)throw Error(k(300));return e}function Gp(){var e=Wo!==0;return Wo=0,e}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?ve.memoizedState=be=e:be=be.next=e,be}function qt(){if(Ne===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=be===null?ve.memoizedState:be.next;if(t!==null)be=t,Ne=e;else{if(e===null)throw Error(k(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},be===null?ve.memoizedState=be=e:be=be.next=e}return be}function Ho(e,t){return typeof t=="function"?t(e):t}function Rd(e){var t=qt(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=Ne,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((hi&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,ve.lanes|=c,fi|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,hn(r,t.memoizedState)||(mt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ve.lanes|=s,fi|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Nd(e){var t=qt(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);hn(s,t.memoizedState)||(mt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function G1(){}function K1(e,t){var n=ve,r=qt(),i=t(),s=!hn(r.memoizedState,i);if(s&&(r.memoizedState=i,mt=!0),r=r.queue,Kp(Q1.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,Go(9,Y1.bind(null,n,r,i,t),void 0,null),Fe===null)throw Error(k(349));hi&30||q1(n,t,i)}return i}function q1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Y1(e,t,n,r){t.value=n,t.getSnapshot=r,J1(t)&&X1(e)}function Q1(e,t,n){return n(function(){J1(t)&&X1(e)})}function J1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hn(e,n)}catch{return!0}}function X1(e){var t=Gn(e,1);t!==null&&cn(t,e,1,-1)}function F0(e){var t=vn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e},t.queue=e,e=e.dispatch=Ik.bind(null,ve,e),[t.memoizedState,e]}function Go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Z1(){return qt().memoizedState}function Pa(e,t,n,r){var i=vn();ve.flags|=e,i.memoizedState=Go(1|t,n,void 0,r===void 0?null:r)}function uc(e,t,n,r){var i=qt();r=r===void 0?null:r;var s=void 0;if(Ne!==null){var o=Ne.memoizedState;if(s=o.destroy,r!==null&&Wp(r,o.deps)){i.memoizedState=Go(t,n,s,r);return}}ve.flags|=e,i.memoizedState=Go(1|t,n,s,r)}function j0(e,t){return Pa(8390656,8,e,t)}function Kp(e,t){return uc(2048,8,e,t)}function ew(e,t){return uc(4,2,e,t)}function tw(e,t){return uc(4,4,e,t)}function nw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rw(e,t,n){return n=n!=null?n.concat([e]):null,uc(4,4,nw.bind(null,t,e),n)}function qp(){}function iw(e,t){var n=qt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sw(e,t){var n=qt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ow(e,t,n){return hi&21?(hn(n,t)||(n=u1(),ve.lanes|=n,fi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mt=!0),e.memoizedState=n)}function Ck(e,t){var n=re;re=n!==0&&4>n?n:4,e(!0);var r=Ad.transition;Ad.transition={};try{e(!1),t()}finally{re=n,Ad.transition=r}}function lw(){return qt().memoizedState}function Sk(e,t,n){var r=wr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aw(e))uw(t,n);else if(n=U1(e,t,n,r),n!==null){var i=ct();cn(n,e,r,i),cw(n,t,r)}}function Ik(e,t,n){var r=wr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aw(e))uw(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,hn(l,o)){var a=t.interleaved;a===null?(i.next=i,Up(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=U1(e,t,i,r),n!==null&&(i=ct(),cn(n,e,r,i),cw(n,t,r))}}function aw(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function uw(e,t){wo=iu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tp(e,n)}}var su={readContext:Kt,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},Tk={readContext:Kt,useCallback:function(e,t){return vn().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:j0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Pa(4194308,4,nw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=vn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Sk.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=vn();return e={current:e},t.memoizedState=e},useState:F0,useDebugValue:qp,useDeferredValue:function(e){return vn().memoizedState=e},useTransition:function(){var e=F0(!1),t=e[0];return e=Ck.bind(null,e[1]),vn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ve,i=vn();if(pe){if(n===void 0)throw Error(k(407));n=n()}else{if(n=t(),Fe===null)throw Error(k(349));hi&30||q1(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,j0(Q1.bind(null,r,s,e),[e]),r.flags|=2048,Go(9,Y1.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vn(),t=Fe.identifierPrefix;if(pe){var n=Mn,r=Ln;n=(r&~(1<<32-un(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ek++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kk={readContext:Kt,useCallback:iw,useContext:Kt,useEffect:Kp,useImperativeHandle:rw,useInsertionEffect:ew,useLayoutEffect:tw,useMemo:sw,useReducer:Rd,useRef:Z1,useState:function(){return Rd(Ho)},useDebugValue:qp,useDeferredValue:function(e){var t=qt();return ow(t,Ne.memoizedState,e)},useTransition:function(){var e=Rd(Ho)[0],t=qt().memoizedState;return[e,t]},useMutableSource:G1,useSyncExternalStore:K1,useId:lw,unstable_isNewReconciler:!1},Ak={readContext:Kt,useCallback:iw,useContext:Kt,useEffect:Kp,useImperativeHandle:rw,useInsertionEffect:ew,useLayoutEffect:tw,useMemo:sw,useReducer:Nd,useRef:Z1,useState:function(){return Nd(Ho)},useDebugValue:qp,useDeferredValue:function(e){var t=qt();return Ne===null?t.memoizedState=e:ow(t,Ne.memoizedState,e)},useTransition:function(){var e=Nd(Ho)[0],t=qt().memoizedState;return[e,t]},useMutableSource:G1,useSyncExternalStore:K1,useId:lw,unstable_isNewReconciler:!1};function ys(e,t){try{var n="",r=t;do n+=tT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function xd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function tf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Rk=typeof WeakMap=="function"?WeakMap:Map;function dw(e,t,n){n=Bn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){lu||(lu=!0,hf=r),tf(e,t)},n}function hw(e,t,n){n=Bn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){tf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){tf(e,t),typeof r!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function U0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Rk;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Vk.bind(null,e,t,n),t.then(e,e))}function $0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function B0(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Bn(-1,1),t.tag=2,yr(n,t,1))),n.lanes|=1),e)}var Nk=Xn.ReactCurrentOwner,mt=!1;function ot(e,t,n,r){t.child=e===null?W1(t,null,n,r):ms(t,e.child,n,r)}function V0(e,t,n,r,i){n=n.render;var s=t.ref;return is(t,i),r=Hp(e,t,n,r,s,i),n=Gp(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kn(e,t,i)):(pe&&n&&Dp(t),t.flags|=1,ot(e,t,r,i),t.child)}function z0(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!ng(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,fw(e,t,s,r,i)):(e=La(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:jo,n(o,r)&&e.ref===t.ref)return Kn(e,t,i)}return t.flags|=1,e=Er(s,r),e.ref=t.ref,e.return=t,t.child=e}function fw(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(jo(s,r)&&e.ref===t.ref)if(mt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(mt=!0);else return t.lanes=e.lanes,Kn(e,t,i)}return nf(e,t,n,r,i)}function pw(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(qi,kt),kt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ae(qi,kt),kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ae(qi,kt),kt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ae(qi,kt),kt|=r;return ot(e,t,i,n),t.child}function gw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function nf(e,t,n,r,i){var s=_t(n)?ci:rt.current;return s=ps(t,s),is(t,i),n=Hp(e,t,n,r,s,i),r=Gp(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kn(e,t,i)):(pe&&r&&Dp(t),t.flags|=1,ot(e,t,n,i),t.child)}function W0(e,t,n,r,i){if(_t(n)){var s=!0;Ja(t)}else s=!1;if(is(t,i),t.stateNode===null)Oa(e,t),V1(t,n,r),ef(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Kt(u):(u=_t(n)?ci:rt.current,u=ps(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&L0(t,o,r,u),ir=!1;var h=t.memoizedState;o.state=h,nu(t,r,o,i),a=t.memoizedState,l!==r||h!==a||yt.current||ir?(typeof c=="function"&&(Zh(t,n,c,r),a=t.memoizedState),(l=ir||b0(t,n,l,r,h,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,$1(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:tn(t.type,l),o.props=u,d=t.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Kt(a):(a=_t(n)?ci:rt.current,a=ps(t,a));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==a)&&L0(t,o,r,a),ir=!1,h=t.memoizedState,o.state=h,nu(t,r,o,i);var v=t.memoizedState;l!==d||h!==v||yt.current||ir?(typeof p=="function"&&(Zh(t,n,p,r),v=t.memoizedState),(u=ir||b0(t,n,u,r,h,v,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return rf(e,t,n,r,s,i)}function rf(e,t,n,r,i,s){gw(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&N0(t,n,!1),Kn(e,t,s);r=t.stateNode,Nk.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ms(t,e.child,null,s),t.child=ms(t,null,l,s)):ot(e,t,l,s),t.memoizedState=r.state,i&&N0(t,n,!0),t.child}function mw(e){var t=e.stateNode;t.pendingContext?R0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&R0(e,t.context,!1),Bp(e,t.containerInfo)}function H0(e,t,n,r,i){return gs(),Lp(i),t.flags|=256,ot(e,t,n,r),t.child}var sf={dehydrated:null,treeContext:null,retryLane:0};function of(e){return{baseLanes:e,cachePool:null,transitions:null}}function vw(e,t,n){var r=t.pendingProps,i=me.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ae(me,i&1),e===null)return Jh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=hc(o,r,0,null),e=oi(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=of(n),t.memoizedState=sf,e):Yp(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return xk(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Er(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Er(l,s):(s=oi(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?of(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=sf,r}return s=e.child,e=s.sibling,r=Er(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Yp(e,t){return t=hc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function da(e,t,n,r){return r!==null&&Lp(r),ms(t,e.child,null,n),e=Yp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xk(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=xd(Error(k(422))),da(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=hc({mode:"visible",children:r.children},i,0,null),s=oi(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ms(t,e.child,null,o),t.child.memoizedState=of(o),t.memoizedState=sf,s);if(!(t.mode&1))return da(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(k(419)),r=xd(s,r,void 0),da(e,t,o,r)}if(l=(o&e.childLanes)!==0,mt||l){if(r=Fe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gn(e,i),cn(r,e,i,-1))}return tg(),r=xd(Error(k(421))),da(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=zk.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Nt=vr(i.nextSibling),Ot=t,pe=!0,rn=null,e!==null&&($t[Bt++]=Ln,$t[Bt++]=Mn,$t[Bt++]=di,Ln=e.id,Mn=e.overflow,di=t),t=Yp(t,r.children),t.flags|=4096,t)}function G0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Xh(e.return,t,n)}function Pd(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function yw(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ot(e,t,r.children,n),r=me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&G0(e,n,t);else if(e.tag===19)G0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ae(me,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ru(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Pd(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ru(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Pd(t,!0,n,null,s);break;case"together":Pd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Oa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,n=Er(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Er(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Pk(e,t,n){switch(t.tag){case 3:mw(t),gs();break;case 5:H1(t);break;case 1:_t(t.type)&&Ja(t);break;case 4:Bp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ae(eu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ae(me,me.current&1),t.flags|=128,null):n&t.child.childLanes?vw(e,t,n):(ae(me,me.current&1),e=Kn(e,t,n),e!==null?e.sibling:null);ae(me,me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return yw(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ae(me,me.current),r)break;return null;case 22:case 23:return t.lanes=0,pw(e,t,n)}return Kn(e,t,n)}var _w,lf,ww,Ew;_w=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lf=function(){};ww=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Zr(In.current);var s=null;switch(n){case"input":i=Rh(e,i),r=Rh(e,r),s=[];break;case"select":i=ye({},i,{value:void 0}),r=ye({},r,{value:void 0}),s=[];break;case"textarea":i=Ph(e,i),r=Ph(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ya)}Dh(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Po.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Po.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ce("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Ew=function(e,t,n,r){n!==r&&(t.flags|=4)};function qs(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ok(e,t,n){var r=t.pendingProps;switch(bp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return _t(t.type)&&Qa(),Ze(t),null;case 3:return r=t.stateNode,vs(),he(yt),he(rt),zp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ua(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rn!==null&&(gf(rn),rn=null))),lf(e,t),Ze(t),null;case 5:Vp(t);var i=Zr(zo.current);if(n=t.type,e!==null&&t.stateNode!=null)ww(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(k(166));return Ze(t),null}if(e=Zr(In.current),ua(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[yn]=t,r[Bo]=s,e=(t.mode&1)!==0,n){case"dialog":ce("cancel",r),ce("close",r);break;case"iframe":case"object":case"embed":ce("load",r);break;case"video":case"audio":for(i=0;i<lo.length;i++)ce(lo[i],r);break;case"source":ce("error",r);break;case"img":case"image":case"link":ce("error",r),ce("load",r);break;case"details":ce("toggle",r);break;case"input":t0(r,s),ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ce("invalid",r);break;case"textarea":r0(r,s),ce("invalid",r)}Dh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&aa(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&aa(r.textContent,l,e),i=["children",""+l]):Po.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ce("scroll",r)}switch(n){case"input":ea(r),n0(r,s,!0);break;case"textarea":ea(r),i0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ya)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=q_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[yn]=t,e[Bo]=r,_w(e,t,!1,!1),t.stateNode=e;e:{switch(o=bh(n,r),n){case"dialog":ce("cancel",e),ce("close",e),i=r;break;case"iframe":case"object":case"embed":ce("load",e),i=r;break;case"video":case"audio":for(i=0;i<lo.length;i++)ce(lo[i],e);i=r;break;case"source":ce("error",e),i=r;break;case"img":case"image":case"link":ce("error",e),ce("load",e),i=r;break;case"details":ce("toggle",e),i=r;break;case"input":t0(e,r),i=Rh(e,r),ce("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ye({},r,{value:void 0}),ce("invalid",e);break;case"textarea":r0(e,r),i=Ph(e,r),ce("invalid",e);break;default:i=r}Dh(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?J_(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Y_(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Oo(e,a):typeof a=="number"&&Oo(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Po.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ce("scroll",e):a!=null&&_p(e,s,a,o))}switch(n){case"input":ea(e),n0(e,r,!1);break;case"textarea":ea(e),i0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Rr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?es(e,!!r.multiple,s,!1):r.defaultValue!=null&&es(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ya)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ze(t),null;case 6:if(e&&t.stateNode!=null)Ew(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(k(166));if(n=Zr(zo.current),Zr(In.current),ua(t)){if(r=t.stateNode,n=t.memoizedProps,r[yn]=t,(s=r.nodeValue!==n)&&(e=Ot,e!==null))switch(e.tag){case 3:aa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&aa(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yn]=t,t.stateNode=r}return Ze(t),null;case 13:if(he(me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&Nt!==null&&t.mode&1&&!(t.flags&128))j1(),gs(),t.flags|=98560,s=!1;else if(s=ua(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(k(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(k(317));s[yn]=t}else gs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ze(t),s=!1}else rn!==null&&(gf(rn),rn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?Oe===0&&(Oe=3):tg())),t.updateQueue!==null&&(t.flags|=4),Ze(t),null);case 4:return vs(),lf(e,t),e===null&&Uo(t.stateNode.containerInfo),Ze(t),null;case 10:return jp(t.type._context),Ze(t),null;case 17:return _t(t.type)&&Qa(),Ze(t),null;case 19:if(he(me),s=t.memoizedState,s===null)return Ze(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)qs(s,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ru(e),o!==null){for(t.flags|=128,qs(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ae(me,me.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ce()>_s&&(t.flags|=128,r=!0,qs(s,!1),t.lanes=4194304)}else{if(!r)if(e=ru(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),qs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pe)return Ze(t),null}else 2*Ce()-s.renderingStartTime>_s&&n!==1073741824&&(t.flags|=128,r=!0,qs(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ce(),t.sibling=null,n=me.current,ae(me,r?n&1|2:n&1),t):(Ze(t),null);case 22:case 23:return eg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?kt&1073741824&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),null;case 24:return null;case 25:return null}throw Error(k(156,t.tag))}function Dk(e,t){switch(bp(t),t.tag){case 1:return _t(t.type)&&Qa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vs(),he(yt),he(rt),zp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vp(t),null;case 13:if(he(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(me),null;case 4:return vs(),null;case 10:return jp(t.type._context),null;case 22:case 23:return eg(),null;case 24:return null;default:return null}}var ha=!1,et=!1,bk=typeof WeakSet=="function"?WeakSet:Set,M=null;function Ki(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_e(e,t,r)}else n.current=null}function af(e,t,n){try{n()}catch(r){_e(e,t,r)}}var K0=!1;function Lk(e,t){if(Wh=Ga,e=T1(),Op(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++u===i&&(l=o),h===s&&++c===r&&(a=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hh={focusedElem:e,selectionRange:n},Ga=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,C=v.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:tn(t.type,w),C);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(E){_e(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return v=K0,K0=!1,v}function Eo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&af(t,n,s)}i=i.next}while(i!==r)}}function cc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function uf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Cw(e){var t=e.alternate;t!==null&&(e.alternate=null,Cw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yn],delete t[Bo],delete t[qh],delete t[vk],delete t[yk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sw(e){return e.tag===5||e.tag===3||e.tag===4}function q0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ya));else if(r!==4&&(e=e.child,e!==null))for(cf(e,t,n),e=e.sibling;e!==null;)cf(e,t,n),e=e.sibling}function df(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(df(e,t,n),e=e.sibling;e!==null;)df(e,t,n),e=e.sibling}var Be=null,nn=!1;function tr(e,t,n){for(n=n.child;n!==null;)Iw(e,t,n),n=n.sibling}function Iw(e,t,n){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(nc,n)}catch{}switch(n.tag){case 5:et||Ki(n,t);case 6:var r=Be,i=nn;Be=null,tr(e,t,n),Be=r,nn=i,Be!==null&&(nn?(e=Be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(nn?(e=Be,n=n.stateNode,e.nodeType===8?Id(e.parentNode,n):e.nodeType===1&&Id(e,n),Mo(e)):Id(Be,n.stateNode));break;case 4:r=Be,i=nn,Be=n.stateNode.containerInfo,nn=!0,tr(e,t,n),Be=r,nn=i;break;case 0:case 11:case 14:case 15:if(!et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&af(n,t,o),i=i.next}while(i!==r)}tr(e,t,n);break;case 1:if(!et&&(Ki(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){_e(n,t,l)}tr(e,t,n);break;case 21:tr(e,t,n);break;case 22:n.mode&1?(et=(r=et)||n.memoizedState!==null,tr(e,t,n),et=r):tr(e,t,n);break;default:tr(e,t,n)}}function Y0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new bk),t.forEach(function(r){var i=Wk.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function en(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Be=l.stateNode,nn=!1;break e;case 3:Be=l.stateNode.containerInfo,nn=!0;break e;case 4:Be=l.stateNode.containerInfo,nn=!0;break e}l=l.return}if(Be===null)throw Error(k(160));Iw(s,o,i),Be=null,nn=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){_e(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tw(t,e),t=t.sibling}function Tw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(en(t,e),mn(e),r&4){try{Eo(3,e,e.return),cc(3,e)}catch(w){_e(e,e.return,w)}try{Eo(5,e,e.return)}catch(w){_e(e,e.return,w)}}break;case 1:en(t,e),mn(e),r&512&&n!==null&&Ki(n,n.return);break;case 5:if(en(t,e),mn(e),r&512&&n!==null&&Ki(n,n.return),e.flags&32){var i=e.stateNode;try{Oo(i,"")}catch(w){_e(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&G_(i,s),bh(l,o);var u=bh(l,s);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?J_(i,d):c==="dangerouslySetInnerHTML"?Y_(i,d):c==="children"?Oo(i,d):_p(i,c,d,u)}switch(l){case"input":Nh(i,s);break;case"textarea":K_(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?es(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?es(i,!!s.multiple,s.defaultValue,!0):es(i,!!s.multiple,s.multiple?[]:"",!1))}i[Bo]=s}catch(w){_e(e,e.return,w)}}break;case 6:if(en(t,e),mn(e),r&4){if(e.stateNode===null)throw Error(k(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(w){_e(e,e.return,w)}}break;case 3:if(en(t,e),mn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mo(t.containerInfo)}catch(w){_e(e,e.return,w)}break;case 4:en(t,e),mn(e);break;case 13:en(t,e),mn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Xp=Ce())),r&4&&Y0(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(et=(u=et)||c,en(t,e),et=u):en(t,e),mn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(M=e,c=e.child;c!==null;){for(d=M=c;M!==null;){switch(h=M,p=h.child,h.tag){case 0:case 11:case 14:case 15:Eo(4,h,h.return);break;case 1:Ki(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){_e(r,n,w)}}break;case 5:Ki(h,h.return);break;case 22:if(h.memoizedState!==null){J0(d);continue}}p!==null?(p.return=h,M=p):J0(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Q_("display",o))}catch(w){_e(e,e.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){_e(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:en(t,e),mn(e),r&4&&Y0(e);break;case 21:break;default:en(t,e),mn(e)}}function mn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sw(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Oo(i,""),r.flags&=-33);var s=q0(e);df(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=q0(e);cf(e,l,o);break;default:throw Error(k(161))}}catch(a){_e(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mk(e,t,n){M=e,kw(e)}function kw(e,t,n){for(var r=(e.mode&1)!==0;M!==null;){var i=M,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ha;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||et;l=ha;var u=et;if(ha=o,(et=a)&&!u)for(M=i;M!==null;)o=M,a=o.child,o.tag===22&&o.memoizedState!==null?X0(i):a!==null?(a.return=o,M=a):X0(i);for(;s!==null;)M=s,kw(s),s=s.sibling;M=i,ha=l,et=u}Q0(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,M=s):Q0(e)}}function Q0(e){for(;M!==null;){var t=M;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||cc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!et)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:tn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&D0(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}D0(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Mo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}et||t.flags&512&&uf(t)}catch(h){_e(t,t.return,h)}}if(t===e){M=null;break}if(n=t.sibling,n!==null){n.return=t.return,M=n;break}M=t.return}}function J0(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var n=t.sibling;if(n!==null){n.return=t.return,M=n;break}M=t.return}}function X0(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{cc(4,t)}catch(a){_e(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){_e(t,i,a)}}var s=t.return;try{uf(t)}catch(a){_e(t,s,a)}break;case 5:var o=t.return;try{uf(t)}catch(a){_e(t,o,a)}}}catch(a){_e(t,t.return,a)}if(t===e){M=null;break}var l=t.sibling;if(l!==null){l.return=t.return,M=l;break}M=t.return}}var Fk=Math.ceil,ou=Xn.ReactCurrentDispatcher,Qp=Xn.ReactCurrentOwner,Gt=Xn.ReactCurrentBatchConfig,ee=0,Fe=null,Ae=null,We=0,kt=0,qi=Mr(0),Oe=0,Ko=null,fi=0,dc=0,Jp=0,Co=null,gt=null,Xp=0,_s=1/0,On=null,lu=!1,hf=null,_r=null,fa=!1,dr=null,au=0,So=0,ff=null,Da=-1,ba=0;function ct(){return ee&6?Ce():Da!==-1?Da:Da=Ce()}function wr(e){return e.mode&1?ee&2&&We!==0?We&-We:wk.transition!==null?(ba===0&&(ba=u1()),ba):(e=re,e!==0||(e=window.event,e=e===void 0?16:m1(e.type)),e):1}function cn(e,t,n,r){if(50<So)throw So=0,ff=null,Error(k(185));Cl(e,n,r),(!(ee&2)||e!==Fe)&&(e===Fe&&(!(ee&2)&&(dc|=n),Oe===4&&or(e,We)),wt(e,r),n===1&&ee===0&&!(t.mode&1)&&(_s=Ce()+500,lc&&Fr()))}function wt(e,t){var n=e.callbackNode;wT(e,t);var r=Ha(e,e===Fe?We:0);if(r===0)n!==null&&l0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&l0(n),t===1)e.tag===0?_k(Z0.bind(null,e)):L1(Z0.bind(null,e)),gk(function(){!(ee&6)&&Fr()}),n=null;else{switch(c1(r)){case 1:n=Ip;break;case 4:n=l1;break;case 16:n=Wa;break;case 536870912:n=a1;break;default:n=Wa}n=bw(n,Aw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Aw(e,t){if(Da=-1,ba=0,ee&6)throw Error(k(327));var n=e.callbackNode;if(ss()&&e.callbackNode!==n)return null;var r=Ha(e,e===Fe?We:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=uu(e,r);else{t=r;var i=ee;ee|=2;var s=Nw();(Fe!==e||We!==t)&&(On=null,_s=Ce()+500,si(e,t));do try{$k();break}catch(l){Rw(e,l)}while(!0);Fp(),ou.current=s,ee=i,Ae!==null?t=0:(Fe=null,We=0,t=Oe)}if(t!==0){if(t===2&&(i=Uh(e),i!==0&&(r=i,t=pf(e,i))),t===1)throw n=Ko,si(e,0),or(e,r),wt(e,Ce()),n;if(t===6)or(e,r);else{if(i=e.current.alternate,!(r&30)&&!jk(i)&&(t=uu(e,r),t===2&&(s=Uh(e),s!==0&&(r=s,t=pf(e,s))),t===1))throw n=Ko,si(e,0),or(e,r),wt(e,Ce()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(k(345));case 2:Gr(e,gt,On);break;case 3:if(or(e,r),(r&130023424)===r&&(t=Xp+500-Ce(),10<t)){if(Ha(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ct(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kh(Gr.bind(null,e,gt,On),t);break}Gr(e,gt,On);break;case 4:if(or(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-un(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Fk(r/1960))-r,10<r){e.timeoutHandle=Kh(Gr.bind(null,e,gt,On),r);break}Gr(e,gt,On);break;case 5:Gr(e,gt,On);break;default:throw Error(k(329))}}}return wt(e,Ce()),e.callbackNode===n?Aw.bind(null,e):null}function pf(e,t){var n=Co;return e.current.memoizedState.isDehydrated&&(si(e,t).flags|=256),e=uu(e,t),e!==2&&(t=gt,gt=n,t!==null&&gf(t)),e}function gf(e){gt===null?gt=e:gt.push.apply(gt,e)}function jk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!hn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function or(e,t){for(t&=~Jp,t&=~dc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-un(t),r=1<<n;e[n]=-1,t&=~r}}function Z0(e){if(ee&6)throw Error(k(327));ss();var t=Ha(e,0);if(!(t&1))return wt(e,Ce()),null;var n=uu(e,t);if(e.tag!==0&&n===2){var r=Uh(e);r!==0&&(t=r,n=pf(e,r))}if(n===1)throw n=Ko,si(e,0),or(e,t),wt(e,Ce()),n;if(n===6)throw Error(k(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gr(e,gt,On),wt(e,Ce()),null}function Zp(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(_s=Ce()+500,lc&&Fr())}}function pi(e){dr!==null&&dr.tag===0&&!(ee&6)&&ss();var t=ee;ee|=1;var n=Gt.transition,r=re;try{if(Gt.transition=null,re=1,e)return e()}finally{re=r,Gt.transition=n,ee=t,!(ee&6)&&Fr()}}function eg(){kt=qi.current,he(qi)}function si(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,pk(n)),Ae!==null)for(n=Ae.return;n!==null;){var r=n;switch(bp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qa();break;case 3:vs(),he(yt),he(rt),zp();break;case 5:Vp(r);break;case 4:vs();break;case 13:he(me);break;case 19:he(me);break;case 10:jp(r.type._context);break;case 22:case 23:eg()}n=n.return}if(Fe=e,Ae=e=Er(e.current,null),We=kt=t,Oe=0,Ko=null,Jp=dc=fi=0,gt=Co=null,Xr!==null){for(t=0;t<Xr.length;t++)if(n=Xr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Xr=null}return e}function Rw(e,t){do{var n=Ae;try{if(Fp(),xa.current=su,iu){for(var r=ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}iu=!1}if(hi=0,be=Ne=ve=null,wo=!1,Wo=0,Qp.current=null,n===null||n.return===null){Oe=1,Ko=t,Ae=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=We,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=$0(o);if(p!==null){p.flags&=-257,B0(p,o,l,s,t),p.mode&1&&U0(s,u,t),t=p,a=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(a),t.updateQueue=w}else v.add(a);break e}else{if(!(t&1)){U0(s,u,t),tg();break e}a=Error(k(426))}}else if(pe&&l.mode&1){var C=$0(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),B0(C,o,l,s,t),Lp(ys(a,l));break e}}s=a=ys(a,l),Oe!==4&&(Oe=2),Co===null?Co=[s]:Co.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=dw(s,a,t);O0(s,m);break e;case 1:l=a;var f=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(_r===null||!_r.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=hw(s,l,t);O0(s,E);break e}}s=s.return}while(s!==null)}Pw(n)}catch(T){t=T,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(!0)}function Nw(){var e=ou.current;return ou.current=su,e===null?su:e}function tg(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Fe===null||!(fi&268435455)&&!(dc&268435455)||or(Fe,We)}function uu(e,t){var n=ee;ee|=2;var r=Nw();(Fe!==e||We!==t)&&(On=null,si(e,t));do try{Uk();break}catch(i){Rw(e,i)}while(!0);if(Fp(),ee=n,ou.current=r,Ae!==null)throw Error(k(261));return Fe=null,We=0,Oe}function Uk(){for(;Ae!==null;)xw(Ae)}function $k(){for(;Ae!==null&&!dT();)xw(Ae)}function xw(e){var t=Dw(e.alternate,e,kt);e.memoizedProps=e.pendingProps,t===null?Pw(e):Ae=t,Qp.current=null}function Pw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Dk(n,t),n!==null){n.flags&=32767,Ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,Ae=null;return}}else if(n=Ok(n,t,kt),n!==null){Ae=n;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);Oe===0&&(Oe=5)}function Gr(e,t,n){var r=re,i=Gt.transition;try{Gt.transition=null,re=1,Bk(e,t,n,r)}finally{Gt.transition=i,re=r}return null}function Bk(e,t,n,r){do ss();while(dr!==null);if(ee&6)throw Error(k(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(k(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(ET(e,s),e===Fe&&(Ae=Fe=null,We=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fa||(fa=!0,bw(Wa,function(){return ss(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Gt.transition,Gt.transition=null;var o=re;re=1;var l=ee;ee|=4,Qp.current=null,Lk(e,n),Tw(n,e),lk(Hh),Ga=!!Wh,Hh=Wh=null,e.current=n,Mk(n),hT(),ee=l,re=o,Gt.transition=s}else e.current=n;if(fa&&(fa=!1,dr=e,au=i),s=e.pendingLanes,s===0&&(_r=null),gT(n.stateNode),wt(e,Ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(lu)throw lu=!1,e=hf,hf=null,e;return au&1&&e.tag!==0&&ss(),s=e.pendingLanes,s&1?e===ff?So++:(So=0,ff=e):So=0,Fr(),null}function ss(){if(dr!==null){var e=c1(au),t=Gt.transition,n=re;try{if(Gt.transition=null,re=16>e?16:e,dr===null)var r=!1;else{if(e=dr,dr=null,au=0,ee&6)throw Error(k(331));var i=ee;for(ee|=4,M=e.current;M!==null;){var s=M,o=s.child;if(M.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(M=u;M!==null;){var c=M;switch(c.tag){case 0:case 11:case 15:Eo(8,c,s)}var d=c.child;if(d!==null)d.return=c,M=d;else for(;M!==null;){c=M;var h=c.sibling,p=c.return;if(Cw(c),c===u){M=null;break}if(h!==null){h.return=p,M=h;break}M=p}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}M=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,M=o;else e:for(;M!==null;){if(s=M,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Eo(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,M=m;break e}M=s.return}}var f=e.current;for(M=f;M!==null;){o=M;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,M=g;else e:for(o=f;M!==null;){if(l=M,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:cc(9,l)}}catch(T){_e(l,l.return,T)}if(l===o){M=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,M=E;break e}M=l.return}}if(ee=i,Fr(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(nc,e)}catch{}r=!0}return r}finally{re=n,Gt.transition=t}}return!1}function ev(e,t,n){t=ys(n,t),t=dw(e,t,1),e=yr(e,t,1),t=ct(),e!==null&&(Cl(e,1,t),wt(e,t))}function _e(e,t,n){if(e.tag===3)ev(e,e,n);else for(;t!==null;){if(t.tag===3){ev(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_r===null||!_r.has(r))){e=ys(n,e),e=hw(t,e,1),t=yr(t,e,1),e=ct(),t!==null&&(Cl(t,1,e),wt(t,e));break}}t=t.return}}function Vk(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ct(),e.pingedLanes|=e.suspendedLanes&n,Fe===e&&(We&n)===n&&(Oe===4||Oe===3&&(We&130023424)===We&&500>Ce()-Xp?si(e,0):Jp|=n),wt(e,t)}function Ow(e,t){t===0&&(e.mode&1?(t=ra,ra<<=1,!(ra&130023424)&&(ra=4194304)):t=1);var n=ct();e=Gn(e,t),e!==null&&(Cl(e,t,n),wt(e,n))}function zk(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ow(e,n)}function Wk(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(t),Ow(e,n)}var Dw;Dw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||yt.current)mt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return mt=!1,Pk(e,t,n);mt=!!(e.flags&131072)}else mt=!1,pe&&t.flags&1048576&&M1(t,Za,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Oa(e,t),e=t.pendingProps;var i=ps(t,rt.current);is(t,n),i=Hp(null,t,r,e,i,n);var s=Gp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(r)?(s=!0,Ja(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$p(t),i.updater=ac,t.stateNode=i,i._reactInternals=t,ef(t,r,e,n),t=rf(null,t,r,!0,s,n)):(t.tag=0,pe&&s&&Dp(t),ot(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Oa(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Gk(r),e=tn(r,e),i){case 0:t=nf(null,t,r,e,n);break e;case 1:t=W0(null,t,r,e,n);break e;case 11:t=V0(null,t,r,e,n);break e;case 14:t=z0(null,t,r,tn(r.type,e),n);break e}throw Error(k(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tn(r,i),nf(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tn(r,i),W0(e,t,r,i,n);case 3:e:{if(mw(t),e===null)throw Error(k(387));r=t.pendingProps,s=t.memoizedState,i=s.element,$1(e,t),nu(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ys(Error(k(423)),t),t=H0(e,t,r,n,i);break e}else if(r!==i){i=ys(Error(k(424)),t),t=H0(e,t,r,n,i);break e}else for(Nt=vr(t.stateNode.containerInfo.firstChild),Ot=t,pe=!0,rn=null,n=W1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gs(),r===i){t=Kn(e,t,n);break e}ot(e,t,r,n)}t=t.child}return t;case 5:return H1(t),e===null&&Jh(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Gh(r,i)?o=null:s!==null&&Gh(r,s)&&(t.flags|=32),gw(e,t),ot(e,t,o,n),t.child;case 6:return e===null&&Jh(t),null;case 13:return vw(e,t,n);case 4:return Bp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ms(t,null,r,n):ot(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tn(r,i),V0(e,t,r,i,n);case 7:return ot(e,t,t.pendingProps,n),t.child;case 8:return ot(e,t,t.pendingProps.children,n),t.child;case 12:return ot(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ae(eu,r._currentValue),r._currentValue=o,s!==null)if(hn(s.value,o)){if(s.children===i.children&&!yt.current){t=Kn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Bn(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Xh(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(k(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Xh(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ot(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,is(t,n),i=Kt(i),r=r(i),t.flags|=1,ot(e,t,r,n),t.child;case 14:return r=t.type,i=tn(r,t.pendingProps),i=tn(r.type,i),z0(e,t,r,i,n);case 15:return fw(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tn(r,i),Oa(e,t),t.tag=1,_t(r)?(e=!0,Ja(t)):e=!1,is(t,n),V1(t,r,i),ef(t,r,i,n),rf(null,t,r,!0,e,n);case 19:return yw(e,t,n);case 22:return pw(e,t,n)}throw Error(k(156,t.tag))};function bw(e,t){return o1(e,t)}function Hk(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,n,r){return new Hk(e,t,n,r)}function ng(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gk(e){if(typeof e=="function")return ng(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ep)return 11;if(e===Cp)return 14}return 2}function Er(e,t){var n=e.alternate;return n===null?(n=Wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function La(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")ng(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ji:return oi(n.children,i,s,t);case wp:o=8,i|=8;break;case Ih:return e=Wt(12,n,t,i|2),e.elementType=Ih,e.lanes=s,e;case Th:return e=Wt(13,n,t,i),e.elementType=Th,e.lanes=s,e;case kh:return e=Wt(19,n,t,i),e.elementType=kh,e.lanes=s,e;case z_:return hc(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B_:o=10;break e;case V_:o=9;break e;case Ep:o=11;break e;case Cp:o=14;break e;case rr:o=16,r=null;break e}throw Error(k(130,e==null?e:typeof e,""))}return t=Wt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function oi(e,t,n,r){return e=Wt(7,e,r,t),e.lanes=n,e}function hc(e,t,n,r){return e=Wt(22,e,r,t),e.elementType=z_,e.lanes=n,e.stateNode={isHidden:!1},e}function Od(e,t,n){return e=Wt(6,e,null,t),e.lanes=n,e}function Dd(e,t,n){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kk(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fd(0),this.expirationTimes=fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function rg(e,t,n,r,i,s,o,l,a){return e=new Kk(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Wt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$p(s),e}function qk(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lw(e){if(!e)return Nr;e=e._reactInternals;e:{if(Ti(e)!==e||e.tag!==1)throw Error(k(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(k(171))}if(e.tag===1){var n=e.type;if(_t(n))return b1(e,n,t)}return t}function Mw(e,t,n,r,i,s,o,l,a){return e=rg(n,r,!0,e,i,s,o,l,a),e.context=Lw(null),n=e.current,r=ct(),i=wr(n),s=Bn(r,i),s.callback=t??null,yr(n,s,i),e.current.lanes=i,Cl(e,i,r),wt(e,r),e}function fc(e,t,n,r){var i=t.current,s=ct(),o=wr(i);return n=Lw(n),t.context===null?t.context=n:t.pendingContext=n,t=Bn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=yr(i,t,o),e!==null&&(cn(e,i,o,s),Na(e,i,o)),o}function cu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ig(e,t){tv(e,t),(e=e.alternate)&&tv(e,t)}function Yk(){return null}var Fw=typeof reportError=="function"?reportError:function(e){console.error(e)};function sg(e){this._internalRoot=e}pc.prototype.render=sg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));fc(e,t,null,null)};pc.prototype.unmount=sg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pi(function(){fc(null,e,null,null)}),t[Hn]=null}};function pc(e){this._internalRoot=e}pc.prototype.unstable_scheduleHydration=function(e){if(e){var t=f1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sr.length&&t!==0&&t<sr[n].priority;n++);sr.splice(n,0,e),n===0&&g1(e)}};function og(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nv(){}function Qk(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=cu(o);s.call(u)}}var o=Mw(t,r,e,0,null,!1,!1,"",nv);return e._reactRootContainer=o,e[Hn]=o.current,Uo(e.nodeType===8?e.parentNode:e),pi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=cu(a);l.call(u)}}var a=rg(e,0,!1,null,null,!1,!1,"",nv);return e._reactRootContainer=a,e[Hn]=a.current,Uo(e.nodeType===8?e.parentNode:e),pi(function(){fc(t,a,n,r)}),a}function mc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=cu(o);l.call(a)}}fc(t,o,e,i)}else o=Qk(n,t,e,i,r);return cu(o)}d1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=oo(t.pendingLanes);n!==0&&(Tp(t,n|1),wt(t,Ce()),!(ee&6)&&(_s=Ce()+500,Fr()))}break;case 13:pi(function(){var r=Gn(e,1);if(r!==null){var i=ct();cn(r,e,1,i)}}),ig(e,1)}};kp=function(e){if(e.tag===13){var t=Gn(e,134217728);if(t!==null){var n=ct();cn(t,e,134217728,n)}ig(e,134217728)}};h1=function(e){if(e.tag===13){var t=wr(e),n=Gn(e,t);if(n!==null){var r=ct();cn(n,e,t,r)}ig(e,t)}};f1=function(){return re};p1=function(e,t){var n=re;try{return re=e,t()}finally{re=n}};Mh=function(e,t,n){switch(t){case"input":if(Nh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oc(r);if(!i)throw Error(k(90));H_(r),Nh(r,i)}}}break;case"textarea":K_(e,n);break;case"select":t=n.value,t!=null&&es(e,!!n.multiple,t,!1)}};e1=Zp;t1=pi;var Jk={usingClientEntryPoint:!1,Events:[Il,Vi,oc,X_,Z_,Zp]},Ys={findFiberByHostInstance:Jr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Xk={bundleType:Ys.bundleType,version:Ys.version,rendererPackageName:Ys.rendererPackageName,rendererConfig:Ys.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=i1(e),e===null?null:e.stateNode},findFiberByHostInstance:Ys.findFiberByHostInstance||Yk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pa.isDisabled&&pa.supportsFiber)try{nc=pa.inject(Xk),Sn=pa}catch{}}Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jk;Ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!og(t))throw Error(k(200));return qk(e,t,null,n)};Ft.createRoot=function(e,t){if(!og(e))throw Error(k(299));var n=!1,r="",i=Fw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=rg(e,1,!1,null,null,n,!1,r,i),e[Hn]=t.current,Uo(e.nodeType===8?e.parentNode:e),new sg(t)};Ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=i1(t),e=e===null?null:e.stateNode,e};Ft.flushSync=function(e){return pi(e)};Ft.hydrate=function(e,t,n){if(!gc(t))throw Error(k(200));return mc(null,e,t,!0,n)};Ft.hydrateRoot=function(e,t,n){if(!og(e))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Fw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Mw(t,null,e,1,n??null,i,!1,s,o),e[Hn]=t.current,Uo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new pc(t)};Ft.render=function(e,t,n){if(!gc(t))throw Error(k(200));return mc(null,e,t,!1,n)};Ft.unmountComponentAtNode=function(e){if(!gc(e))throw Error(k(40));return e._reactRootContainer?(pi(function(){mc(null,null,e,!1,function(){e._reactRootContainer=null,e[Hn]=null})}),!0):!1};Ft.unstable_batchedUpdates=Zp;Ft.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!gc(n))throw Error(k(200));if(e==null||e._reactInternals===void 0)throw Error(k(38));return mc(e,t,n,!1,r)};Ft.version="18.2.0-next-9e3b772b8-20220608";function jw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jw)}catch(e){console.error(e)}}jw(),M_.exports=Ft;var Zk=M_.exports,rv=Zk;Ch.createRoot=rv.createRoot,Ch.hydrateRoot=rv.hydrateRoot;const Uw="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='-5.5%200%2026%2026'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xmlns:sketch='http://www.bohemiancoding.com/sketch/ns'%20fill='%23000000'%20stroke='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3echevron-right%3c/title%3e%3cdesc%3eCreated%20with%20Sketch%20Beta.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%20sketch:type='MSPage'%3e%3cg%20id='Icon-Set-Filled'%20sketch:type='MSLayerGroup'%20transform='translate(-474.000000,%20-1196.000000)'%20fill='%23ffffff'%3e%3cpath%20d='M488.404,1207.36%20L477.637,1197.6%20C476.806,1196.76%20475.459,1196.76%20474.629,1197.6%20C473.798,1198.43%20473.798,1199.77%20474.629,1200.6%20L483.885,1209%20L474.629,1217.4%20C473.798,1218.23%20473.798,1219.57%20474.629,1220.4%20C475.459,1221.24%20476.806,1221.24%20477.637,1220.4%20L488.404,1210.64%20C488.854,1210.19%20489.052,1209.59%20489.015,1209%20C489.052,1208.41%20488.854,1207.81%20488.404,1207.36'%20id='chevron-right'%20sketch:type='MSShapeGroup'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",$w="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='-5.5%200%2026%2026'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xmlns:sketch='http://www.bohemiancoding.com/sketch/ns'%3e%3ctitle%3echevron-right%3c/title%3e%3cdesc%3eCreated%20with%20Sketch%20Beta.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%20sketch:type='MSPage'%3e%3cg%20id='Icon-Set-Filled'%20sketch:type='MSLayerGroup'%20transform='translate(-474.000000,%20-1196.000000)'%20fill='%23000000'%3e%3cpath%20d='M488.404,1207.36%20L477.637,1197.6%20C476.806,1196.76%20475.459,1196.76%20474.629,1197.6%20C473.798,1198.43%20473.798,1199.77%20474.629,1200.6%20L483.885,1209%20L474.629,1217.4%20C473.798,1218.23%20473.798,1219.57%20474.629,1220.4%20C475.459,1221.24%20476.806,1221.24%20477.637,1220.4%20L488.404,1210.64%20C488.854,1210.19%20489.052,1209.59%20489.015,1209%20C489.052,1208.41%20488.854,1207.81%20488.404,1207.36'%20id='chevron-right'%20sketch:type='MSShapeGroup'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/svg%3e",eA="data:image/svg+xml,%3csvg%20width='84'%20height='80'%20viewBox='0%200%2084%2080'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20y='36.0624'%20width='51'%20height='11'%20transform='rotate(-45%200%2036.0624)'%20fill='%2306CBAD'/%3e%3crect%20x='75.4827'%20y='44.2609'%20width='51'%20height='11'%20transform='rotate(-135%2075.4827%2044.2609)'%20fill='%23866BFA'/%3e%3crect%20x='36.0625'%20y='79.8406'%20width='51'%20height='11'%20transform='rotate(-135%2036.0625%2079.8406)'%20fill='%23FD456B'/%3e%3crect%20x='79.8406'%20y='43.7782'%20width='51'%20height='11'%20transform='rotate(135%2079.8406%2043.7782)'%20fill='%23F5CC00'/%3e%3c/svg%3e",Bw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFkAAABZCAYAAABVC4ivAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAcaSURBVHgB7Z1pjBRFFMf/KOKB4dogoqLrFQ8UlfVA8YjGKyofjBrFCMQjGq8Y7wOFRPCjkZhoPKLfNJpoEGMiKrpeRMTghTfKrByiAQ/QVVbB5f2p7c0wOzv1qqe6u3qmf8k/fKCmt/ptTdWrV+/VDkDY7Ck6TjRCNEY0UrSTaLPoL9EaUUfPv0tEf6PAynDR+aI5opWibgf9I2oXzRAdjYI+jBY9JloBN8P2p/9Fi0RXiHZAk7O36FGYr393QvpSdLVoAJqQG0S/IznjVup90SFoEvYQLUB6xi3Xv6Lb0eAcIVqFbAxcrkdEu6IBOV60HtkbONKboh3RQJwJs+KHYuBIr4qGIWHSWHEPE82H2Vi48qvodRgP4VOYqYabkIEwPvWBogmicaITRNvBnZdEl4i6kFO4yJXgNro2wYywi0TbQ89eMItaB9xH9CzkmOfg9rIfiU5DfewiukW0weHnciqbiBxyDdxGL0ehz+mrFWbXp+0D4x8jkCPY2bXQvRyDOqcjGQaJnobe0A8iR8yE7qW44zsRyfOUsj/8Ro1CDmBIkqPT9kKdorORHi9AZ+jnkQNuRJgreovoZ9j79YdodwQMA+ol2F9kKdzcM1+cAd0AuAcBQ/dL8xL1umlxoffyIuz9a0fAPAD7C3yIbJkI3QLYgkDhOZvtBaYhez6BvZ9XwhNx9vr9wdjEWEubdaJ5yJ5nFG3GwRO+jWwLHX4Ns3pnjWbK2h+e8GnkkYo2nyEMPofZCNXiYHja5vs08r6KNksQBjw8+NHShnHmIfCATyNrgt+rEA4/Wf5/MExEr258Gnmgos0mhMNvlv8f1KO68WlkzclCSGdqtkFBN24zPODTyH8q2oxGONjiE13wdCTl08i2OY4cgDBg3GQ/SxueJW6AB3wauaRoE0oi4D4w54+1oPcR3EjmyfJ/ljaHwkTqsuZU2OfkL+AJ39PFSksbBvRDOLA8T9FmGQKFGZq2wMuzyJZWmJw4Wz8nIFCYK6EJI3qLC8TgXtj7yFGs8fszgbukjbC/hCYKlgT0KDph798TCJyHoRvN5yB95sHeNya6HInAYX4ajWh7GR5qjkF63AHd0dg7yAk8Vte80GKkkFUpTIK+ZCLNNIW6YCZnt1IMfw5HckyGPi96EXIG8yq0hv4WJkjuE3oHzAHRTF0Ut9AHIWfwpOR76A3NWMHN8BOpY4xEs8iVawZyyjEwW22Xl+UvhiVhcQLmPMh9CO4la5wmcl2Cdi10O6xKcZv+pOhimATvajAswKATR+GCmD9neY3n54r74P7ylVot+hjGxfoAZh7vqvOZrIA9HA3EbNRvaJ9i/nSW2/vEuAthGLiEFA3sM9Rpg7s7ulUhVBnRb2bh5mA0CCySZIFOnEUpaXGevxVhnT06wVWf2+sQiyQr9QtMYVCwmZyVcIv8OMzpdejGrRTduSkI3GeeinjFiiGJ3zwWa6YZIVTBBW0u8jE1aMXT6inwgI+vBZ15zr0+Luyg5/EDTAiUGaAsYOQpOBcoxp8Z32DAh14RU6gYH2FJGOsGW3r6wK38eOiyTG3Q2Nym34kMU8xY6LIO9Y0Ybgp4msKCSW5vfZytMe7RJrpK9Bp0R2K1xCL6JMOx/cJ0f815WTXxc3TrTkI6B5a8QIRBp6+A2IbmopiaoTnFXId4HeWonYWMRkUPJ8OEQV2jg1QHdHnYdXN9jA7y68rKqN0QDixzY6DJ1dDfIeFiyskxOvUyzHFUiDDxkHfHMazq8k5M4UrExeNC4nLFGEc7p5WdET6tML6xi6Ffgack8QhWNq126AAXiTbkC3ok0+Fm6DnwiMtvmYWIIc29rlwKfUiAm69J8MBM6A3cDk8VQxnDZEPt4s5Fva4oHrOBNHdXUHT6G+k+TOYwaxfEuaiD+cof8g1yFCZ0gN6UdkSfixhcpnw4F8SGOO3tBwb1NXYowfFqSiaYaBNTssjOTBNOgdqF/zY4MFX50NloDhgG0Fytw2CZ6lJsOtiaUdyBbGMQaTMNuoE33efDLkdzwcHHGxg1a5Q1n+9dxYPeQ3NeX34KdKc/F9R6SJvyIbHclQaBAXybfWreTnO/4gFL0dycBbuN6FtXDYfyhGKZ4gE3oaAEu53urvbBoxQfZBJII8Qm6kWzQemdMspz4Y6FnYXwVDmfcxhu2Ghpw5vJ+7i4ml3NhSggPFF5G3Z7bd0NRyOZ7pjtil1+6A0UEJZLLFa023pPXmRk/nkgW3CDl/evR0HEW4o2XOd6jawpc12IgnK4abNlFTGvpNfI42GnMPK28DDDtmdgCHhYZGRNoWIotxOGhObikbGRkTUXMK1AQSVrFG1GRUbWXN9VLHp9Wa5oMyQysq1AJfpzFgXbormmrSUysu2Gq7UoqIbGLkMjI9vSjTpRUA3NFDq0fMdXCy93VjYgmsGXh1zA/LMFVZZvx993EP4AAAAASUVORK5CYII=",iv="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20stroke='%23ffff'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6%203C4.34315%203%203%204.34315%203%206V18C3%2019.6569%204.34315%2021%206%2021H17C17.5523%2021%2018%2020.5523%2018%2020C18%2019.4477%2017.5523%2019%2017%2019H6C5.44772%2019%205%2018.5523%205%2018V6C5%205.44772%205.44772%205%206%205H17C17.5523%205%2018%204.55228%2018%204C18%203.44772%2017.5523%203%2017%203H6ZM15.7071%207.29289C15.3166%206.90237%2014.6834%206.90237%2014.2929%207.29289C13.9024%207.68342%2013.9024%208.31658%2014.2929%208.70711L16.5858%2011H8C7.44772%2011%207%2011.4477%207%2012C7%2012.5523%207.44772%2013%208%2013H16.5858L14.2929%2015.2929C13.9024%2015.6834%2013.9024%2016.3166%2014.2929%2016.7071C14.6834%2017.0976%2015.3166%2017.0976%2015.7071%2016.7071L19.7071%2012.7071C20.0976%2012.3166%2020.0976%2011.6834%2019.7071%2011.2929L15.7071%207.29289Z'%20fill='%23ffff'/%3e%3c/g%3e%3c/svg%3e",sv="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6%203C4.34315%203%203%204.34315%203%206V18C3%2019.6569%204.34315%2021%206%2021H17C17.5523%2021%2018%2020.5523%2018%2020C18%2019.4477%2017.5523%2019%2017%2019H6C5.44772%2019%205%2018.5523%205%2018V6C5%205.44772%205.44772%205%206%205H17C17.5523%205%2018%204.55228%2018%204C18%203.44772%2017.5523%203%2017%203H6ZM15.7071%207.29289C15.3166%206.90237%2014.6834%206.90237%2014.2929%207.29289C13.9024%207.68342%2013.9024%208.31658%2014.2929%208.70711L16.5858%2011H8C7.44772%2011%207%2011.4477%207%2012C7%2012.5523%207.44772%2013%208%2013H16.5858L14.2929%2015.2929C13.9024%2015.6834%2013.9024%2016.3166%2014.2929%2016.7071C14.6834%2017.0976%2015.3166%2017.0976%2015.7071%2016.7071L19.7071%2012.7071C20.0976%2012.3166%2020.0976%2011.6834%2019.7071%2011.2929L15.7071%207.29289Z'%20fill='%23000000'/%3e%3c/svg%3e";/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qo.apply(this,arguments)}var hr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hr||(hr={}));const ov="popstate";function tA(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:l}=r.location;return mf("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:du(i)}return rA(t,n,null,e)}function Se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nA(){return Math.random().toString(36).substr(2,8)}function lv(e,t){return{usr:e.state,key:e.key,idx:t}}function mf(e,t,n,r){return n===void 0&&(n=null),qo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ps(t):t,{state:n,key:t&&t.key||r||nA()})}function du(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ps(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function rA(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=hr.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(qo({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){l=hr.Pop;let C=c(),m=C==null?null:C-u;u=C,a&&a({action:l,location:w.location,delta:m})}function h(C,m){l=hr.Push;let f=mf(w.location,C,m);n&&n(f,C),u=c()+1;let g=lv(f,u),E=w.createHref(f);try{o.pushState(g,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(E)}s&&a&&a({action:l,location:w.location,delta:1})}function p(C,m){l=hr.Replace;let f=mf(w.location,C,m);n&&n(f,C),u=c();let g=lv(f,u),E=w.createHref(f);o.replaceState(g,"",E),s&&a&&a({action:l,location:w.location,delta:0})}function v(C){let m=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof C=="string"?C:du(C);return f=f.replace(/ $/,"%20"),Se(m,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,m)}let w={get action(){return l},get location(){return e(i,o)},listen(C){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(ov,d),a=C,()=>{i.removeEventListener(ov,d),a=null}},createHref(C){return t(i,C)},createURL:v,encodeLocation(C){let m=v(C);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:p,go(C){return o.go(C)}};return w}var av;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(av||(av={}));function iA(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Ps(t):t,i=lg(r.pathname||"/",n);if(i==null)return null;let s=zw(e);sA(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let a=vA(i);o=pA(s[l],a)}return o}function zw(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(Se(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=Cr([r,a.relativePath]),c=n.concat(a);s.children&&s.children.length>0&&(Se(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),zw(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:hA(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of Ww(s.path))i(s,o,a)}),t}function Ww(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Ww(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function sA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:fA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oA=/^:[\w-]+$/,lA=3,aA=2,uA=1,cA=10,dA=-2,uv=e=>e==="*";function hA(e,t){let n=e.split("/"),r=n.length;return n.some(uv)&&(r+=dA),t&&(r+=aA),n.filter(i=>!uv(i)).reduce((i,s)=>i+(oA.test(s)?lA:s===""?uA:cA),r)}function fA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function pA(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],a=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=gA({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},u);if(!c)return null;Object.assign(r,c.params);let d=l.route;s.push({params:r,pathname:Cr([i,c.pathname]),pathnameBase:EA(Cr([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Cr([i,c.pathnameBase]))}return s}function gA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=mA(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let w=l[d]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[d];return p&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function mA(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Vw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function vA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function lg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function yA(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ps(e):e;return{pathname:n?n.startsWith("/")?n:_A(n,t):t,search:CA(r),hash:SA(i)}}function _A(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wA(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ag(e,t){let n=wA(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ug(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ps(e):(i=qo({},e),Se(!i.pathname||!i.pathname.includes("?"),bd("?","pathname","search",i)),Se(!i.pathname||!i.pathname.includes("#"),bd("#","pathname","hash",i)),Se(!i.search||!i.search.includes("#"),bd("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}l=d>=0?t[d]:"/"}let a=yA(i,l),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const Cr=e=>e.join("/").replace(/\/\/+/g,"/"),EA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),CA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,SA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function IA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Hw=["post","put","patch","delete"];new Set(Hw);const TA=["get",...Hw];new Set(TA);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yo.apply(this,arguments)}const cg=N.createContext(null),kA=N.createContext(null),jr=N.createContext(null),vc=N.createContext(null),Ur=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Gw=N.createContext(null);function AA(e,t){let{relative:n}=t===void 0?{}:t;Os()||Se(!1);let{basename:r,navigator:i}=N.useContext(jr),{hash:s,pathname:o,search:l}=qw(e,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:Cr([r,o])),i.createHref({pathname:a,search:l,hash:s})}function Os(){return N.useContext(vc)!=null}function kl(){return Os()||Se(!1),N.useContext(vc).location}function Kw(e){N.useContext(jr).static||N.useLayoutEffect(e)}function yc(){let{isDataRoute:e}=N.useContext(Ur);return e?$A():RA()}function RA(){Os()||Se(!1);let e=N.useContext(cg),{basename:t,future:n,navigator:r}=N.useContext(jr),{matches:i}=N.useContext(Ur),{pathname:s}=kl(),o=JSON.stringify(ag(i,n.v7_relativeSplatPath)),l=N.useRef(!1);return Kw(()=>{l.current=!0}),N.useCallback(function(u,c){if(c===void 0&&(c={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let d=ug(u,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Cr([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,o,s,e])}function qw(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=N.useContext(jr),{matches:i}=N.useContext(Ur),{pathname:s}=kl(),o=JSON.stringify(ag(i,r.v7_relativeSplatPath));return N.useMemo(()=>ug(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function NA(e,t){return xA(e,t)}function xA(e,t,n,r){Os()||Se(!1);let{navigator:i}=N.useContext(jr),{matches:s}=N.useContext(Ur),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let u=kl(),c;if(t){var d;let C=typeof t=="string"?Ps(t):t;a==="/"||(d=C.pathname)!=null&&d.startsWith(a)||Se(!1),c=C}else c=u;let h=c.pathname||"/",p=h;if(a!=="/"){let C=a.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(C.length).join("/")}let v=iA(e,{pathname:p}),w=LA(v&&v.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:Cr([a,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?a:Cr([a,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return t&&w?N.createElement(vc.Provider,{value:{location:Yo({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:hr.Pop}},w):w}function PA(){let e=UA(),t=IA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:i},n):null,null)}const OA=N.createElement(PA,null);class DA extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?N.createElement(Ur.Provider,{value:this.props.routeContext},N.createElement(Gw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bA(e){let{routeContext:t,match:n,children:r}=e,i=N.useContext(cg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Ur.Provider,{value:t},r)}function LA(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let c=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id]));c>=0||Se(!1),o=o.slice(0,Math.min(o.length,c+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:p}=n,v=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||v){a=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let p,v=!1,w=null,C=null;n&&(p=l&&d.route.id?l[d.route.id]:void 0,w=d.route.errorElement||OA,a&&(u<0&&h===0?(BA("route-fallback",!1),v=!0,C=null):u===h&&(v=!0,C=d.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,h+1)),f=()=>{let g;return p?g=w:v?g=C:d.route.Component?g=N.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=c,N.createElement(bA,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:g})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?N.createElement(DA,{location:n.location,revalidation:n.revalidation,component:w,error:p,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}var Yw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Yw||{}),hu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(hu||{});function MA(e){let t=N.useContext(cg);return t||Se(!1),t}function FA(e){let t=N.useContext(kA);return t||Se(!1),t}function jA(e){let t=N.useContext(Ur);return t||Se(!1),t}function Qw(e){let t=jA(),n=t.matches[t.matches.length-1];return n.route.id||Se(!1),n.route.id}function UA(){var e;let t=N.useContext(Gw),n=FA(hu.UseRouteError),r=Qw(hu.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function $A(){let{router:e}=MA(Yw.UseNavigateStable),t=Qw(hu.UseNavigateStable),n=N.useRef(!1);return Kw(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Yo({fromRouteId:t},s)))},[e,t])}const cv={};function BA(e,t,n){!t&&!cv[e]&&(cv[e]=!0)}function VA(e){let{to:t,replace:n,state:r,relative:i}=e;Os()||Se(!1);let{future:s,static:o}=N.useContext(jr),{matches:l}=N.useContext(Ur),{pathname:a}=kl(),u=yc(),c=ug(t,ag(l,s.v7_relativeSplatPath),a,i==="path"),d=JSON.stringify(c);return N.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function ao(e){Se(!1)}function zA(e){let{basename:t="/",children:n=null,location:r,navigationType:i=hr.Pop,navigator:s,static:o=!1,future:l}=e;Os()&&Se(!1);let a=t.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:a,navigator:s,static:o,future:Yo({v7_relativeSplatPath:!1},l)}),[a,l,s,o]);typeof r=="string"&&(r=Ps(r));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:v="default"}=r,w=N.useMemo(()=>{let C=lg(c,a);return C==null?null:{location:{pathname:C,search:d,hash:h,state:p,key:v},navigationType:i}},[a,c,d,h,p,v,i]);return w==null?null:N.createElement(jr.Provider,{value:u},N.createElement(vc.Provider,{children:n,value:w}))}function WA(e){let{children:t,location:n}=e;return NA(vf(t),n)}new Promise(()=>{});function vf(e,t){t===void 0&&(t=[]);let n=[];return N.Children.forEach(e,(r,i)=>{if(!N.isValidElement(r))return;let s=[...t,i];if(r.type===N.Fragment){n.push.apply(n,vf(r.props.children,s));return}r.type!==ao&&Se(!1),!r.props.index||!r.props.children||Se(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=vf(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yf.apply(this,arguments)}function HA(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function GA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KA(e,t){return e.button===0&&(!t||t==="_self")&&!GA(e)}const qA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],YA="6";try{window.__reactRouterVersion=YA}catch{}const QA="startTransition",dv=Eh[QA];function JA(e){let{basename:t,children:n,future:r,window:i}=e,s=N.useRef();s.current==null&&(s.current=tA({window:i,v5Compat:!0}));let o=s.current,[l,a]=N.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=N.useCallback(d=>{u&&dv?dv(()=>a(d)):a(d)},[a,u]);return N.useLayoutEffect(()=>o.listen(c),[o,c]),N.createElement(zA,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const XA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jw=N.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:a,to:u,preventScrollReset:c,unstable_viewTransition:d}=t,h=HA(t,qA),{basename:p}=N.useContext(jr),v,w=!1;if(typeof u=="string"&&ZA.test(u)&&(v=u,XA))try{let g=new URL(window.location.href),E=u.startsWith("//")?new URL(g.protocol+u):new URL(u),T=lg(E.pathname,p);E.origin===g.origin&&T!=null?u=T+E.search+E.hash:w=!0}catch{}let C=AA(u,{relative:i}),m=eR(u,{replace:o,state:l,target:a,preventScrollReset:c,relative:i,unstable_viewTransition:d});function f(g){r&&r(g),g.defaultPrevented||m(g)}return N.createElement("a",yf({},h,{href:v||C,onClick:w||s?r:f,ref:n,target:a}))});var hv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(hv||(hv={}));var fv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(fv||(fv={}));function eR(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=t===void 0?{}:t,a=yc(),u=kl(),c=qw(e,{relative:o});return N.useCallback(d=>{if(KA(d,n)){d.preventDefault();let h=r!==void 0?r:du(u)===du(c);a(e,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[u,a,c,r,i,n,e,s,o,l])}var pv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P=function(e,t){if(!e)throw Ds(t)},Ds=function(e){return new Error("Firebase Database ("+Xw.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},tR=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],l=e[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},dg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,l=o?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,c=s>>2,d=(s&3)<<4|l>>4;let h=(l&15)<<2|u>>6,p=u&63;a||(p=64,o||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Zw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):tR(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||u==null||d==null)throw new nR;const h=s<<2|l>>4;if(r.push(h),u!==64){const p=l<<4&240|u>>2;if(r.push(p),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class nR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e2=function(e){const t=Zw(e);return dg.encodeByteArray(t,!0)},fu=function(e){return e2(e).replace(/\./g,"")},pu=function(e){try{return dg.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(e){return t2(void 0,e)}function t2(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!iR(n)||(e[n]=t2(e[n],t[n]));return e}function iR(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=()=>sR().__FIREBASE_DEFAULTS__,lR=()=>{if(typeof process>"u"||typeof pv>"u")return;const e=pv.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},aR=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&pu(e[1]);return t&&JSON.parse(t)},hg=()=>{try{return oR()||lR()||aR()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},n2=e=>{var t,n;return(n=(t=hg())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},uR=e=>{const t=n2(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},r2=()=>{var e;return(e=hg())===null||e===void 0?void 0:e.config},i2=e=>{var t;return(t=hg())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[fu(JSON.stringify(n)),fu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function s2(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function o2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dR(){const e=it();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function l2(){return Xw.NODE_ADMIN===!0}function a2(){try{return typeof indexedDB=="object"}catch{return!1}}function u2(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function hR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="FirebaseError";class pn extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=fR,Object.setPrototypeOf(this,pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ki.prototype.create)}}class ki{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?pR(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new pn(i,l,r)}}function pR(e,t){return e.replace(gR,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const gR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(e){return JSON.parse(e)}function Pe(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Qo(pu(s[0])||""),n=Qo(pu(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},mR=function(e){const t=c2(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},vR=function(e){const t=c2(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ws(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function _f(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function gu(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Jo(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(gv(s)&&gv(o)){if(!Jo(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gv(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function uo(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function co(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=l^s&(o^l),c=1518500249):(u=s^o^l,c=1859775393):d<60?(u=s&o|l&(s|o),c=2400959708):(u=s^o^l,c=3395469782);const h=(i<<5|i>>>27)+u+a+c+r[d]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function _R(e,t){const n=new wR(e,t);return n.subscribe.bind(n)}class wR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ER(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Ld),i.error===void 0&&(i.error=Ld),i.complete===void 0&&(i.complete=Ld);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ER(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Ld(){}function _c(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,P(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},wc=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=1e3,IR=2,TR=4*60*60*1e3,kR=.5;function mv(e,t=SR,n=IR){const r=t*Math.pow(n,e),i=Math.round(kR*r*(Math.random()-.5)*2);return Math.min(TR,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(e){return e&&e._delegate?e._delegate:e}class Yt{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AR=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Al;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(NR(t))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Kr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Kr){return this.instances.has(t)}getOptions(t=Kr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RR(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Kr){return this.component?this.component.multipleInstances?t:Kr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function RR(e){return e===Kr?void 0:e}function NR(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new AR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ne||(ne={}));const PR={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},OR=ne.INFO,DR={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},bR=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=DR[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rl{constructor(t){this.name=t,this._logLevel=OR,this._logHandler=bR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?PR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...t),this._logHandler(this,ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...t),this._logHandler(this,ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...t),this._logHandler(this,ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...t),this._logHandler(this,ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...t),this._logHandler(this,ne.ERROR,...t)}}const LR=(e,t)=>t.some(n=>e instanceof n);let vv,yv;function MR(){return vv||(vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FR(){return yv||(yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d2=new WeakMap,wf=new WeakMap,h2=new WeakMap,Md=new WeakMap,pg=new WeakMap;function jR(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Sr(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&d2.set(n,e)}).catch(()=>{}),pg.set(t,e),t}function UR(e){if(wf.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});wf.set(e,t)}let Ef={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return wf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||h2.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function $R(e){Ef=e(Ef)}function BR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Fd(this),t,...n);return h2.set(r,t.sort?t.sort():[t]),Sr(r)}:FR().includes(e)?function(...t){return e.apply(Fd(this),t),Sr(d2.get(this))}:function(...t){return Sr(e.apply(Fd(this),t))}}function VR(e){return typeof e=="function"?BR(e):(e instanceof IDBTransaction&&UR(e),LR(e,MR())?new Proxy(e,Ef):e)}function Sr(e){if(e instanceof IDBRequest)return jR(e);if(Md.has(e))return Md.get(e);const t=VR(e);return t!==e&&(Md.set(e,t),pg.set(t,e)),t}const Fd=e=>pg.get(e);function zR(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=Sr(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Sr(o.result),a.oldVersion,a.newVersion,Sr(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const WR=["get","getKey","getAll","getAllKeys","count"],HR=["put","add","delete","clear"],jd=new Map;function _v(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(jd.get(t))return jd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=HR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WR.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return jd.set(t,s),s}$R(e=>({...e,get:(t,n,r)=>_v(t,n)||e.get(t,n,r),has:(t,n)=>!!_v(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function KR(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Cf="@firebase/app",wv="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new Rl("@firebase/app"),qR="@firebase/app-compat",YR="@firebase/analytics-compat",QR="@firebase/analytics",JR="@firebase/app-check-compat",XR="@firebase/app-check",ZR="@firebase/auth",eN="@firebase/auth-compat",tN="@firebase/database",nN="@firebase/database-compat",rN="@firebase/functions",iN="@firebase/functions-compat",sN="@firebase/installations",oN="@firebase/installations-compat",lN="@firebase/messaging",aN="@firebase/messaging-compat",uN="@firebase/performance",cN="@firebase/performance-compat",dN="@firebase/remote-config",hN="@firebase/remote-config-compat",fN="@firebase/storage",pN="@firebase/storage-compat",gN="@firebase/firestore",mN="@firebase/firestore-compat",vN="firebase",yN="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="[DEFAULT]",_N={[Cf]:"fire-core",[qR]:"fire-core-compat",[QR]:"fire-analytics",[YR]:"fire-analytics-compat",[XR]:"fire-app-check",[JR]:"fire-app-check-compat",[ZR]:"fire-auth",[eN]:"fire-auth-compat",[tN]:"fire-rtdb",[nN]:"fire-rtdb-compat",[rN]:"fire-fn",[iN]:"fire-fn-compat",[sN]:"fire-iid",[oN]:"fire-iid-compat",[lN]:"fire-fcm",[aN]:"fire-fcm-compat",[uN]:"fire-perf",[cN]:"fire-perf-compat",[dN]:"fire-rc",[hN]:"fire-rc-compat",[fN]:"fire-gcs",[pN]:"fire-gcs-compat",[gN]:"fire-fst",[mN]:"fire-fst-compat","fire-js":"fire-js",[vN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new Map,If=new Map;function wN(e,t){try{e.container.addComponent(t)}catch(n){gi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function fn(e){const t=e.name;if(If.has(t))return gi.debug(`There were multiple attempts to register component ${t}.`),!1;If.set(t,e);for(const n of mu.values())wN(n,e);return!0}function Ai(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ir=new ki("app","Firebase",EN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=yN;function f2(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Sf,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Ir.create("bad-app-name",{appName:String(i)});if(n||(n=r2()),!n)throw Ir.create("no-options");const s=mu.get(i);if(s){if(Jo(n,s.options)&&Jo(r,s.config))return s;throw Ir.create("duplicate-app",{appName:i})}const o=new xR(i);for(const a of If.values())o.addComponent(a);const l=new CN(n,r,o);return mu.set(i,l),l}function gg(e=Sf){const t=mu.get(e);if(!t&&e===Sf&&r2())return f2();if(!t)throw Ir.create("no-app",{appName:e});return t}function Et(e,t,n){var r;let i=(r=_N[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gi.warn(l.join(" "));return}fn(new Yt(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="firebase-heartbeat-database",IN=1,Xo="firebase-heartbeat-store";let Ud=null;function p2(){return Ud||(Ud=zR(SN,IN,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Xo)}}}).catch(e=>{throw Ir.create("idb-open",{originalErrorMessage:e.message})})),Ud}async function TN(e){try{return await(await p2()).transaction(Xo).objectStore(Xo).get(g2(e))}catch(t){if(t instanceof pn)gi.warn(t.message);else{const n=Ir.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});gi.warn(n.message)}}}async function Ev(e,t){try{const r=(await p2()).transaction(Xo,"readwrite");await r.objectStore(Xo).put(t,g2(e)),await r.done}catch(n){if(n instanceof pn)gi.warn(n.message);else{const r=Ir.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gi.warn(r.message)}}}function g2(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=1024,AN=30*24*60*60*1e3;class RN{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Cv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=AN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cv(),{heartbeatsToSend:r,unsentEntries:i}=NN(this._heartbeatsCache.heartbeats),s=fu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Cv(){return new Date().toISOString().substring(0,10)}function NN(e,t=kN){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Sv(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Sv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return a2()?u2().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await TN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ev(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ev(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Sv(e){return fu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(e){fn(new Yt("platform-logger",t=>new GR(t),"PRIVATE")),fn(new Yt("heartbeat",t=>new RN(t),"PRIVATE")),Et(Cf,wv,e),Et(Cf,wv,"esm2017"),Et("fire-js","")}PN("");var ON=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D,mg=mg||{},H=ON||self;function Ec(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Nl(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function DN(e){return Object.prototype.hasOwnProperty.call(e,$d)&&e[$d]||(e[$d]=++bN)}var $d="closure_uid_"+(1e9*Math.random()>>>0),bN=0;function LN(e,t,n){return e.call.apply(e.bind,arguments)}function MN(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function tt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?tt=LN:tt=MN,tt.apply(null,arguments)}function ga(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Ue(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return t.prototype[i].apply(r,o)}}function $r(){this.s=this.s,this.o=this.o}var FN=0;$r.prototype.s=!1;$r.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),FN!=0)&&DN(this)};$r.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const m2=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function vg(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Iv(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ec(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function nt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var jN=function(){if(!H.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{H.addEventListener("test",()=>{},t),H.removeEventListener("test",()=>{},t)}catch{}return e}();function Zo(e){return/^[\s\xa0]*$/.test(e)}function Cc(){var e=H.navigator;return e&&(e=e.userAgent)?e:""}function _n(e){return Cc().indexOf(e)!=-1}function yg(e){return yg[" "](e),e}yg[" "]=function(){};function UN(e,t){var n=Ox;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var $N=_n("Opera"),el=_n("Trident")||_n("MSIE"),v2=_n("Edge"),Tf=v2||el,y2=_n("Gecko")&&!(Cc().toLowerCase().indexOf("webkit")!=-1&&!_n("Edge"))&&!(_n("Trident")||_n("MSIE"))&&!_n("Edge"),BN=Cc().toLowerCase().indexOf("webkit")!=-1&&!_n("Edge");function _2(){var e=H.document;return e?e.documentMode:void 0}e:{var Tv="",Bd=function(){var e=Cc();if(y2)return/rv:([^\);]+)(\)|;)/.exec(e);if(v2)return/Edge\/([\d\.]+)/.exec(e);if(el)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(BN)return/WebKit\/(\S+)/.exec(e);if($N)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Bd&&(Tv=Bd?Bd[1]:""),el){var kv=_2();if(kv!=null&&kv>parseFloat(Tv))break e}}H.document&&el&&_2();function tl(e,t){if(nt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y2){e:{try{yg(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:VN[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&tl.$.h.call(this)}}Ue(tl,nt);var VN={2:"touch",3:"pen",4:"mouse"};tl.prototype.h=function(){tl.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var xl="closure_listenable_"+(1e6*Math.random()|0),zN=0;function WN(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++zN,this.fa=this.ia=!1}function Sc(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function _g(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function HN(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function w2(e){const t={};for(const n in e)t[n]=e[n];return t}const Av="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E2(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<Av.length;s++)n=Av[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ic(e){this.src=e,this.g={},this.h=0}Ic.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Af(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new WN(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function kf(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=m2(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Sc(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Af(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var wg="closure_lm_"+(1e6*Math.random()|0),Vd={};function C2(e,t,n,r,i){if(r&&r.once)return I2(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)C2(e,t[s],n,r,i);return null}return n=Sg(n),e&&e[xl]?e.O(t,n,Nl(r)?!!r.capture:!!r,i):S2(e,t,n,!1,r,i)}function S2(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Nl(i)?!!i.capture:!!i,l=Cg(e);if(l||(e[wg]=l=new Ic(e)),n=l.add(t,n,r,o,s),n.proxy)return n;if(r=GN(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)jN||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(k2(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function GN(){function e(n){return t.call(e.src,e.listener,n)}const t=KN;return e}function I2(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)I2(e,t[s],n,r,i);return null}return n=Sg(n),e&&e[xl]?e.P(t,n,Nl(r)?!!r.capture:!!r,i):S2(e,t,n,!0,r,i)}function T2(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)T2(e,t[s],n,r,i);else r=Nl(r)?!!r.capture:!!r,n=Sg(n),e&&e[xl]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Af(s,n,r,i),-1<n&&(Sc(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Cg(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Af(t,n,r,i)),(n=-1<e?t[e]:null)&&Eg(n))}function Eg(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[xl])kf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(k2(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Cg(t))?(kf(n,e),n.h==0&&(n.src=null,t[wg]=null)):Sc(e)}}}function k2(e){return e in Vd?Vd[e]:Vd[e]="on"+e}function KN(e,t){if(e.fa)e=!0;else{t=new tl(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Eg(e),e=n.call(r,t)}return e}function Cg(e){return e=e[wg],e instanceof Ic?e:null}var zd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sg(e){return typeof e=="function"?e:(e[zd]||(e[zd]=function(t){return e.handleEvent(t)}),e[zd])}function je(){$r.call(this),this.i=new Ic(this),this.S=this,this.J=null}Ue(je,$r);je.prototype[xl]=!0;je.prototype.removeEventListener=function(e,t,n,r){T2(this,e,t,n,r)};function He(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new nt(t,e);else if(t instanceof nt)t.target=t.target||e;else{var i=t;t=new nt(r,e),E2(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ma(o,r,!0,t)&&i}if(o=t.g=e,i=ma(o,r,!0,t)&&i,i=ma(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=ma(o,r,!1,t)&&i}je.prototype.N=function(){if(je.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Sc(n[r]);delete e.g[t],e.h--}}this.J=null};je.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};je.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function ma(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var l=o.listener,a=o.la||o.src;o.ia&&kf(e.i,o),i=l.call(a,r)!==!1&&i}}return i&&!r.defaultPrevented}var Ig=H.JSON.stringify;class qN{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function YN(){var e=Tg;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class QN{constructor(){this.h=this.g=null}add(t,n){const r=A2.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var A2=new qN(()=>new JN,e=>e.reset());class JN{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function XN(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ZN(e){H.setTimeout(()=>{throw e},0)}let nl,rl=!1,Tg=new QN,R2=()=>{const e=H.Promise.resolve(void 0);nl=()=>{e.then(ex)}};var ex=()=>{for(var e;e=YN();){try{e.h.call(e.g)}catch(n){ZN(n)}var t=A2;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}rl=!1};function Tc(e,t){je.call(this),this.h=e||1,this.g=t||H,this.j=tt(this.qb,this),this.l=Date.now()}Ue(Tc,je);D=Tc.prototype;D.ga=!1;D.T=null;D.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),He(this,"tick"),this.ga&&(kg(this),this.start()))}};D.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function kg(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}D.N=function(){Tc.$.N.call(this),kg(this),delete this.g};function Ag(e,t,n){if(typeof e=="function")n&&(e=tt(e,n));else if(e&&typeof e.handleEvent=="function")e=tt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:H.setTimeout(e,t||0)}function N2(e){e.g=Ag(()=>{e.g=null,e.i&&(e.i=!1,N2(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class tx extends $r{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:N2(this)}N(){super.N(),this.g&&(H.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function il(e){$r.call(this),this.h=e,this.g={}}Ue(il,$r);var Rv=[];function x2(e,t,n,r){Array.isArray(n)||(n&&(Rv[0]=n.toString()),n=Rv);for(var i=0;i<n.length;i++){var s=C2(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function P2(e){_g(e.g,function(t,n){this.g.hasOwnProperty(n)&&Eg(t)},e),e.g={}}il.prototype.N=function(){il.$.N.call(this),P2(this)};il.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function kc(){this.g=!0}kc.prototype.Ea=function(){this.g=!1};function nx(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",l=s.split("&"),a=0;a<l.length;a++){var u=l[a].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function rx(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function Yi(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+sx(e,n)+(r?" "+r:"")})}function ix(e,t){e.info(function(){return"TIMEOUT: "+t})}kc.prototype.info=function(){};function sx(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Ig(n)}catch{return t}}var Ls={},Nv=null;function Rg(){return Nv=Nv||new je}Ls.Ta="serverreachability";function O2(e){nt.call(this,Ls.Ta,e)}Ue(O2,nt);function sl(e){const t=Rg();He(t,new O2(t))}Ls.STAT_EVENT="statevent";function D2(e,t){nt.call(this,Ls.STAT_EVENT,e),this.stat=t}Ue(D2,nt);function at(e){const t=Rg();He(t,new D2(t,e))}Ls.Ua="timingevent";function b2(e,t){nt.call(this,Ls.Ua,e),this.size=t}Ue(b2,nt);function Pl(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return H.setTimeout(function(){e()},t)}var Ng={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ox={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xg(){}xg.prototype.h=null;function xv(e){return e.h||(e.h=e.i())}function lx(){}var Ol={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Pg(){nt.call(this,"d")}Ue(Pg,nt);function Og(){nt.call(this,"c")}Ue(Og,nt);var Rf;function Ac(){}Ue(Ac,xg);Ac.prototype.g=function(){return new XMLHttpRequest};Ac.prototype.i=function(){return{}};Rf=new Ac;function Dl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new il(this),this.P=ax,e=Tf?125:void 0,this.V=new Tc(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new L2}function L2(){this.i=null,this.g="",this.h=!1}var ax=45e3,Nf={},vu={};D=Dl.prototype;D.setTimeout=function(e){this.P=e};function xf(e,t,n){e.L=1,e.v=Nc(qn(t)),e.s=n,e.S=!0,M2(e,null)}function M2(e,t){e.G=Date.now(),bl(e),e.A=qn(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),W2(n.i,"t",r),e.C=0,n=e.l.J,e.h=new L2,e.g=dE(e.l,n?t:null,!e.s),0<e.O&&(e.M=new tx(tt(e.Pa,e,e.g),e.O)),x2(e.U,e.g,"readystatechange",e.nb),t=e.I?w2(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),sl(),nx(e.j,e.u,e.A,e.m,e.W,e.s)}D.nb=function(e){e=e.target;const t=this.M;t&&wn(e)==3?t.l():this.Pa(e)};D.Pa=function(e){try{if(e==this.g)e:{const c=wn(this.g);var t=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Tf||this.g&&(this.h.h||this.g.ja()||bv(this.g)))){this.J||c!=4||t==7||(t==8||0>=d?sl(3):sl(2)),Rc(this);var n=this.g.da();this.ca=n;t:if(F2(this)){var r=bv(this.g);e="";var i=r.length,s=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ei(this),Io(this);var o="";break t}this.h.i=new H.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,rx(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,a=this.g;if((l=a.g?a.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zo(l)){var u=l;break t}}u=null}if(n=u)Yi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pf(this,n);else{this.i=!1,this.o=3,at(12),ei(this),Io(this);break e}}this.S?(j2(this,c,o),Tf&&this.i&&c==3&&(x2(this.U,this.V,"tick",this.mb),this.V.start())):(Yi(this.j,this.m,o,null),Pf(this,o)),c==4&&ei(this),this.i&&!this.J&&(c==4?lE(this.l,this):(this.i=!1,bl(this)))}else Nx(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,at(12)):(this.o=0,at(13)),ei(this),Io(this)}}}catch{}finally{}};function F2(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function j2(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=ux(e,n),i==vu){t==4&&(e.o=4,at(14),r=!1),Yi(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Nf){e.o=4,at(15),Yi(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Yi(e.j,e.m,i,null),Pf(e,i);F2(e)&&i!=vu&&i!=Nf&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,at(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),jg(t),t.M=!0,at(11))):(Yi(e.j,e.m,n,"[Invalid Chunked Response]"),ei(e),Io(e))}D.mb=function(){if(this.g){var e=wn(this.g),t=this.g.ja();this.C<t.length&&(Rc(this),j2(this,e,t),this.i&&e!=4&&bl(this))}};function ux(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?vu:(n=Number(t.substring(n,r)),isNaN(n)?Nf:(r+=1,r+n>t.length?vu:(t=t.slice(r,r+n),e.C=r+n,t)))}D.cancel=function(){this.J=!0,ei(this)};function bl(e){e.Y=Date.now()+e.P,U2(e,e.P)}function U2(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Pl(tt(e.lb,e),t)}function Rc(e){e.B&&(H.clearTimeout(e.B),e.B=null)}D.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(ix(this.j,this.A),this.L!=2&&(sl(),at(17)),ei(this),this.o=2,Io(this)):U2(this,this.Y-e)};function Io(e){e.l.H==0||e.J||lE(e.l,e)}function ei(e){Rc(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,kg(e.V),P2(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Pf(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Of(n.i,e))){if(!e.K&&Of(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)wu(n),Dc(n);else break e;Fg(n),at(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Pl(tt(n.ib,n),6e3));if(1>=K2(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ti(n,11)}else if((e.K||n.g==e)&&wu(n),!Zo(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=e.g;if(p){const v=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Dg(s,s.h),s.h=null))}if(r.F){const w=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,de(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=cE(r,r.J?r.pa:null,r.Y),o.K){q2(r.i,o);var l=o,a=r.L;a&&l.setTimeout(a),l.B&&(Rc(l),bl(l)),r.g=o}else sE(r);0<n.j.length&&bc(n)}else u[0]!="stop"&&u[0]!="close"||ti(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ti(n,7):Mg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}sl(4)}catch{}}function cx(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Ec(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function dx(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Ec(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function $2(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Ec(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=dx(e),r=cx(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var B2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hx(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function li(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof li){this.h=e.h,yu(this,e.j),this.s=e.s,this.g=e.g,_u(this,e.m),this.l=e.l;var t=e.i,n=new ol;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Pv(this,n),this.o=e.o}else e&&(t=String(e).match(B2))?(this.h=!1,yu(this,t[1]||"",!0),this.s=ho(t[2]||""),this.g=ho(t[3]||"",!0),_u(this,t[4]),this.l=ho(t[5]||"",!0),Pv(this,t[6]||"",!0),this.o=ho(t[7]||"")):(this.h=!1,this.i=new ol(null,this.h))}li.prototype.toString=function(){var e=[],t=this.j;t&&e.push(fo(t,Ov,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(fo(t,Ov,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(fo(n,n.charAt(0)=="/"?gx:px,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",fo(n,vx)),e.join("")};function qn(e){return new li(e)}function yu(e,t,n){e.j=n?ho(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function _u(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Pv(e,t,n){t instanceof ol?(e.i=t,yx(e.i,e.h)):(n||(t=fo(t,mx)),e.i=new ol(t,e.h))}function de(e,t,n){e.i.set(t,n)}function Nc(e){return de(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ho(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function fo(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,fx),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function fx(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Ov=/[#\/\?@]/g,px=/[#\?:]/g,gx=/[#\?]/g,mx=/[#\?@]/g,vx=/#/g;function ol(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Br(e){e.g||(e.g=new Map,e.h=0,e.i&&hx(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}D=ol.prototype;D.add=function(e,t){Br(this),this.i=null,e=Ms(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function V2(e,t){Br(e),t=Ms(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function z2(e,t){return Br(e),t=Ms(e,t),e.g.has(t)}D.forEach=function(e,t){Br(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};D.ta=function(){Br(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};D.Z=function(e){Br(this);let t=[];if(typeof e=="string")z2(this,e)&&(t=t.concat(this.g.get(Ms(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};D.set=function(e,t){return Br(this),this.i=null,e=Ms(this,e),z2(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};D.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function W2(e,t,n){V2(e,t),0<n.length&&(e.i=null,e.g.set(Ms(e,t),vg(n)),e.h+=n.length)}D.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Ms(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function yx(e,t){t&&!e.j&&(Br(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(V2(this,r),W2(this,i,n))},e)),e.j=t}var _x=class{constructor(e,t){this.g=e,this.map=t}};function H2(e){this.l=e||wx,H.PerformanceNavigationTiming?(e=H.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(H.g&&H.g.Ka&&H.g.Ka()&&H.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wx=10;function G2(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function K2(e){return e.h?1:e.g?e.g.size:0}function Of(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Dg(e,t){e.g?e.g.add(t):e.h=t}function q2(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}H2.prototype.cancel=function(){if(this.i=Y2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Y2(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return vg(e.i)}var Ex=class{stringify(e){return H.JSON.stringify(e,void 0)}parse(e){return H.JSON.parse(e,void 0)}};function Cx(){this.g=new Ex}function Sx(e,t,n){const r=n||"";try{$2(e,function(i,s){let o=i;Nl(i)&&(o=Ig(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ix(e,t){const n=new kc;if(H.Image){const r=new Image;r.onload=ga(va,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ga(va,n,r,"TestLoadImage: error",!1,t),r.onabort=ga(va,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ga(va,n,r,"TestLoadImage: timeout",!1,t),H.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function va(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function xc(e){this.l=e.ec||null,this.j=e.ob||!1}Ue(xc,xg);xc.prototype.g=function(){return new Pc(this.l,this.j)};xc.prototype.i=function(e){return function(){return e}}({});function Pc(e,t){je.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=bg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ue(Pc,je);var bg=0;D=Pc.prototype;D.open=function(e,t){if(this.readyState!=bg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ll(this)};D.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||H).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};D.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ll(this)),this.readyState=bg};D.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ll(this)),this.g&&(this.readyState=3,ll(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof H.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Q2(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function Q2(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}D.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ll(this):ll(this),this.readyState==3&&Q2(this)}};D.Za=function(e){this.g&&(this.response=this.responseText=e,Ll(this))};D.Ya=function(e){this.g&&(this.response=e,Ll(this))};D.ka=function(){this.g&&Ll(this)};function Ll(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ll(e)}D.setRequestHeader=function(e,t){this.v.append(e,t)};D.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};D.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function ll(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Pc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Tx=H.JSON.parse;function Ie(e){je.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=J2,this.L=this.M=!1}Ue(Ie,je);var J2="",kx=/^https?$/i,Ax=["POST","PUT"];D=Ie.prototype;D.Oa=function(e){this.M=e};D.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Rf.g(),this.C=this.u?xv(this.u):xv(Rf),this.g.onreadystatechange=tt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){Dv(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=H.FormData&&e instanceof H.FormData,!(0<=m2(Ax,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{eE(this),0<this.B&&((this.L=Rx(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tt(this.ua,this)):this.A=Ag(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Dv(this,s)}};function Rx(e){return el&&typeof e.timeout=="number"&&e.ontimeout!==void 0}D.ua=function(){typeof mg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,He(this,"timeout"),this.abort(8))};function Dv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,X2(e),Oc(e)}function X2(e){e.F||(e.F=!0,He(e,"complete"),He(e,"error"))}D.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,He(this,"complete"),He(this,"abort"),Oc(this))};D.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Oc(this,!0)),Ie.$.N.call(this)};D.La=function(){this.s||(this.G||this.v||this.l?Z2(this):this.kb())};D.kb=function(){Z2(this)};function Z2(e){if(e.h&&typeof mg<"u"&&(!e.C[1]||wn(e)!=4||e.da()!=2)){if(e.v&&wn(e)==4)Ag(e.La,0,e);else if(He(e,"readystatechange"),wn(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(B2)[1]||null;!i&&H.self&&H.self.location&&(i=H.self.location.protocol.slice(0,-1)),r=!kx.test(i?i.toLowerCase():"")}n=r}if(n)He(e,"complete"),He(e,"success");else{e.m=6;try{var s=2<wn(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",X2(e)}}finally{Oc(e)}}}}function Oc(e,t){if(e.g){eE(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||He(e,"ready");try{n.onreadystatechange=r}catch{}}}function eE(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(H.clearTimeout(e.A),e.A=null)}D.isActive=function(){return!!this.g};function wn(e){return e.g?e.g.readyState:0}D.da=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}};D.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};D.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Tx(t)}};function bv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case J2:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Nx(e){const t={};e=(e.g&&2<=wn(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Zo(e[r]))continue;var n=XN(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}HN(t,function(r){return r.join(", ")})}D.Ia=function(){return this.m};D.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function tE(e){let t="";return _g(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Lg(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tE(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):de(e,t,n))}function Qs(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function nE(e){this.Ga=0,this.j=[],this.l=new kc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Qs("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Qs("baseRetryDelayMs",5e3,e),this.hb=Qs("retryDelaySeedMs",1e4,e),this.eb=Qs("forwardChannelMaxRetries",2,e),this.xa=Qs("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new H2(e&&e.concurrentRequestLimit),this.Ja=new Cx,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}D=nE.prototype;D.ra=8;D.H=1;function Mg(e){if(rE(e),e.H==3){var t=e.W++,n=qn(e.I);if(de(n,"SID",e.K),de(n,"RID",t),de(n,"TYPE","terminate"),Ml(e,n),t=new Dl(e,e.l,t),t.L=2,t.v=Nc(qn(n)),n=!1,H.navigator&&H.navigator.sendBeacon)try{n=H.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&H.Image&&(new Image().src=t.v,n=!0),n||(t.g=dE(t.l,null),t.g.ha(t.v)),t.G=Date.now(),bl(t)}uE(e)}function Dc(e){e.g&&(jg(e),e.g.cancel(),e.g=null)}function rE(e){Dc(e),e.u&&(H.clearTimeout(e.u),e.u=null),wu(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&H.clearTimeout(e.m),e.m=null)}function bc(e){if(!G2(e.i)&&!e.m){e.m=!0;var t=e.Na;nl||R2(),rl||(nl(),rl=!0),Tg.add(t,e),e.C=0}}function xx(e,t){return K2(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Pl(tt(e.Na,e,t),aE(e,e.C)),e.C++,!0)}D.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Dl(this,this.l,e);let s=this.s;if(this.U&&(s?(s=w2(s),E2(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=iE(this,i,t),n=qn(this.I),de(n,"RID",e),de(n,"CVER",22),this.F&&de(n,"X-HTTP-Session-Id",this.F),Ml(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(tE(s)))+"&"+t:this.o&&Lg(n,this.o,s)),Dg(this.i,i),this.bb&&de(n,"TYPE","init"),this.P?(de(n,"$req",t),de(n,"SID","null"),i.aa=!0,xf(i,n,null)):xf(i,n,t),this.H=2}}else this.H==3&&(e?Lv(this,e):this.j.length==0||G2(this.i)||Lv(this))};function Lv(e,t){var n;t?n=t.m:n=e.W++;const r=qn(e.I);de(r,"SID",e.K),de(r,"RID",n),de(r,"AID",e.V),Ml(e,r),e.o&&e.s&&Lg(r,e.o,e.s),n=new Dl(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=iE(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Dg(e.i,n),xf(n,r,t)}function Ml(e,t){e.na&&_g(e.na,function(n,r){de(t,r,n)}),e.h&&$2({},function(n,r){de(t,r,n)})}function iE(e,t,n){n=Math.min(e.j.length,n);var r=e.h?tt(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let a=0;a<n;a++){let u=i[a].g;const c=i[a].map;if(u-=s,0>u)s=Math.max(0,i[a].g-100),l=!1;else try{Sx(c,o,"req"+u+"_")}catch{r&&r(c)}}if(l){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function sE(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;nl||R2(),rl||(nl(),rl=!0),Tg.add(t,e),e.A=0}}function Fg(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Pl(tt(e.Ma,e),aE(e,e.A)),e.A++,!0)}D.Ma=function(){if(this.u=null,oE(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Pl(tt(this.jb,this),e)}};D.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,at(10),Dc(this),oE(this))};function jg(e){e.B!=null&&(H.clearTimeout(e.B),e.B=null)}function oE(e){e.g=new Dl(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=qn(e.wa);de(t,"RID","rpc"),de(t,"SID",e.K),de(t,"AID",e.V),de(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&de(t,"TO",e.qa),de(t,"TYPE","xmlhttp"),Ml(e,t),e.o&&e.s&&Lg(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Nc(qn(t)),n.s=null,n.S=!0,M2(n,e)}D.ib=function(){this.v!=null&&(this.v=null,Dc(this),Fg(this),at(19))};function wu(e){e.v!=null&&(H.clearTimeout(e.v),e.v=null)}function lE(e,t){var n=null;if(e.g==t){wu(e),jg(e),e.g=null;var r=2}else if(Of(e.i,t))n=t.F,q2(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=Rg(),He(r,new b2(r,n)),bc(e)}else sE(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&xx(e,t)||r==2&&Fg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ti(e,5);break;case 4:ti(e,10);break;case 3:ti(e,6);break;default:ti(e,2)}}}function aE(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ti(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=tt(e.pb,e);n||(n=new li("//www.google.com/images/cleardot.gif"),H.location&&H.location.protocol=="http"||yu(n,"https"),Nc(n)),Ix(n.toString(),r)}else at(2);e.H=0,e.h&&e.h.za(t),uE(e),rE(e)}D.pb=function(e){e?(this.l.info("Successfully pinged google.com"),at(2)):(this.l.info("Failed to ping google.com"),at(1))};function uE(e){if(e.H=0,e.ma=[],e.h){const t=Y2(e.i);(t.length!=0||e.j.length!=0)&&(Iv(e.ma,t),Iv(e.ma,e.j),e.i.i.length=0,vg(e.j),e.j.length=0),e.h.ya()}}function cE(e,t,n){var r=n instanceof li?qn(n):new li(n);if(r.g!="")t&&(r.g=t+"."+r.g),_u(r,r.m);else{var i=H.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new li(null);r&&yu(s,r),t&&(s.g=t),i&&_u(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&de(r,n,t),de(r,"VER",e.ra),Ml(e,r),r}function dE(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new Ie(new xc({ob:!0})):new Ie(e.va),t.Oa(e.J),t}D.isActive=function(){return!!this.h&&this.h.isActive(this)};function hE(){}D=hE.prototype;D.Ba=function(){};D.Aa=function(){};D.za=function(){};D.ya=function(){};D.isActive=function(){return!0};D.Va=function(){};function Qt(e,t){je.call(this),this.g=new nE(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Zo(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Zo(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Fs(this)}Ue(Qt,je);Qt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;at(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=cE(e,null,e.Y),bc(e)};Qt.prototype.close=function(){Mg(this.g)};Qt.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Ig(e),e=n);t.j.push(new _x(t.fb++,e)),t.H==3&&bc(t)};Qt.prototype.N=function(){this.g.h=null,delete this.j,Mg(this.g),delete this.g,Qt.$.N.call(this)};function fE(e){Pg.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Ue(fE,Pg);function pE(){Og.call(this),this.status=1}Ue(pE,Og);function Fs(e){this.g=e}Ue(Fs,hE);Fs.prototype.Ba=function(){He(this.g,"a")};Fs.prototype.Aa=function(e){He(this.g,new fE(e))};Fs.prototype.za=function(e){He(this.g,new pE)};Fs.prototype.ya=function(){He(this.g,"b")};function Px(){this.blockSize=-1}function An(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ue(An,Px);An.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Wd(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}An.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)Wd(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Wd(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Wd(this,r),i=0;break}}this.h=i,this.i+=t};An.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function ie(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var Ox={};function Ug(e){return-128<=e&&128>e?UN(e,function(t){return new ie([t|0],0>t?-1:0)}):new ie([e|0],0>e?-1:0)}function En(e){if(isNaN(e)||!isFinite(e))return os;if(0>e)return Ve(En(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Df;return new ie(t,0)}function gE(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Ve(gE(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=En(Math.pow(t,8)),r=os,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=En(Math.pow(t,s)),r=r.R(s).add(En(o))):(r=r.R(n),r=r.add(En(o)))}return r}var Df=4294967296,os=Ug(0),bf=Ug(1),Mv=Ug(16777216);D=ie.prototype;D.ea=function(){if(zt(this))return-Ve(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Df+r)*t,t*=Df}return e};D.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Fn(this))return"0";if(zt(this))return"-"+Ve(this).toString(e);for(var t=En(Math.pow(e,6)),n=this,r="";;){var i=Cu(n,t).g;n=Eu(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Fn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};D.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Fn(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function zt(e){return e.h==-1}D.X=function(e){return e=Eu(this,e),zt(e)?-1:Fn(e)?0:1};function Ve(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new ie(n,~e.h).add(bf)}D.abs=function(){return zt(this)?Ve(this):this};D.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ie(n,n[n.length-1]&-2147483648?-1:0)};function Eu(e,t){return e.add(Ve(t))}D.R=function(e){if(Fn(this)||Fn(e))return os;if(zt(this))return zt(e)?Ve(this).R(Ve(e)):Ve(Ve(this).R(e));if(zt(e))return Ve(this.R(Ve(e)));if(0>this.X(Mv)&&0>e.X(Mv))return En(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,l=e.D(i)>>>16,a=e.D(i)&65535;n[2*r+2*i]+=o*a,ya(n,2*r+2*i),n[2*r+2*i+1]+=s*a,ya(n,2*r+2*i+1),n[2*r+2*i+1]+=o*l,ya(n,2*r+2*i+1),n[2*r+2*i+2]+=s*l,ya(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new ie(n,0)};function ya(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Js(e,t){this.g=e,this.h=t}function Cu(e,t){if(Fn(t))throw Error("division by zero");if(Fn(e))return new Js(os,os);if(zt(e))return t=Cu(Ve(e),t),new Js(Ve(t.g),Ve(t.h));if(zt(t))return t=Cu(e,Ve(t)),new Js(Ve(t.g),t.h);if(30<e.g.length){if(zt(e)||zt(t))throw Error("slowDivide_ only works with positive integers.");for(var n=bf,r=t;0>=r.X(e);)n=Fv(n),r=Fv(r);var i=bi(n,1),s=bi(r,1);for(r=bi(r,2),n=bi(n,2);!Fn(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=bi(r,1),n=bi(n,1)}return t=Eu(e,i.R(t)),new Js(i,t)}for(i=os;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=En(n),o=s.R(t);zt(o)||0<o.X(e);)n-=r,s=En(n),o=s.R(t);Fn(s)&&(s=bf),i=i.add(s),e=Eu(e,o)}return new Js(i,e)}D.gb=function(e){return Cu(this,e).h};D.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new ie(n,this.h&e.h)};D.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new ie(n,this.h|e.h)};D.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new ie(n,this.h^e.h)};function Fv(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new ie(n,e.h)}function bi(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new ie(i,e.h)}Qt.prototype.send=Qt.prototype.u;Qt.prototype.open=Qt.prototype.m;Qt.prototype.close=Qt.prototype.close;Ng.NO_ERROR=0;Ng.TIMEOUT=8;Ng.HTTP_ERROR=6;ox.COMPLETE="complete";lx.EventType=Ol;Ol.OPEN="a";Ol.CLOSE="b";Ol.ERROR="c";Ol.MESSAGE="d";je.prototype.listen=je.prototype.O;Ie.prototype.listenOnce=Ie.prototype.P;Ie.prototype.getLastError=Ie.prototype.Sa;Ie.prototype.getLastErrorCode=Ie.prototype.Ia;Ie.prototype.getStatus=Ie.prototype.da;Ie.prototype.getResponseJson=Ie.prototype.Wa;Ie.prototype.getResponseText=Ie.prototype.ja;Ie.prototype.send=Ie.prototype.ha;Ie.prototype.setWithCredentials=Ie.prototype.Oa;An.prototype.digest=An.prototype.l;An.prototype.reset=An.prototype.reset;An.prototype.update=An.prototype.j;ie.prototype.add=ie.prototype.add;ie.prototype.multiply=ie.prototype.R;ie.prototype.modulo=ie.prototype.gb;ie.prototype.compare=ie.prototype.X;ie.prototype.toNumber=ie.prototype.ea;ie.prototype.toString=ie.prototype.toString;ie.prototype.getBits=ie.prototype.D;ie.fromNumber=En;ie.fromString=gE;var Dx=ie;const jv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new Rl("@firebase/firestore");function xt(e,...t){if(Su.logLevel<=ne.DEBUG){const n=t.map(mE);Su.debug(`Firestore (${Lc}): ${e}`,...n)}}function $g(e,...t){if(Su.logLevel<=ne.ERROR){const n=t.map(mE);Su.error(`Firestore (${Lc}): ${e}`,...n)}}function mE(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(e="Unexpected state"){const t=`FIRESTORE (${Lc}) INTERNAL ASSERTION FAILED: `+e;throw $g(t),new Error(t)}function Lf(e,t){e||vE()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends pn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Lx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}}class Mx{constructor(t){this.t=t,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve();let s=new ls;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ls,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const a=s;t.enqueueRetryable(async()=>{await a.promise,await i(this.currentUser)})},l=a=>{xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(a=>l(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?l(a):(xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ls)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Lf(typeof r.accessToken=="string"),new bx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Lf(t===null||typeof t=="string"),new pt(t)}}class Fx{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jx{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new Fx(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ux{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $x{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,xt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Lf(typeof n.token=="string"),this.R=n.token,new Ux(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=Bx(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function yE(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(t,n,r,i,s,o,l,a,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=a,this.useFetchStreams=u}}class Iu{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Iu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Iu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uv,Z;(Z=Uv||(Uv={}))[Z.OK=0]="OK",Z[Z.CANCELLED=1]="CANCELLED",Z[Z.UNKNOWN=2]="UNKNOWN",Z[Z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Z[Z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Z[Z.NOT_FOUND=5]="NOT_FOUND",Z[Z.ALREADY_EXISTS=6]="ALREADY_EXISTS",Z[Z.PERMISSION_DENIED=7]="PERMISSION_DENIED",Z[Z.UNAUTHENTICATED=16]="UNAUTHENTICATED",Z[Z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Z[Z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Z[Z.ABORTED=10]="ABORTED",Z[Z.OUT_OF_RANGE=11]="OUT_OF_RANGE",Z[Z.UNIMPLEMENTED=12]="UNIMPLEMENTED",Z[Z.INTERNAL=13]="INTERNAL",Z[Z.UNAVAILABLE=14]="UNAVAILABLE",Z[Z.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Dx([4294967295,4294967295],0);function Hd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&xt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,l=new Bg(t,n,o,i,s);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Rt(At.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hx(e,t){if($g("AsyncQueue",`${t}: ${e}`),yE(e))return new Rt(At.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pt.UNAUTHENTICATED,this.clientId=Vx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{xt("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(xt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Rt(At.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Hx(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=new Map;function Kx(e,t,n,r){if(t===!0&&r===!0)throw new Rt(At.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Rt(At.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Rt(At.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Kx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_E((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Rt(At.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Rt(At.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Rt(At.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class qx{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Rt(At.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Rt(At.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bv(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Lx;switch(r.type){case"firstParty":return new jx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Rt(At.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$v.get(n);r&&(xt("ComponentProvider","Removing Datastore"),$v.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Wx(this,"async_queue_retry"),this.iu=()=>{const n=Hd();n&&xt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=Hd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=Hd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new ls;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!yE(t))throw t;xt("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw $g("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=Bg.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&vE()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}class Qx extends qx{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new Yx}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Jx(this),this._firestoreClient.terminate()}}function Jx(e){var t,n,r;const i=e._freezeSettings(),s=function(l,a,u,c){return new zx(l,a,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,_E(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Gx(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}(function(t,n=!0){(function(i){Lc=i})(Ri),fn(new Yt("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Qx(new Mx(r.getProvider("auth-internal")),new $x(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Rt(At.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iu(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Et(jv,"4.3.2",t),Et(jv,"4.3.2","esm2017")})();function Vg(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function wE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Xx=wE,EE=new ki("auth","Firebase",wE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=new Rl("@firebase/auth");function Zx(e,...t){Tu.logLevel<=ne.WARN&&Tu.warn(`Auth (${Ri}): ${e}`,...t)}function Ma(e,...t){Tu.logLevel<=ne.ERROR&&Tu.error(`Auth (${Ri}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(e,...t){throw zg(e,...t)}function Tn(e,...t){return zg(e,...t)}function CE(e,t,n){const r=Object.assign(Object.assign({},Xx()),{[t]:n});return new ki("auth","Firebase",r).create(t,{appName:e.name})}function SE(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Jt(e,"argument-error"),CE(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zg(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return EE.create(e,...t)}function W(e,t,...n){if(!e)throw zg(t,...n)}function jn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ma(t),new Error(t)}function Yn(e,t){e||jn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function eP(){return Vv()==="http:"||Vv()==="https:"}function Vv(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eP()||s2()||"connection"in navigator)?navigator.onLine:!0}function nP(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Yn(n>t,"Short delay should be less than long delay!"),this.isMobile=fg()||o2()}get(){return tP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(e,t){Yn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=new Fl(3e4,6e4);function Vr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function zr(e,t,n,r,i={}){return TE(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const l=bs(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),IE.fetch()(kE(e,e.config.apiHost,n,l),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},s))})}async function TE(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},rP),t);try{const i=new oP(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _a(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[a,u]=l.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw _a(e,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw _a(e,"email-already-in-use",o);if(a==="USER_DISABLED")throw _a(e,"user-disabled",o);const c=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw CE(e,c,u);Jt(e,c)}}catch(i){if(i instanceof pn)throw i;Jt(e,"network-request-failed",{message:String(i)})}}async function jl(e,t,n,r,i={}){const s=await zr(e,t,n,r,i);return"mfaPendingCredential"in s&&Jt(e,"multi-factor-auth-required",{_serverResponse:s}),s}function kE(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Wg(e.config,i):`${e.config.apiScheme}://${i}`}function sP(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oP{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tn(this.auth,"network-request-failed")),iP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _a(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tn(e,t,r);return i.customData._tokenResponse=n,i}function zv(e){return e!==void 0&&e.enterprise!==void 0}class lP{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return sP(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function aP(e,t){return zr(e,"GET","/v2/recaptchaConfig",Vr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uP(e,t){return zr(e,"POST","/v1/accounts:delete",t)}async function cP(e,t){return zr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function dP(e,t=!1){const n=Qe(e),r=await n.getIdToken(t),i=Hg(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:To(Gd(i.auth_time)),issuedAtTime:To(Gd(i.iat)),expirationTime:To(Gd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Gd(e){return Number(e)*1e3}function Hg(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Ma("JWT malformed, contained fewer than 3 sections"),null;try{const i=pu(n);return i?JSON.parse(i):(Ma("Failed to decode base64 JWT payload"),null)}catch(i){return Ma("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function hP(e){const t=Hg(e);return W(t,"internal-error"),W(typeof t.exp<"u","internal-error"),W(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof pn&&fP(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function fP({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=To(this.lastLoginAt),this.creationTime=To(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(e){var t;const n=e.auth,r=await e.getIdToken(),i=await al(e,cP(n,{idToken:r}));W(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?vP(s.providerUserInfo):[],l=mP(e.providerData,o),a=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),c=a?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new AE(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function gP(e){const t=Qe(e);await ku(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function mP(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function vP(e){return e.map(t=>{var{providerId:n}=t,r=Vg(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP(e,t){const n=await TE(e,{},async()=>{const r=bs({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=kE(e,i,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",IE.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _P(e,t){return zr(e,"POST","/v2/accounts:revokeToken",Vr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){W(t.idToken,"internal-error"),W(typeof t.idToken<"u","internal-error"),W(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):hP(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return W(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await yP(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ul;return r&&(W(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(e,t){W(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ai{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=Vg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new AE(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await al(this,this.stsTokenManager.getToken(this.auth,t));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return dP(this,t)}reload(){return gP(this)}_assign(t){this!==t&&(W(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ai(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await ku(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await al(this,uP(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,l,a,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(l=n.tenantId)!==null&&l!==void 0?l:void 0,C=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,f=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:g,emailVerified:E,isAnonymous:T,providerData:x,stsTokenManager:O}=n;W(g&&O,t,"internal-error");const A=ul.fromJSON(this.name,O);W(typeof g=="string",t,"internal-error"),nr(d,t.name),nr(h,t.name),W(typeof E=="boolean",t,"internal-error"),W(typeof T=="boolean",t,"internal-error"),nr(p,t.name),nr(v,t.name),nr(w,t.name),nr(C,t.name),nr(m,t.name),nr(f,t.name);const V=new ai({uid:g,auth:t,email:h,emailVerified:E,displayName:d,isAnonymous:T,photoURL:v,phoneNumber:p,tenantId:w,stsTokenManager:A,createdAt:m,lastLoginAt:f});return x&&Array.isArray(x)&&(V.providerData=x.map(G=>Object.assign({},G))),C&&(V._redirectEventId=C),V}static async _fromIdTokenResponse(t,n,r=!1){const i=new ul;i.updateFromServerResponse(n);const s=new ai({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await ku(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=new Map;function Un(e){Yn(e instanceof Function,"Expected a class definition");let t=Wv.get(e);return t?(Yn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Wv.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}RE.type="NONE";const Hv=RE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(e,t,n){return`firebase:${e}:${t}:${n}`}class as{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Fa(this.userKey,i.apiKey,s),this.fullPersistenceKey=Fa("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ai._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new as(Un(Hv),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Un(Hv);const o=Fa(r,t.config.apiKey,t.name);let l=null;for(const u of n)try{const c=await u._get(o);if(c){const d=ai._fromJSON(t,c);u!==s&&(l=d),s=u;break}}catch{}const a=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new as(s,t,r):(s=a[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new as(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(PE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(NE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(DE(t))return"Blackberry";if(bE(t))return"Webos";if(Gg(t))return"Safari";if((t.includes("chrome/")||xE(t))&&!t.includes("edge/"))return"Chrome";if(OE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function NE(e=it()){return/firefox\//i.test(e)}function Gg(e=it()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xE(e=it()){return/crios\//i.test(e)}function PE(e=it()){return/iemobile/i.test(e)}function OE(e=it()){return/android/i.test(e)}function DE(e=it()){return/blackberry/i.test(e)}function bE(e=it()){return/webos/i.test(e)}function Mc(e=it()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function wP(e=it()){var t;return Mc(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function EP(){return dR()&&document.documentMode===10}function LE(e=it()){return Mc(e)||OE(e)||bE(e)||DE(e)||/windows phone/i.test(e)||PE(e)}function CP(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(e,t=[]){let n;switch(e){case"Browser":n=Gv(it());break;case"Worker":n=`${Gv(it())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ri}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,l)=>{try{const a=t(s);o(a)}catch(a){l(a)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IP(e,t={}){return zr(e,"GET","/v2/passwordPolicy",Vr(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=6;class kP{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:TP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,l;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,a),this.validatePasswordCharacterOptions(t,a),a.isValid&&(a.isValid=(n=a.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(r=a.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(i=a.containsLowercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(s=a.containsUppercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(l=a.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),a}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kv(this),this.idTokenSubscription=new Kv(this),this.beforeStateQueue=new SP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Un(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await as.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(t);(!o||o===l)&&(a!=null&&a.user)&&(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ku(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=nP()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Qe(t):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&W(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Un(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await IP(this),n=new kP(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ki("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _P(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Un(t)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=await as.create(this,[Un(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const a=t.addObserver(n,r,i);return()=>{o=!0,a()}}else{const a=t.addObserver(n);return()=>{o=!0,a()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ME(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Zx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zn(e){return Qe(e)}class Kv{constructor(t){this.auth=t,this.observer=null,this.addObserver=_R(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function FE(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Tn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",RP().appendChild(r)})}function NP(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const xP="https://www.google.com/recaptcha/enterprise.js?render=",PP="recaptcha-enterprise",OP="NO_RECAPTCHA";class DP{constructor(t){this.type=PP,this.auth=Zn(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{aP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new lP(a);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(a=>{l(a)})})}function i(s,o,l){const a=window.grecaptcha;zv(a)?a.enterprise.ready(()=>{a.enterprise.execute(s,{action:t}).then(u=>{o(u)}).catch(()=>{o(OP)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&zv(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}FE(xP+l).then(()=>{i(l,s,o)}).catch(a=>{o(a)})}}).catch(l=>{o(l)})})}}async function qv(e,t,n,r=!1){const i=new DP(e);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ff(e,t,n,r){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await qv(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await qv(e,t,n,n==="getOobCode");return r(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(e,t){const n=Ai(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Jo(s,t??{}))return i;Jt(i,"already-initialized")}return n.initialize({options:t})}function LP(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Un);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function MP(e,t,n){const r=Zn(e);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=jE(t),{host:o,port:l}=FP(t),a=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${a}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||jP()}function jE(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function FP(e){const t=jE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Yv(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Yv(o)}}}function Yv(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function jP(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return jn("not implemented")}_getIdTokenResponse(t){return jn("not implemented")}_linkToIdToken(t,n){return jn("not implemented")}_getReauthenticationResolver(t){return jn("not implemented")}}async function UP(e,t){return zr(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $P(e,t){return jl(e,"POST","/v1/accounts:signInWithPassword",Vr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(e,t){return jl(e,"POST","/v1/accounts:signInWithEmailLink",Vr(e,t))}async function VP(e,t){return jl(e,"POST","/v1/accounts:signInWithEmailLink",Vr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends Kg{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new cl(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new cl(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ff(t,n,"signInWithPassword",$P);case"emailLink":return BP(t,{email:this._email,oobCode:this._password});default:Jt(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ff(t,r,"signUpPassword",UP);case"emailLink":return VP(t,{idToken:n,email:this._email,oobCode:this._password});default:Jt(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function us(e,t){return jl(e,"POST","/v1/accounts:signInWithIdp",Vr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="http://localhost";class mi extends Kg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new mi(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Jt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=Vg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new mi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return us(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,us(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,us(t,n)}buildRequest(){const t={requestUri:zP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=bs(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HP(e){const t=uo(co(e)).link,n=t?uo(co(t)).deep_link_id:null,r=uo(co(e)).deep_link_id;return(r?uo(co(r)).link:null)||r||n||t||e}class qg{constructor(t){var n,r,i,s,o,l;const a=uo(co(t)),u=(n=a.apiKey)!==null&&n!==void 0?n:null,c=(r=a.oobCode)!==null&&r!==void 0?r:null,d=WP((i=a.mode)!==null&&i!==void 0?i:null);W(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=a.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=a.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=a.tenantId)!==null&&l!==void 0?l:null}static parseLink(t){const n=HP(t);try{return new qg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){this.providerId=js.PROVIDER_ID}static credential(t,n){return cl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=qg.parseLink(n);return W(r,"argument-error"),cl._fromEmailAndCode(t,r.code,r.tenantId)}}js.PROVIDER_ID="password";js.EMAIL_PASSWORD_SIGN_IN_METHOD="password";js.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends Fc{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Ul{constructor(){super("facebook.com")}static credential(t){return mi._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return lr.credential(t.oauthAccessToken)}catch{return null}}}lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return mi._fromParams({providerId:bn.PROVIDER_ID,signInMethod:bn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return bn.credentialFromTaggedObject(t)}static credentialFromError(t){return bn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return bn.credential(n,r)}catch{return null}}}bn.GOOGLE_SIGN_IN_METHOD="google.com";bn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Ul{constructor(){super("github.com")}static credential(t){return mi._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ar.credential(t.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Ul{constructor(){super("twitter.com")}static credential(t,n){return mi._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ur.credential(n,r)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(e,t){return jl(e,"POST","/v1/accounts:signUp",Vr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await ai._fromIdTokenResponse(t,r,i),o=Qv(r);return new vi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=Qv(r);return new vi({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function Qv(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends pn{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Au.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Au(t,n,r,i)}}function UE(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Au._fromErrorAndOperation(e,s,t,r):s})}async function KP(e,t,n=!1){const r=await al(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return vi._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qP(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await al(e,UE(r,i,t,e),n);W(s.idToken,r,"internal-error");const o=Hg(s.idToken);W(o,r,"internal-error");const{sub:l}=o;return W(e.uid===l,r,"user-mismatch"),vi._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Jt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $E(e,t,n=!1){const r="signIn",i=await UE(e,r,t),s=await vi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function YP(e,t){return $E(Zn(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BE(e){const t=Zn(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function QP(e,t,n){const r=Zn(e),o=await Ff(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GP).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&BE(e),a}),l=await vi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function JP(e,t,n){return YP(Qe(e),js.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&BE(e),r})}function XP(e,t,n,r){return Qe(e).onIdTokenChanged(t,n,r)}function ZP(e,t,n){return Qe(e).beforeAuthStateChanged(t,n)}function VE(e,t,n,r){return Qe(e).onAuthStateChanged(t,n,r)}function e3(e){return Qe(e).signOut()}const Ru="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ru,"1"),this.storage.removeItem(Ru),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(){const e=it();return Gg(e)||Mc(e)}const n3=1e3,r3=10;class WE extends zE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=t3()&&CP(),this.fallbackToPolling=LE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,l,a)=>{this.notifyListeners(o,a)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);EP()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,r3):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},n3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}WE.type="LOCAL";const i3=WE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE extends zE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}HE.type="SESSION";const GE=HE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new jc(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),a=await s3(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:a})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,a)=>{const u=Yg("",20);i.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(h.data.response);break;default:clearTimeout(c),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return window}function l3(e){kn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(){return typeof kn().WorkerGlobalScope<"u"&&typeof kn().importScripts=="function"}async function a3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function u3(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function c3(){return KE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="firebaseLocalStorageDb",d3=1,Nu="firebaseLocalStorage",YE="fbase_key";class $l{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uc(e,t){return e.transaction([Nu],t?"readwrite":"readonly").objectStore(Nu)}function h3(){const e=indexedDB.deleteDatabase(qE);return new $l(e).toPromise()}function jf(){const e=indexedDB.open(qE,d3);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Nu,{keyPath:YE})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Nu)?t(r):(r.close(),await h3(),t(await jf()))})})}async function Jv(e,t,n){const r=Uc(e,!0).put({[YE]:t,value:n});return new $l(r).toPromise()}async function f3(e,t){const n=Uc(e,!1).get(t),r=await new $l(n).toPromise();return r===void 0?null:r.value}function Xv(e,t){const n=Uc(e,!0).delete(t);return new $l(n).toPromise()}const p3=800,g3=3;class QE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jf(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>g3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jc._getInstance(c3()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await a3(),!this.activeServiceWorker)return;this.sender=new o3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||u3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await jf();return await Jv(t,Ru,"1"),await Xv(t,Ru),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Jv(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>f3(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Xv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=Uc(i,!1).getAll();return new $l(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),p3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QE.type="LOCAL";const m3=QE;new Fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(e,t){return t?Un(t):(W(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg extends Kg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return us(t,this._buildIdpRequest())}_linkToIdToken(t,n){return us(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return us(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function v3(e){return $E(e.auth,new Jg(e),e.bypassAuthState)}function y3(e){const{auth:t,user:n}=e;return W(n,t,"internal-error"),qP(n,new Jg(e),e.bypassAuthState)}async function _3(e){const{auth:t,user:n}=e;return W(n,t,"internal-error"),KP(n,new Jg(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=t;if(o){this.reject(o);return}const a={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(a))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return v3;case"linkViaPopup":case"linkViaRedirect":return _3;case"reauthViaPopup":case"reauthViaRedirect":return y3;default:Jt(this.auth,"internal-error")}}resolve(t){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=new Fl(2e3,1e4);async function E3(e,t,n){const r=Zn(e);SE(e,t,Fc);const i=Qg(r,n);return new ni(r,"signInViaPopup",t,i).executeNotNull()}class ni extends JE{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ni.currentPopupAction&&ni.currentPopupAction.cancel(),ni.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return W(t,this.auth,"internal-error"),t}async onExecution(){Yn(this.filter.length===1,"Popup operations only handle one event");const t=Yg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Tn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ni.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,w3.get())};t()}}ni.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="pendingRedirect",ja=new Map;class S3 extends JE{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=ja.get(this.auth._key());if(!t){try{const r=await I3(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}ja.set(this.auth._key(),t)}return this.bypassAuthState||ja.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I3(e,t){const n=ZE(t),r=XE(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function T3(e,t){return XE(e)._set(ZE(t),"true")}function k3(e,t){ja.set(e._key(),t)}function XE(e){return Un(e._redirectPersistence)}function ZE(e){return Fa(C3,e.config.apiKey,e.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(e,t,n){return R3(e,t,n)}async function R3(e,t,n){const r=Zn(e);SE(e,t,Fc),await r._initializationPromise;const i=Qg(r,n);return await T3(i,r),i._openRedirect(r,t,"signInViaRedirect")}async function N3(e,t,n=!1){const r=Zn(e),i=Qg(r,t),o=await new S3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=10*60*1e3;class P3{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!O3(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!eC(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Tn(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=x3&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zv(t))}saveEventToCache(t){this.cachedEventUids.add(Zv(t)),this.lastProcessedEventTime=Date.now()}}function Zv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function eC({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function O3(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eC(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3(e,t={}){return zr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L3=/^https?/;async function M3(e){if(e.config.emulator)return;const{authorizedDomains:t}=await D3(e);for(const n of t)try{if(F3(n))return}catch{}Jt(e,"unauthorized-domain")}function F3(e){const t=Mf(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!L3.test(n))return!1;if(b3.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=new Fl(3e4,6e4);function ey(){const e=kn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function U3(e){return new Promise((t,n)=>{var r,i,s;function o(){ey(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ey(),n(Tn(e,"network-request-failed"))},timeout:j3.get()})}if(!((i=(r=kn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=kn().gapi)===null||s===void 0)&&s.load)o();else{const l=NP("iframefcb");return kn()[l]=()=>{gapi.load?o():n(Tn(e,"network-request-failed"))},FE(`https://apis.google.com/js/api.js?onload=${l}`).catch(a=>n(a))}}).catch(t=>{throw Ua=null,t})}let Ua=null;function $3(e){return Ua=Ua||U3(e),Ua}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=new Fl(5e3,15e3),V3="__/auth/iframe",z3="emulator/auth/iframe",W3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function G3(e){const t=e.config;W(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Wg(t,z3):`https://${e.config.authDomain}/${V3}`,r={apiKey:t.apiKey,appName:e.name,v:Ri},i=H3.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${bs(r).slice(1)}`}async function K3(e){const t=await $3(e),n=kn().gapi;return W(n,e,"internal-error"),t.open({where:document.body,url:G3(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Tn(e,"network-request-failed"),l=kn().setTimeout(()=>{s(o)},B3.get());function a(){kn().clearTimeout(l),i(r)}r.ping(a).then(a,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y3=500,Q3=600,J3="_blank",X3="http://localhost";class ty{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Z3(e,t,n,r=Y3,i=Q3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const a=Object.assign(Object.assign({},q3),{width:r.toString(),height:i.toString(),top:s,left:o}),u=it().toLowerCase();n&&(l=xE(u)?J3:n),NE(u)&&(t=t||X3,a.scrollbars="yes");const c=Object.entries(a).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(wP(u)&&l!=="_self")return e4(t||"",l),new ty(null);const d=window.open(t||"",l,c);W(d,e,"popup-blocked");try{d.focus()}catch{}return new ty(d)}function e4(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="__/auth/handler",n4="emulator/auth/handler",r4=encodeURIComponent("fac");async function ny(e,t,n,r,i,s){W(e.config.authDomain,e,"auth-domain-config-required"),W(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ri,eventId:i};if(t instanceof Fc){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",_f(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(t instanceof Ul){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const l=o;for(const c of Object.keys(l))l[c]===void 0&&delete l[c];const a=await e._getAppCheckToken(),u=a?`#${r4}=${encodeURIComponent(a)}`:"";return`${i4(e)}?${bs(l).slice(1)}${u}`}function i4({config:e}){return e.emulator?Wg(e,n4):`https://${e.authDomain}/${t4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="webStorageSupport";class s4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GE,this._completeRedirectFn=N3,this._overrideRedirectResult=k3}async _openPopup(t,n,r,i){var s;Yn((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await ny(t,n,r,Mf(),i);return Z3(t,o,Yg())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await ny(t,n,r,Mf(),i);return l3(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Yn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await K3(t),r=new P3(t);return n.register("authEvent",i=>(W(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Kd,{type:Kd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Kd];o!==void 0&&n(!!o),Jt(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=M3(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return LE()||Gg()||Mc()}}const o4=s4;var ry="@firebase/auth",iy="1.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function u4(e){fn(new Yt("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const a={apiKey:o,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ME(e)},u=new AP(r,i,s,a);return LP(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),fn(new Yt("auth-internal",t=>{const n=Zn(t.getProvider("auth").getImmediate());return(r=>new l4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Et(ry,iy,a4(e)),Et(ry,iy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=5*60,d4=i2("authIdTokenMaxAge")||c4;let sy=null;const h4=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>d4)return;const i=n==null?void 0:n.token;sy!==i&&(sy=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function f4(e=gg()){const t=Ai(e,"auth");if(t.isInitialized())return t.getImmediate();const n=bP(e,{popupRedirectResolver:o4,persistence:[m3,i3,GE]}),r=i2("authTokenSyncURL");if(r){const s=h4(r);ZP(n,s,()=>s(n.currentUser)),XP(n,o=>s(o))}const i=n2("auth");return i&&MP(n,`http://${i}`),n}u4("Browser");var p4="firebase",g4="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Et(p4,g4,"app");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function m4(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})}function v4(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(c){return a([u,c])}}function a(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Qi=function(){return Qi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Qi.apply(this,arguments)},tC=function(e){return{loading:e==null,value:e}},y4=function(){return function(e,t){switch(t.type){case"error":return Qi(Qi({},e),{error:t.error,loading:!1,value:void 0});case"reset":return tC(t.defaultValue);case"value":return Qi(Qi({},e),{error:void 0,loading:!1,value:t.value});default:return e}}},_4=function(e){var t=e?e():void 0,n=N.useReducer(y4(),tC(t)),r=n[0],i=n[1],s=N.useCallback(function(){var a=e?e():void 0;i({type:"reset",defaultValue:a})},[e]),o=N.useCallback(function(a){i({type:"error",error:a})},[]),l=N.useCallback(function(a){i({type:"value",value:a})},[]);return N.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:l,value:r.value}},[r.error,r.loading,s,o,l,r.value])},w4=function(e,t){var n=_4(function(){return e.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,l=n.value;return N.useEffect(function(){var a=VE(e,function(u){return m4(void 0,void 0,void 0,function(){var c;return v4(this,function(d){switch(d.label){case 0:if(!(t!=null&&t.onUserChanged))return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,t.onUserChanged(u)];case 2:return d.sent(),[3,4];case 3:return c=d.sent(),s(c),[3,4];case 4:return o(u),[2]}})})},s);return function(){a()}},[e]),[l,i,r]};const E4=(e,t)=>t.some(n=>e instanceof n);let oy,ly;function C4(){return oy||(oy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S4(){return ly||(ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nC=new WeakMap,Uf=new WeakMap,rC=new WeakMap,qd=new WeakMap,Xg=new WeakMap;function I4(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Tr(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&nC.set(n,e)}).catch(()=>{}),Xg.set(t,e),t}function T4(e){if(Uf.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Uf.set(e,t)}let $f={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Uf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||rC.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function k4(e){$f=e($f)}function A4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Yd(this),t,...n);return rC.set(r,t.sort?t.sort():[t]),Tr(r)}:S4().includes(e)?function(...t){return e.apply(Yd(this),t),Tr(nC.get(this))}:function(...t){return Tr(e.apply(Yd(this),t))}}function R4(e){return typeof e=="function"?A4(e):(e instanceof IDBTransaction&&T4(e),E4(e,C4())?new Proxy(e,$f):e)}function Tr(e){if(e instanceof IDBRequest)return I4(e);if(qd.has(e))return qd.get(e);const t=R4(e);return t!==e&&(qd.set(e,t),Xg.set(t,e)),t}const Yd=e=>Xg.get(e);function N4(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=Tr(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Tr(o.result),a.oldVersion,a.newVersion,Tr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",()=>i())}).catch(()=>{}),l}const x4=["get","getKey","getAll","getAllKeys","count"],P4=["put","add","delete","clear"],Qd=new Map;function ay(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Qd.get(t))return Qd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=P4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||x4.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return Qd.set(t,s),s}k4(e=>({...e,get:(t,n,r)=>ay(t,n)||e.get(t,n,r),has:(t,n)=>!!ay(t,n)||e.has(t,n)}));const iC="@firebase/installations",Zg="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=1e4,oC=`w:${Zg}`,lC="FIS_v2",O4="https://firebaseinstallations.googleapis.com/v1",D4=60*60*1e3,b4="installations",L4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},yi=new ki(b4,L4,M4);function aC(e){return e instanceof pn&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC({projectId:e}){return`${O4}/projects/${e}/installations`}function cC(e){return{token:e.token,requestStatus:2,expiresIn:j4(e.expiresIn),creationTime:Date.now()}}async function dC(e,t){const r=(await t.json()).error;return yi.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function hC({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function F4(e,{refreshToken:t}){const n=hC(e);return n.append("Authorization",U4(t)),n}async function fC(e){const t=await e();return t.status>=500&&t.status<600?e():t}function j4(e){return Number(e.replace("s","000"))}function U4(e){return`${lC} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $4({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=uC(e),i=hC(e),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:lC,appId:e.appId,sdkVersion:oC},l={method:"POST",headers:i,body:JSON.stringify(o)},a=await fC(()=>fetch(r,l));if(a.ok){const u=await a.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:cC(u.authToken)}}else throw await dC("Create Installation",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=/^[cdef][\w-]{21}$/,Bf="";function z4(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=W4(e);return V4.test(n)?n:Bf}catch{return Bf}}function W4(e){return B4(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new Map;function mC(e,t){const n=$c(e);vC(n,t),H4(n,t)}function vC(e,t){const n=gC.get(e);if(n)for(const r of n)r(t)}function H4(e,t){const n=G4();n&&n.postMessage({key:e,fid:t}),K4()}let ri=null;function G4(){return!ri&&"BroadcastChannel"in self&&(ri=new BroadcastChannel("[Firebase] FID Change"),ri.onmessage=e=>{vC(e.data.key,e.data.fid)}),ri}function K4(){gC.size===0&&ri&&(ri.close(),ri=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="firebase-installations-database",Y4=1,_i="firebase-installations-store";let Jd=null;function em(){return Jd||(Jd=N4(q4,Y4,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(_i)}}})),Jd}async function xu(e,t){const n=$c(e),i=(await em()).transaction(_i,"readwrite"),s=i.objectStore(_i),o=await s.get(n);return await s.put(t,n),await i.done,(!o||o.fid!==t.fid)&&mC(e,t.fid),t}async function yC(e){const t=$c(e),r=(await em()).transaction(_i,"readwrite");await r.objectStore(_i).delete(t),await r.done}async function Bc(e,t){const n=$c(e),i=(await em()).transaction(_i,"readwrite"),s=i.objectStore(_i),o=await s.get(n),l=t(o);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&mC(e,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tm(e){let t;const n=await Bc(e.appConfig,r=>{const i=Q4(r),s=J4(e,i);return t=s.registrationPromise,s.installationEntry});return n.fid===Bf?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function Q4(e){const t=e||{fid:z4(),registrationStatus:0};return _C(t)}function J4(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(yi.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=X4(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Z4(e)}:{installationEntry:t}}async function X4(e,t){try{const n=await $4(e,t);return xu(e.appConfig,n)}catch(n){throw aC(n)&&n.customData.serverCode===409?await yC(e.appConfig):await xu(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function Z4(e){let t=await uy(e.appConfig);for(;t.registrationStatus===1;)await pC(100),t=await uy(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await tm(e);return r||n}return t}function uy(e){return Bc(e,t=>{if(!t)throw yi.create("installation-not-found");return _C(t)})}function _C(e){return eO(e)?{fid:e.fid,registrationStatus:0}:e}function eO(e){return e.registrationStatus===1&&e.registrationTime+sC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO({appConfig:e,heartbeatServiceProvider:t},n){const r=nO(e,n),i=F4(e,n),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:oC,appId:e.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},a=await fC(()=>fetch(r,l));if(a.ok){const u=await a.json();return cC(u)}else throw await dC("Generate Auth Token",a)}function nO(e,{fid:t}){return`${uC(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nm(e,t=!1){let n;const r=await Bc(e.appConfig,s=>{if(!wC(s))throw yi.create("not-registered");const o=s.authToken;if(!t&&sO(o))return s;if(o.requestStatus===1)return n=rO(e,t),s;{if(!navigator.onLine)throw yi.create("app-offline");const l=lO(s);return n=iO(e,l),l}});return n?await n:r.authToken}async function rO(e,t){let n=await cy(e.appConfig);for(;n.authToken.requestStatus===1;)await pC(100),n=await cy(e.appConfig);const r=n.authToken;return r.requestStatus===0?nm(e,t):r}function cy(e){return Bc(e,t=>{if(!wC(t))throw yi.create("not-registered");const n=t.authToken;return aO(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function iO(e,t){try{const n=await tO(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await xu(e.appConfig,r),n}catch(n){if(aC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await yC(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await xu(e.appConfig,r)}throw n}}function wC(e){return e!==void 0&&e.registrationStatus===2}function sO(e){return e.requestStatus===2&&!oO(e)}function oO(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+D4}function lO(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function aO(e){return e.requestStatus===1&&e.requestTime+sC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(e){const t=e,{installationEntry:n,registrationPromise:r}=await tm(t);return r?r.catch(console.error):nm(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(e,t=!1){const n=e;return await dO(n),(await nm(n,t)).token}async function dO(e){const{registrationPromise:t}=await tm(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(e){if(!e||!e.options)throw Xd("App Configuration");if(!e.name)throw Xd("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Xd(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Xd(e){return yi.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="installations",fO="installations-internal",pO=e=>{const t=e.getProvider("app").getImmediate(),n=hO(t),r=Ai(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},gO=e=>{const t=e.getProvider("app").getImmediate(),n=Ai(t,EC).getImmediate();return{getId:()=>uO(n),getToken:i=>cO(n,i)}};function mO(){fn(new Yt(EC,pO,"PUBLIC")),fn(new Yt(fO,gO,"PRIVATE"))}mO();Et(iC,Zg);Et(iC,Zg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu="analytics",vO="firebase_id",yO="origin",_O=60*1e3,wO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct=new Rl("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Dt=new ki("analytics","Analytics",EO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(e){if(!e.startsWith(rm)){const t=Dt.create("invalid-gtag-resource",{gtagURL:e});return Ct.warn(t.message),""}return e}function CC(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function SO(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function IO(e,t){const n=SO("firebase-js-sdk-policy",{createScriptURL:CO}),r=document.createElement("script"),i=`${rm}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function TO(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function kO(e,t,n,r,i,s){const o=r[i];try{if(o)await t[o];else{const a=(await CC(n)).find(u=>u.measurementId===i);a&&await t[a.appId]}}catch(l){Ct.error(l)}e("config",i,s)}async function AO(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await CC(n);for(const a of o){const u=l.find(d=>d.measurementId===a),c=u&&t[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(s){Ct.error(s)}}function RO(e,t,n,r){async function i(s,...o){try{if(s==="event"){const[l,a]=o;await AO(e,t,n,l,a)}else if(s==="config"){const[l,a]=o;await kO(e,t,n,r,l,a)}else if(s==="consent"){const[l]=o;e("consent","update",l)}else if(s==="get"){const[l,a,u]=o;e("get",l,a,u)}else if(s==="set"){const[l]=o;e("set",l)}else e(s,...o)}catch(l){Ct.error(l)}}return i}function NO(e,t,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=RO(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function xO(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(rm)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=30,OO=1e3;class DO{constructor(t={},n=OO){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const SC=new DO;function bO(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function LO(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:bO(r)},s=wO.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let l="";try{const a=await o.json();!((t=a.error)===null||t===void 0)&&t.message&&(l=a.error.message)}catch{}throw Dt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function MO(e,t=SC,n){const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw Dt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Dt.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new UO;return setTimeout(async()=>{l.abort()},n!==void 0?n:_O),IC({appId:r,apiKey:i,measurementId:s},o,l,t)}async function IC(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=SC){var s;const{appId:o,measurementId:l}=e;try{await FO(r,t)}catch(a){if(l)return Ct.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${a==null?void 0:a.message}]`),{appId:o,measurementId:l};throw a}try{const a=await LO(e);return i.deleteThrottleMetadata(o),a}catch(a){const u=a;if(!jO(u)){if(i.deleteThrottleMetadata(o),l)return Ct.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw a}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?mv(n,i.intervalMillis,PO):mv(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),Ct.debug(`Calling attemptFetch again in ${c} millis`),IC(e,d,r,i)}}function FO(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(Dt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function jO(e){if(!(e instanceof pn)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class UO{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function $O(e,t,n,r,i){if(i&&i.global){e("event",n,r);return}else{const s=await t,o=Object.assign(Object.assign({},r),{send_to:s});e("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(){if(a2())try{await u2()}catch(e){return Ct.warn(Dt.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Ct.warn(Dt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function VO(e,t,n,r,i,s,o){var l;const a=MO(e);a.then(p=>{n[p.measurementId]=p.appId,e.options.measurementId&&p.measurementId!==e.options.measurementId&&Ct.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Ct.error(p)),t.push(a);const u=BO().then(p=>{if(p)return r.getId()}),[c,d]=await Promise.all([a,u]);xO(s)||IO(s,c.measurementId),i("js",new Date);const h=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return h[yO]="firebase",h.update=!0,d!=null&&(h[vO]=d),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(t){this.app=t}_delete(){return delete ko[this.app.options.appId],Promise.resolve()}}let ko={},dy=[];const hy={};let Zd="dataLayer",WO="gtag",fy,TC,py=!1;function HO(){const e=[];if(s2()&&e.push("This is a browser extension environment."),hR()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Dt.create("invalid-analytics-context",{errorInfo:t});Ct.warn(n.message)}}function GO(e,t,n){HO();const r=e.options.appId;if(!r)throw Dt.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Ct.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Dt.create("no-api-key");if(ko[r]!=null)throw Dt.create("already-exists",{id:r});if(!py){TO(Zd);const{wrappedGtag:s,gtagCore:o}=NO(ko,dy,hy,Zd,WO);TC=s,fy=o,py=!0}return ko[r]=VO(e,dy,hy,t,fy,Zd,n),new zO(e)}function KO(e=gg()){e=Qe(e);const t=Ai(e,Pu);return t.isInitialized()?t.getImmediate():qO(e)}function qO(e,t={}){const n=Ai(e,Pu);if(n.isInitialized()){const i=n.getImmediate();if(Jo(t,n.getOptions()))return i;throw Dt.create("already-initialized")}return n.initialize({options:t})}function YO(e,t,n,r){e=Qe(e),$O(TC,ko[e.app.options.appId],t,n,r).catch(i=>Ct.error(i))}const gy="@firebase/analytics",my="0.10.0";function QO(){fn(new Yt(Pu,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return GO(r,i,n)},"PUBLIC")),fn(new Yt("analytics-internal",e,"PRIVATE")),Et(gy,my),Et(gy,my,"esm2017");function e(t){try{const n=t.getProvider(Pu).getImmediate();return{logEvent:(r,i,s)=>YO(n,r,i,s)}}catch(n){throw Dt.create("interop-component-reg-failed",{reason:n})}}}QO();var vy={};const yy="@firebase/database",_y="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kC="";function JO(e){kC=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Pe(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Qo(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Rn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new XO(t)}}catch{}return new ZO},ii=AC("localStorage"),Vf=AC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new Rl("@firebase/database"),e5=function(){let e=1;return function(){return e++}}(),RC=function(e){const t=CR(e),n=new yR;n.update(t);const r=n.digest();return dg.encodeByteArray(r)},Bl=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Bl.apply(null,r):typeof r=="object"?t+=Pe(r):t+=r,t+=" "}return t};let ui=null,wy=!0;const t5=function(e,t){P(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(cs.logLevel=ne.VERBOSE,ui=cs.log.bind(cs),t&&Vf.set("logging_enabled",!0)):typeof e=="function"?ui=e:(ui=null,Vf.remove("logging_enabled"))},ze=function(...e){if(wy===!0&&(wy=!1,ui===null&&Vf.get("logging_enabled")===!0&&t5(!0)),ui){const t=Bl.apply(null,e);ui(t)}},Vl=function(e){return function(...t){ze(e,...t)}},zf=function(...e){const t="FIREBASE INTERNAL ERROR: "+Bl(...e);cs.error(t)},Qn=function(...e){const t=`FIREBASE FATAL ERROR: ${Bl(...e)}`;throw cs.error(t),new Error(t)},dt=function(...e){const t="FIREBASE WARNING: "+Bl(...e);cs.warn(t)},n5=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&dt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},im=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},r5=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Es="[MIN_NAME]",wi="[MAX_NAME]",Ni=function(e,t){if(e===t)return 0;if(e===Es||t===wi)return-1;if(t===Es||e===wi)return 1;{const n=Ey(e),r=Ey(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},i5=function(e,t){return e===t?0:e<t?-1:1},Xs=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Pe(t))},sm=function(e){if(typeof e!="object"||e===null)return Pe(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Pe(t[r]),n+=":",n+=sm(e[t[r]]);return n+="}",n},NC=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function qe(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const xC=function(e){P(!im(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,l,a;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,o=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=t;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(a=0;a<64;a+=8){let h=parseInt(c.substr(a,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},s5=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},o5=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function l5(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const a5=new RegExp("^-?(0*)\\d{1,10}$"),u5=-2147483648,c5=2147483647,Ey=function(e){if(a5.test(e)){const t=Number(e);if(t>=u5&&t<=c5)return t}return null},Us=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw dt("Exception was thrown by user callback.",n),t},Math.floor(0))}},d5=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ao=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){dt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(ze("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',dt(t)}}class ds{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}ds.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="5",PC="v",OC="s",DC="r",bC="f",LC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,MC="ls",FC="p",Wf="ac",jC="websocket",UC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(t,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ii.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ii.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function p5(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function BC(e,t,n){P(typeof t=="string","typeof type must == string"),P(typeof n=="object","typeof params must == object");let r;if(t===jC)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===UC)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);p5(e)&&(n.ns=e.namespace);const i=[];return qe(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(){this.counters_={}}incrementCounter(t,n=1){Rn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return rR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh={},th={};function lm(e){const t=e.toString();return eh[t]||(eh[t]=new g5),eh[t]}function m5(e,t){const n=e.toString();return th[n]||(th[n]=t()),th[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Us(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="start",y5="close",_5="pLPCommand",w5="pRTLPCB",VC="id",zC="pw",WC="ser",E5="cb",C5="seg",S5="ts",I5="d",T5="dframe",HC=1870,GC=30,k5=HC-GC,A5=25e3,R5=3e4;class Ji{constructor(t,n,r,i,s,o,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vl(t),this.stats_=lm(n),this.urlFn=a=>(this.appCheckToken&&(a[Wf]=this.appCheckToken),BC(n,UC,a))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new v5(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(R5)),r5(()=>{if(this.isClosed_)return;this.scriptTagHolder=new am((...s)=>{const[o,l,a,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Cy)this.id=l,this.password=a;else if(o===y5)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Cy]="t",r[WC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[E5]=this.scriptTagHolder.uniqueCallbackIdentifier),r[PC]=om,this.transportSessionId&&(r[OC]=this.transportSessionId),this.lastSessionId&&(r[MC]=this.lastSessionId),this.applicationId&&(r[FC]=this.applicationId),this.appCheckToken&&(r[Wf]=this.appCheckToken),typeof location<"u"&&location.hostname&&LC.test(location.hostname)&&(r[DC]=bC);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ji.forceAllow_=!0}static forceDisallow(){Ji.forceDisallow_=!0}static isAvailable(){return Ji.forceAllow_?!0:!Ji.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!s5()&&!o5()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Pe(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=e2(n),i=NC(r,k5);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[T5]="t",r[VC]=t,r[zC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Pe(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class am{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=e5(),window[_5+this.uniqueCallbackIdentifier]=t,window[w5+this.uniqueCallbackIdentifier]=n,this.myIFrame=am.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){ze("frame writing exception"),l.stack&&ze(l.stack),ze(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ze("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[VC]=this.myID,t[zC]=this.myPW,t[WC]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+GC+r.length<=HC;){const o=this.pendingSegs.shift();r=r+"&"+C5+i+"="+o.seg+"&"+S5+i+"="+o.ts+"&"+I5+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(A5)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ze("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=16384,x5=45e3;let Ou=null;typeof MozWebSocket<"u"?Ou=MozWebSocket:typeof WebSocket<"u"&&(Ou=WebSocket);class sn{constructor(t,n,r,i,s,o,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vl(this.connId),this.stats_=lm(n),this.connURL=sn.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[PC]=om,typeof location<"u"&&location.hostname&&LC.test(location.hostname)&&(o[DC]=bC),n&&(o[OC]=n),r&&(o[MC]=r),i&&(o[Wf]=i),s&&(o[FC]=s),BC(t,jC,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ii.set("previous_websocket_failure",!0);try{let r;l2(),this.mySock=new Ou(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){sn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Ou!==null&&!sn.forceDisallow_}static previouslyFailed(){return ii.isInMemoryStorage||ii.get("previous_websocket_failure")===!0}markConnectionHealthy(){ii.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Qo(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(P(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=Pe(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=NC(n,N5);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(x5))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}sn.responsesRequiredToBeHealthy=2;sn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ji,sn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=sn&&sn.isAvailable();let r=n&&!sn.previouslyFailed();if(t.webSocketOnly&&(n||dt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[sn];else{const i=this.transports_=[];for(const s of dl.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);dl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}dl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=6e4,O5=5e3,D5=10*1024,b5=100*1024,nh="t",Sy="d",L5="s",Iy="r",M5="e",Ty="o",ky="a",Ay="n",Ry="p",F5="h";class j5{constructor(t,n,r,i,s,o,l,a,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vl("c:"+this.id+":"),this.transportManager_=new dl(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ao(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>b5?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>D5?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(nh in t){const n=t[nh];n===ky?this.upgradeIfSecondaryHealthy_():n===Iy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ty&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Xs("t",t),r=Xs("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ry,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ky,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ay,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Xs("t",t),r=Xs("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Xs(nh,t);if(Sy in t){const r=t[Sy];if(n===F5){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Ay){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===L5?this.onConnectionShutdown_(r):n===Iy?this.onReset_(r):n===M5?zf("Server Error: "+r):n===Ty?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zf("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),om!==r&&dt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ao(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(P5))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ao(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(O5))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ry,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ii.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(t){this.allowedEvents_=t,this.listeners_={},P(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){P(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends qC{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!fg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Du}getInitialEvent(t){return P(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=32,xy=768;class se{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function te(){return new se("")}function q(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function xr(e){return e.pieces_.length-e.pieceNum_}function le(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new se(e.pieces_,t)}function um(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function U5(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function hl(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function YC(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new se(t,0)}function we(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof se)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new se(n,0)}function Q(e){return e.pieceNum_>=e.pieces_.length}function ut(e,t){const n=q(e),r=q(t);if(n===null)return t;if(n===r)return ut(le(e),le(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function $5(e,t){const n=hl(e,0),r=hl(t,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Ni(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function cm(e,t){if(xr(e)!==xr(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ht(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(xr(e)>xr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class B5{constructor(t,n){this.errorPrefix_=n,this.parts_=hl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=wc(this.parts_[r]);QC(this)}}function V5(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=wc(t),QC(e)}function z5(e){const t=e.parts_.pop();e.byteLength_-=wc(t),e.parts_.length>0&&(e.byteLength_-=1)}function QC(e){if(e.byteLength_>xy)throw new Error(e.errorPrefix_+"has a key path longer than "+xy+" bytes ("+e.byteLength_+").");if(e.parts_.length>Ny)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ny+") or object contains a cycle "+qr(e))}function qr(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm extends qC{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new dm}getInitialEvent(t){return P(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=1e3,W5=60*5*1e3,Py=30*1e3,H5=1.3,G5=3e4,K5="server_kill",Oy=3;class Vn extends KC{constructor(t,n,r,i,s,o,l,a){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Vn.nextPersistentConnectionId_++,this.log_=Vl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zs,this.maxReconnectDelay_=W5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!l2())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dm.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Du.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(Pe(s)),P(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new Al,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),P(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),P(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;Vn.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,a))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Rn(t,"w")){const r=ws(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();dt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||vR(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Py)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=mR(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),P(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Pe(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):zf("Unrecognized action received from server: "+Pe(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){P(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zs,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Zs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>G5&&(this.reconnectDelay_=Zs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*H5)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Vn.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(d){P(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?ze("getToken() completed but was canceled"):(ze("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,l=new j5(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,p=>{dt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(K5)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&dt(d),a())}}}interrupt(t){ze("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ze("Resuming connection for reason: "+t),delete this.interruptReasons_[t],_f(this.interruptReasons_)&&(this.reconnectDelay_=Zs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>sm(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new se(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){ze("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Oy&&(this.reconnectDelay_=Py,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){ze("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Oy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+kC.replace(/\./g,"-")]=1,fg()?t["framework.cordova"]=1:o2()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Du.getInstance().currentlyOnline();return _f(this.interruptReasons_)&&t}}Vn.nextPersistentConnectionId_=0;Vn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new Y(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new Y(Es,t),i=new Y(Es,n);return this.compare(r,i)!==0}minPost(){return Y.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wa;class JC extends Vc{static get __EMPTY_NODE(){return wa}static set __EMPTY_NODE(t){wa=t}compare(t,n){return Ni(t.name,n.name)}isDefinedOn(t){throw Ds("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Y.MIN}maxPost(){return new Y(wi,wa)}makePost(t,n){return P(typeof t=="string","KeyIndex indexValue must always be a string."),new Y(t,wa)}toString(){return".key"}}const hs=new JC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Le{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Le.RED,this.left=i??vt.EMPTY_NODE,this.right=s??vt.EMPTY_NODE}copy(t,n,r,i,s){return new Le(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return vt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return vt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Le.RED=!0;Le.BLACK=!1;class q5{copy(t,n,r,i,s){return this}insert(t,n,r){return new Le(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class vt{constructor(t,n=vt.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new vt(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Le.BLACK,null,null))}remove(t){return new vt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Le.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ea(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Ea(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Ea(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Ea(this.root_,null,this.comparator_,!0,t)}}vt.EMPTY_NODE=new q5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(e,t){return Ni(e.name,t.name)}function hm(e,t){return Ni(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf;function Q5(e){Hf=e}const XC=function(e){return typeof e=="number"?"number:"+xC(e):"string:"+e},ZC=function(e){if(e.isLeafNode()){const t=e.val();P(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Rn(t,".sv"),"Priority must be a string or number.")}else P(e===Hf||e.isEmpty(),"priority of unexpected type.");P(e===Hf||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dy;class De{constructor(t,n=De.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,P(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ZC(this.priorityNode_)}static set __childrenNodeConstructor(t){Dy=t}static get __childrenNodeConstructor(){return Dy}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new De(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:De.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Q(t)?this:q(t)===".priority"?this.priorityNode_:De.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:De.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=q(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(P(r!==".priority"||xr(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,De.__childrenNodeConstructor.EMPTY_NODE.updateChild(le(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+XC(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=xC(this.value_):t+=this.value_,this.lazyHash_=RC(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===De.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof De.__childrenNodeConstructor?-1:(P(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=De.VALUE_TYPE_ORDER.indexOf(n),s=De.VALUE_TYPE_ORDER.indexOf(r);return P(i>=0,"Unknown leaf type: "+n),P(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}De.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eS,tS;function J5(e){eS=e}function X5(e){tS=e}class Z5 extends Vc{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ni(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Y.MIN}maxPost(){return new Y(wi,new De("[PRIORITY-POST]",tS))}makePost(t,n){const r=eS(t);return new Y(n,new De("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ee=new Z5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=Math.log(2);class tD{constructor(t){const n=s=>parseInt(Math.log(s)/eD,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const bu=function(e,t,n,r){e.sort(t);const i=function(a,u){const c=u-a;let d,h;if(c===0)return null;if(c===1)return d=e[a],h=n?n(d):d,new Le(h,d.node,Le.BLACK,null,null);{const p=parseInt(c/2,10)+a,v=i(a,p),w=i(p+1,u);return d=e[p],h=n?n(d):d,new Le(h,d.node,Le.BLACK,v,w)}},s=function(a){let u=null,c=null,d=e.length;const h=function(v,w){const C=d-v,m=d;d-=v;const f=i(C+1,m),g=e[C],E=n?n(g):g;p(new Le(E,g.node,w,null,f))},p=function(v){u?(u.left=v,u=v):(c=v,u=v)};for(let v=0;v<a.count;++v){const w=a.nextBitIsOne(),C=Math.pow(2,a.count-(v+1));w?h(C,Le.BLACK):(h(C,Le.BLACK),h(C,Le.RED))}return c},o=new tD(e.length),l=s(o);return new vt(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh;const Li={};class $n{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return P(Li&&Ee,"ChildrenNode.ts has not been loaded"),rh=rh||new $n({".priority":Li},{".priority":Ee}),rh}get(t){const n=ws(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof vt?n:null}hasIndex(t){return Rn(this.indexSet_,t.toString())}addIndex(t,n){P(t!==hs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Y.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=bu(r,t.getCompare()):l=Li;const a=t.toString(),u=Object.assign({},this.indexSet_);u[a]=t;const c=Object.assign({},this.indexes_);return c[a]=l,new $n(c,u)}addToIndexes(t,n){const r=gu(this.indexes_,(i,s)=>{const o=ws(this.indexSet_,s);if(P(o,"Missing index implementation for "+s),i===Li)if(o.isDefinedOn(t.node)){const l=[],a=n.getIterator(Y.Wrap);let u=a.getNext();for(;u;)u.name!==t.name&&l.push(u),u=a.getNext();return l.push(t),bu(l,o.getCompare())}else return Li;else{const l=n.get(t.name);let a=i;return l&&(a=a.remove(new Y(t.name,l))),a.insert(t,t.node)}});return new $n(r,this.indexSet_)}removeFromIndexes(t,n){const r=gu(this.indexes_,i=>{if(i===Li)return i;{const s=n.get(t.name);return s?i.remove(new Y(t.name,s)):i}});return new $n(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eo;class B{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ZC(this.priorityNode_),this.children_.isEmpty()&&P(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return eo||(eo=new B(new vt(hm),null,$n.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||eo}updatePriority(t){return this.children_.isEmpty()?this:new B(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?eo:n}}getChild(t){const n=q(t);return n===null?this:this.getImmediateChild(n).getChild(le(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(P(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new Y(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?eo:this.priorityNode_;return new B(i,o,s)}}updateChild(t,n){const r=q(t);if(r===null)return n;{P(q(t)!==".priority"||xr(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(le(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ee,(o,l)=>{n[o]=l.val(t),r++,s&&B.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+XC(this.getPriority().val())+":"),this.forEachChild(Ee,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":RC(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Y(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new Y(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new Y(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,Y.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,Y.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===zl?-1:0}withIndex(t){if(t===hs||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new B(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===hs||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ee),i=n.getIterator(Ee);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===hs?null:this.indexMap_.get(t.toString())}}B.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class nD extends B{constructor(){super(new vt(hm),B.EMPTY_NODE,$n.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return B.EMPTY_NODE}isEmpty(){return!1}}const zl=new nD;Object.defineProperties(Y,{MIN:{value:new Y(Es,B.EMPTY_NODE)},MAX:{value:new Y(wi,zl)}});JC.__EMPTY_NODE=B.EMPTY_NODE;De.__childrenNodeConstructor=B;Q5(zl);X5(zl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=!0;function xe(e,t=null){if(e===null)return B.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),P(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new De(n,xe(t))}if(!(e instanceof Array)&&rD){const n=[];let r=!1;if(qe(e,(o,l)=>{if(o.substring(0,1)!=="."){const a=xe(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new Y(o,a)))}}),n.length===0)return B.EMPTY_NODE;const s=bu(n,Y5,o=>o.name,hm);if(r){const o=bu(n,Ee.getCompare());return new B(s,xe(t),new $n({".priority":o},{".priority":Ee}))}else return new B(s,xe(t),$n.Default)}else{let n=B.EMPTY_NODE;return qe(e,(r,i)=>{if(Rn(e,r)&&r.substring(0,1)!=="."){const s=xe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(xe(t))}}J5(xe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD extends Vc{constructor(t){super(),this.indexPath_=t,P(!Q(t)&&q(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ni(t.name,n.name):s}makePost(t,n){const r=xe(t),i=B.EMPTY_NODE.updateChild(this.indexPath_,r);return new Y(n,i)}maxPost(){const t=B.EMPTY_NODE.updateChild(this.indexPath_,zl);return new Y(wi,t)}toString(){return hl(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD extends Vc{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Ni(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Y.MIN}maxPost(){return Y.MAX}makePost(t,n){const r=xe(t);return new Y(n,r)}toString(){return".value"}}const oD=new sD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(e){return{type:"value",snapshotNode:e}}function Cs(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function fl(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function pl(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function lD(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){P(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(fl(n,l)):P(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Cs(n,r)):o.trackChildChange(pl(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Ee,(i,s)=>{n.hasChild(i)||r.trackChildChange(fl(i,s))}),n.isLeafNode()||n.forEachChild(Ee,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(pl(i,s,o))}else r.trackChildChange(Cs(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?B.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(t){this.indexedFilter_=new fm(t.getIndex()),this.index_=t.getIndex(),this.startPost_=gl.getStartPost_(t),this.endPost_=gl.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new Y(n,r))||(r=B.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=B.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(B.EMPTY_NODE);const s=this;return n.forEachChild(Ee,(o,l)=>{s.matches(new Y(o,l))||(i=i.updateImmediateChild(o,B.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new gl(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new Y(n,r))||(r=B.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=B.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=B.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(B.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,B.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,p)=>d(p,h)}else o=this.index_.getCompare();const l=t;P(l.numChildren()===this.limit_,"");const a=new Y(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(l.hasChild(n)){const d=l.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||l.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:o(h,a);if(c&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(pl(n,r,d)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(fl(n,d));const w=l.updateImmediateChild(n,B.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(Cs(h.name,h.node)),w.updateImmediateChild(h.name,h.node)):w}}else return r.isEmpty()?t:c&&o(u,a)>=0?(s!=null&&(s.trackChildChange(fl(u.name,u.node)),s.trackChildChange(Cs(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,B.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ee}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return P(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return P(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Es}hasEnd(){return this.endSet_}getIndexEndValue(){return P(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return P(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return P(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ee}copy(){const t=new pm;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function uD(e){return e.loadsAllData()?new fm(e.getIndex()):e.hasLimit()?new aD(e):new gl(e)}function by(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Ee?n="$priority":e.index_===oD?n="$value":e.index_===hs?n="$key":(P(e.index_ instanceof iD,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Pe(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Pe(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Pe(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Pe(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Pe(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Ly(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Ee&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends KC{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Vl("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(P(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=Lu.getListenId_(t,r),l={};this.listens_[o]=l;const a=by(t._queryParams);this.restRequest_(s+".json",a,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),ws(this.listens_,o)===l){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(t,n){const r=Lu.getListenId_(t,n);delete this.listens_[r]}get(t){const n=by(t._queryParams),r=t._path.toString(),i=new Al;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+bs(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Qo(l.responseText)}catch{dt("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&dt("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.rootNode_=B.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(){return{value:null,children:new Map}}function rS(e,t,n){if(Q(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=q(t);e.children.has(r)||e.children.set(r,Mu());const i=e.children.get(r);t=le(t),rS(i,t,n)}}function Gf(e,t,n){e.value!==null?n(t,e.value):dD(e,(r,i)=>{const s=new se(t.toString()+"/"+r);Gf(i,s,n)})}function dD(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&qe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=10*1e3,fD=30*1e3,pD=5*60*1e3;class gD{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new hD(t);const r=My+(fD-My)*Math.random();Ao(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;qe(t,(i,s)=>{s>0&&Rn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ao(this.reportStats_.bind(this),Math.floor(Math.random()*2*pD))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(an||(an={}));function gm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function mm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function vm(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=an.ACK_USER_WRITE,this.source=gm()}operationForChild(t){if(Q(this.path)){if(this.affectedTree.value!=null)return P(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new se(t));return new Fu(te(),n,this.revert)}}else return P(q(this.path)===t,"operationForChild called for unrelated child."),new Fu(le(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(t,n){this.source=t,this.path=n,this.type=an.LISTEN_COMPLETE}operationForChild(t){return Q(this.path)?new ml(this.source,te()):new ml(this.source,le(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=an.OVERWRITE}operationForChild(t){return Q(this.path)?new Ei(this.source,te(),this.snap.getImmediateChild(t)):new Ei(this.source,le(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=an.MERGE}operationForChild(t){if(Q(this.path)){const n=this.children.subtree(new se(t));return n.isEmpty()?null:n.value?new Ei(this.source,te(),n.value):new Ss(this.source,te(),n)}else return P(q(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ss(this.source,le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Q(t))return this.isFullyInitialized()&&!this.filtered_;const n=q(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function vD(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(lD(o.childName,o.snapshotNode))}),to(e,i,"child_removed",t,r,n),to(e,i,"child_added",t,r,n),to(e,i,"child_moved",s,r,n),to(e,i,"child_changed",t,r,n),to(e,i,"value",t,r,n),i}function to(e,t,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>_D(e,l,a)),o.forEach(l=>{const a=yD(e,l,s);i.forEach(u=>{u.respondsTo(l.type)&&t.push(u.createEvent(a,e.query_))})})}function yD(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function _D(e,t,n){if(t.childName==null||n.childName==null)throw Ds("Should only compare child_ events.");const r=new Y(t.childName,t.snapshotNode),i=new Y(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(e,t){return{eventCache:e,serverCache:t}}function Ro(e,t,n,r){return zc(new Pr(t,n,r),e.serverCache)}function iS(e,t,n,r){return zc(e.eventCache,new Pr(t,n,r))}function ju(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ci(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih;const wD=()=>(ih||(ih=new vt(i5)),ih);class oe{constructor(t,n=wD()){this.value=t,this.children=n}static fromObject(t){let n=new oe(null);return qe(t,(r,i)=>{n=n.set(new se(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:te(),value:this.value};if(Q(t))return null;{const r=q(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(le(t),n);return s!=null?{path:we(new se(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Q(t))return this;{const n=q(t),r=this.children.get(n);return r!==null?r.subtree(le(t)):new oe(null)}}set(t,n){if(Q(t))return new oe(n,this.children);{const r=q(t),s=(this.children.get(r)||new oe(null)).set(le(t),n),o=this.children.insert(r,s);return new oe(this.value,o)}}remove(t){if(Q(t))return this.children.isEmpty()?new oe(null):new oe(null,this.children);{const n=q(t),r=this.children.get(n);if(r){const i=r.remove(le(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new oe(null):new oe(this.value,s)}else return this}}get(t){if(Q(t))return this.value;{const n=q(t),r=this.children.get(n);return r?r.get(le(t)):null}}setTree(t,n){if(Q(t))return n;{const r=q(t),s=(this.children.get(r)||new oe(null)).setTree(le(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new oe(this.value,o)}}fold(t){return this.fold_(te(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(we(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,te(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Q(t))return null;{const s=q(t),o=this.children.get(s);return o?o.findOnPath_(le(t),we(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,te(),n)}foreachOnPath_(t,n,r){if(Q(t))return this;{this.value&&r(n,this.value);const i=q(t),s=this.children.get(i);return s?s.foreachOnPath_(le(t),we(n,i),r):new oe(null)}}foreach(t){this.foreach_(te(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(we(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.writeTree_=t}static empty(){return new dn(new oe(null))}}function No(e,t,n){if(Q(t))return new dn(new oe(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=ut(i,t);return s=s.updateChild(o,n),new dn(e.writeTree_.set(i,s))}else{const i=new oe(n),s=e.writeTree_.setTree(t,i);return new dn(s)}}}function Kf(e,t,n){let r=e;return qe(n,(i,s)=>{r=No(r,we(t,i),s)}),r}function Fy(e,t){if(Q(t))return dn.empty();{const n=e.writeTree_.setTree(t,new oe(null));return new dn(n)}}function qf(e,t){return xi(e,t)!=null}function xi(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(ut(n.path,t)):null}function jy(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ee,(r,i)=>{t.push(new Y(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new Y(r,i.value))}),t}function kr(e,t){if(Q(t))return e;{const n=xi(e,t);return n!=null?new dn(new oe(n)):new dn(e.writeTree_.subtree(t))}}function Yf(e){return e.writeTree_.isEmpty()}function Is(e,t){return sS(te(),e.writeTree_,t)}function sS(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(P(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=sS(we(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(we(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(e,t){return uS(t,e)}function ED(e,t,n,r,i){P(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=No(e.visibleWrites,t,n)),e.lastWriteId=r}function CD(e,t,n,r){P(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Kf(e.visibleWrites,t,n),e.lastWriteId=r}function SD(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function ID(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);P(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const l=e.allWrites[o];l.visible&&(o>=n&&TD(l,r.path)?i=!1:Ht(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return kD(e),!0;if(r.snap)e.visibleWrites=Fy(e.visibleWrites,r.path);else{const l=r.children;qe(l,a=>{e.visibleWrites=Fy(e.visibleWrites,we(r.path,a))})}return!0}else return!1}function TD(e,t){if(e.snap)return Ht(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Ht(we(e.path,n),t))return!0;return!1}function kD(e){e.visibleWrites=oS(e.allWrites,AD,te()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function AD(e){return e.visible}function oS(e,t,n){let r=dn.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let l;if(s.snap)Ht(n,o)?(l=ut(n,o),r=No(r,l,s.snap)):Ht(o,n)&&(l=ut(o,n),r=No(r,te(),s.snap.getChild(l)));else if(s.children){if(Ht(n,o))l=ut(n,o),r=Kf(r,l,s.children);else if(Ht(o,n))if(l=ut(o,n),Q(l))r=Kf(r,te(),s.children);else{const a=ws(s.children,q(l));if(a){const u=a.getChild(le(l));r=No(r,te(),u)}}}else throw Ds("WriteRecord should have .snap or .children")}}return r}function lS(e,t,n,r,i){if(!r&&!i){const s=xi(e.visibleWrites,t);if(s!=null)return s;{const o=kr(e.visibleWrites,t);if(Yf(o))return n;if(n==null&&!qf(o,te()))return null;{const l=n||B.EMPTY_NODE;return Is(o,l)}}}else{const s=kr(e.visibleWrites,t);if(!i&&Yf(s))return n;if(!i&&n==null&&!qf(s,te()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ht(u.path,t)||Ht(t,u.path))},l=oS(e.allWrites,o,t),a=n||B.EMPTY_NODE;return Is(l,a)}}}function RD(e,t,n){let r=B.EMPTY_NODE;const i=xi(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ee,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=kr(e.visibleWrites,t);return n.forEachChild(Ee,(o,l)=>{const a=Is(kr(s,new se(o)),l);r=r.updateImmediateChild(o,a)}),jy(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=kr(e.visibleWrites,t);return jy(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function ND(e,t,n,r,i){P(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=we(t,n);if(qf(e.visibleWrites,s))return null;{const o=kr(e.visibleWrites,s);return Yf(o)?i.getChild(n):Is(o,i.getChild(n))}}function xD(e,t,n,r){const i=we(t,n),s=xi(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=kr(e.visibleWrites,i);return Is(o,r.getNode().getImmediateChild(n))}else return null}function PD(e,t){return xi(e.visibleWrites,t)}function OD(e,t,n,r,i,s,o){let l;const a=kr(e.visibleWrites,t),u=xi(a,te());if(u!=null)l=u;else if(n!=null)l=Is(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const c=[],d=o.getCompare(),h=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let p=h.getNext();for(;p&&c.length<i;)d(p,r)!==0&&c.push(p),p=h.getNext();return c}else return[]}function DD(){return{visibleWrites:dn.empty(),allWrites:[],lastWriteId:-1}}function Uu(e,t,n,r){return lS(e.writeTree,e.treePath,t,n,r)}function ym(e,t){return RD(e.writeTree,e.treePath,t)}function Uy(e,t,n,r){return ND(e.writeTree,e.treePath,t,n,r)}function $u(e,t){return PD(e.writeTree,we(e.treePath,t))}function bD(e,t,n,r,i,s){return OD(e.writeTree,e.treePath,t,n,r,i,s)}function _m(e,t,n){return xD(e.writeTree,e.treePath,t,n)}function aS(e,t){return uS(we(e.treePath,t),e.writeTree)}function uS(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;P(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),P(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,pl(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,fl(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Cs(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,pl(r,t.snapshotNode,i.oldSnap));else throw Ds("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const cS=new MD;class wm{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Pr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _m(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ci(this.viewCache_),s=bD(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(e){return{filter:e}}function jD(e,t){P(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),P(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function UD(e,t,n,r,i){const s=new LD;let o,l;if(n.type===an.OVERWRITE){const u=n;u.source.fromUser?o=Qf(e,t,u.path,u.snap,r,i,s):(P(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!Q(u.path),o=Bu(e,t,u.path,u.snap,r,i,l,s))}else if(n.type===an.MERGE){const u=n;u.source.fromUser?o=BD(e,t,u.path,u.children,r,i,s):(P(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered(),o=Jf(e,t,u.path,u.children,r,i,l,s))}else if(n.type===an.ACK_USER_WRITE){const u=n;u.revert?o=WD(e,t,u.path,r,i,s):o=VD(e,t,u.path,u.affectedTree,r,i,s)}else if(n.type===an.LISTEN_COMPLETE)o=zD(e,t,n.path,r,s);else throw Ds("Unknown operation type: "+n.type);const a=s.getChanges();return $D(t,o,a),{viewCache:o,changes:a}}function $D(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ju(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(nS(ju(t)))}}function dS(e,t,n,r,i,s){const o=t.eventCache;if($u(r,n)!=null)return t;{let l,a;if(Q(n))if(P(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=Ci(t),c=u instanceof B?u:B.EMPTY_NODE,d=ym(r,c);l=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{const u=Uu(r,Ci(t));l=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=q(n);if(u===".priority"){P(xr(n)===1,"Can't have a priority with additional path components");const c=o.getNode();a=t.serverCache.getNode();const d=Uy(r,n,c,a);d!=null?l=e.filter.updatePriority(c,d):l=o.getNode()}else{const c=le(n);let d;if(o.isCompleteForChild(u)){a=t.serverCache.getNode();const h=Uy(r,n,o.getNode(),a);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=_m(r,u,t.serverCache);d!=null?l=e.filter.updateChild(o.getNode(),u,d,c,i,s):l=o.getNode()}}return Ro(t,l,o.isFullyInitialized()||Q(n),e.filter.filtersNodes())}}function Bu(e,t,n,r,i,s,o,l){const a=t.serverCache;let u;const c=o?e.filter:e.filter.getIndexedFilter();if(Q(n))u=c.updateFullNode(a.getNode(),r,null);else if(c.filtersNodes()&&!a.isFiltered()){const p=a.getNode().updateChild(n,r);u=c.updateFullNode(a.getNode(),p,null)}else{const p=q(n);if(!a.isCompleteForPath(n)&&xr(n)>1)return t;const v=le(n),C=a.getNode().getImmediateChild(p).updateChild(v,r);p===".priority"?u=c.updatePriority(a.getNode(),C):u=c.updateChild(a.getNode(),p,C,v,cS,null)}const d=iS(t,u,a.isFullyInitialized()||Q(n),c.filtersNodes()),h=new wm(i,d,s);return dS(e,d,n,i,h,l)}function Qf(e,t,n,r,i,s,o){const l=t.eventCache;let a,u;const c=new wm(i,t,s);if(Q(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),a=Ro(t,u,!0,e.filter.filtersNodes());else{const d=q(n);if(d===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),a=Ro(t,u,l.isFullyInitialized(),l.isFiltered());else{const h=le(n),p=l.getNode().getImmediateChild(d);let v;if(Q(h))v=r;else{const w=c.getCompleteChild(d);w!=null?um(h)===".priority"&&w.getChild(YC(h)).isEmpty()?v=w:v=w.updateChild(h,r):v=B.EMPTY_NODE}if(p.equals(v))a=t;else{const w=e.filter.updateChild(l.getNode(),d,v,h,c,o);a=Ro(t,w,l.isFullyInitialized(),e.filter.filtersNodes())}}}return a}function $y(e,t){return e.eventCache.isCompleteForChild(t)}function BD(e,t,n,r,i,s,o){let l=t;return r.foreach((a,u)=>{const c=we(n,a);$y(t,q(c))&&(l=Qf(e,l,c,u,i,s,o))}),r.foreach((a,u)=>{const c=we(n,a);$y(t,q(c))||(l=Qf(e,l,c,u,i,s,o))}),l}function By(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Jf(e,t,n,r,i,s,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let a=t,u;Q(n)?u=r:u=new oe(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const p=t.serverCache.getNode().getImmediateChild(d),v=By(e,p,h);a=Bu(e,a,new se(d),v,i,s,o,l)}}),u.children.inorderTraversal((d,h)=>{const p=!t.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!p){const v=t.serverCache.getNode().getImmediateChild(d),w=By(e,v,h);a=Bu(e,a,new se(d),w,i,s,o,l)}}),a}function VD(e,t,n,r,i,s,o){if($u(i,n)!=null)return t;const l=t.serverCache.isFiltered(),a=t.serverCache;if(r.value!=null){if(Q(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Bu(e,t,n,a.getNode().getChild(n),i,s,l,o);if(Q(n)){let u=new oe(null);return a.getNode().forEachChild(hs,(c,d)=>{u=u.set(new se(c),d)}),Jf(e,t,n,u,i,s,l,o)}else return t}else{let u=new oe(null);return r.foreach((c,d)=>{const h=we(n,c);a.isCompleteForPath(h)&&(u=u.set(c,a.getNode().getChild(h)))}),Jf(e,t,n,u,i,s,l,o)}}function zD(e,t,n,r,i){const s=t.serverCache,o=iS(t,s.getNode(),s.isFullyInitialized()||Q(n),s.isFiltered());return dS(e,o,n,r,cS,i)}function WD(e,t,n,r,i,s){let o;if($u(r,n)!=null)return t;{const l=new wm(r,t,i),a=t.eventCache.getNode();let u;if(Q(n)||q(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=Uu(r,Ci(t));else{const d=t.serverCache.getNode();P(d instanceof B,"serverChildren would be complete if leaf node"),c=ym(r,d)}c=c,u=e.filter.updateFullNode(a,c,s)}else{const c=q(n);let d=_m(r,c,t.serverCache);d==null&&t.serverCache.isCompleteForChild(c)&&(d=a.getImmediateChild(c)),d!=null?u=e.filter.updateChild(a,c,d,le(n),l,s):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(a,c,B.EMPTY_NODE,le(n),l,s):u=a,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Uu(r,Ci(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||$u(r,te())!=null,Ro(t,u,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new fm(r.getIndex()),s=uD(r);this.processor_=FD(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(B.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(B.EMPTY_NODE,l.getNode(),null),c=new Pr(a,o.isFullyInitialized(),i.filtersNodes()),d=new Pr(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=zc(d,c),this.eventGenerator_=new mD(this.query_)}get query(){return this.query_}}function GD(e){return e.viewCache_.serverCache.getNode()}function KD(e){return ju(e.viewCache_)}function qD(e,t){const n=Ci(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Q(t)&&!n.getImmediateChild(q(t)).isEmpty())?n.getChild(t):null}function Vy(e){return e.eventRegistrations_.length===0}function YD(e,t){e.eventRegistrations_.push(t)}function zy(e,t,n){const r=[];if(n){P(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function Wy(e,t,n,r){t.type===an.MERGE&&t.source.queryId!==null&&(P(Ci(e.viewCache_),"We should always have a full cache before handling merges"),P(ju(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=UD(e.processor_,i,t,n,r);return jD(e.processor_,s.viewCache),P(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,hS(e,s.changes,s.viewCache.eventCache.getNode(),null)}function QD(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ee,(s,o)=>{r.push(Cs(s,o))}),n.isFullyInitialized()&&r.push(nS(n.getNode())),hS(e,r,n.getNode(),t)}function hS(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return vD(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu;class fS{constructor(){this.views=new Map}}function JD(e){P(!Vu,"__referenceConstructor has already been defined"),Vu=e}function XD(){return P(Vu,"Reference.ts has not been loaded"),Vu}function ZD(e){return e.views.size===0}function Em(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return P(s!=null,"SyncTree gave us an op for an invalid query."),Wy(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(Wy(o,t,n,r));return s}}function pS(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let l=Uu(n,i?r:null),a=!1;l?a=!0:r instanceof B?(l=ym(n,r),a=!1):(l=B.EMPTY_NODE,a=!1);const u=zc(new Pr(l,a,!1),new Pr(r,i,!1));return new HD(t,u)}return o}function e9(e,t,n,r,i,s){const o=pS(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),YD(o,n),QD(o,n)}function t9(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const l=Or(e);if(i==="default")for(const[a,u]of e.views.entries())o=o.concat(zy(u,n,r)),Vy(u)&&(e.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=e.views.get(i);a&&(o=o.concat(zy(a,n,r)),Vy(a)&&(e.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!Or(e)&&s.push(new(XD())(t._repo,t._path)),{removed:s,events:o}}function gS(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Ar(e,t){let n=null;for(const r of e.views.values())n=n||qD(r,t);return n}function mS(e,t){if(t._queryParams.loadsAllData())return Hc(e);{const r=t._queryIdentifier;return e.views.get(r)}}function vS(e,t){return mS(e,t)!=null}function Or(e){return Hc(e)!=null}function Hc(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu;function n9(e){P(!zu,"__referenceConstructor has already been defined"),zu=e}function r9(){return P(zu,"Reference.ts has not been loaded"),zu}let i9=1;class Hy{constructor(t){this.listenProvider_=t,this.syncPointTree_=new oe(null),this.pendingWriteTree_=DD(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function yS(e,t,n,r,i){return ED(e.pendingWriteTree_,t,n,r,i),i?$s(e,new Ei(gm(),t,n)):[]}function s9(e,t,n,r){CD(e.pendingWriteTree_,t,n,r);const i=oe.fromObject(n);return $s(e,new Ss(gm(),t,i))}function fr(e,t,n=!1){const r=SD(e.pendingWriteTree_,t);if(ID(e.pendingWriteTree_,t)){let s=new oe(null);return r.snap!=null?s=s.set(te(),!0):qe(r.children,o=>{s=s.set(new se(o),!0)}),$s(e,new Fu(r.path,s,n))}else return[]}function Wl(e,t,n){return $s(e,new Ei(mm(),t,n))}function o9(e,t,n){const r=oe.fromObject(n);return $s(e,new Ss(mm(),t,r))}function l9(e,t){return $s(e,new ml(mm(),t))}function a9(e,t,n){const r=Sm(e,n);if(r){const i=Im(r),s=i.path,o=i.queryId,l=ut(s,t),a=new ml(vm(o),l);return Tm(e,s,a)}else return[]}function Wu(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let l=[];if(o&&(t._queryIdentifier==="default"||vS(o,t))){const a=t9(o,t,n,r);ZD(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const c=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(s,(h,p)=>Or(p));if(c&&!d){const h=e.syncPointTree_.subtree(s);if(!h.isEmpty()){const p=d9(h);for(let v=0;v<p.length;++v){const w=p[v],C=w.query,m=CS(e,w);e.listenProvider_.startListening(xo(C),vl(e,C),m.hashFn,m.onComplete)}}}!d&&u.length>0&&!r&&(c?e.listenProvider_.stopListening(xo(t),null):u.forEach(h=>{const p=e.queryToTagMap.get(Gc(h));e.listenProvider_.stopListening(xo(h),p)}))}h9(e,u)}return l}function _S(e,t,n,r){const i=Sm(e,r);if(i!=null){const s=Im(i),o=s.path,l=s.queryId,a=ut(o,t),u=new Ei(vm(l),a,n);return Tm(e,o,u)}else return[]}function u9(e,t,n,r){const i=Sm(e,r);if(i){const s=Im(i),o=s.path,l=s.queryId,a=ut(o,t),u=oe.fromObject(n),c=new Ss(vm(l),a,u);return Tm(e,o,c)}else return[]}function Xf(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(h,p)=>{const v=ut(h,i);s=s||Ar(p,v),o=o||Or(p)});let l=e.syncPointTree_.get(i);l?(o=o||Or(l),s=s||Ar(l,te())):(l=new fS,e.syncPointTree_=e.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=B.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((p,v)=>{const w=Ar(v,te());w&&(s=s.updateImmediateChild(p,w))}));const u=vS(l,t);if(!u&&!t._queryParams.loadsAllData()){const h=Gc(t);P(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=f9();e.queryToTagMap.set(h,p),e.tagToQueryMap.set(p,h)}const c=Wc(e.pendingWriteTree_,i);let d=e9(l,t,n,c,s,a);if(!u&&!o&&!r){const h=mS(l,t);d=d.concat(p9(e,t,h))}return d}function Cm(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,l)=>{const a=ut(o,t),u=Ar(l,a);if(u)return u});return lS(i,t,s,n,!0)}function c9(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=ut(u,n);r=r||Ar(c,d)});let i=e.syncPointTree_.get(n);i?r=r||Ar(i,te()):(i=new fS,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=r!=null,o=s?new Pr(r,!0,!1):null,l=Wc(e.pendingWriteTree_,t._path),a=pS(i,t,l,s?o.getNode():B.EMPTY_NODE,s);return KD(a)}function $s(e,t){return wS(t,e.syncPointTree_,null,Wc(e.pendingWriteTree_,te()))}function wS(e,t,n,r){if(Q(e.path))return ES(e,t,n,r);{const i=t.get(te());n==null&&i!=null&&(n=Ar(i,te()));let s=[];const o=q(e.path),l=e.operationForChild(o),a=t.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,c=aS(r,o);s=s.concat(wS(l,a,u,c))}return i&&(s=s.concat(Em(i,e,r,n))),s}}function ES(e,t,n,r){const i=t.get(te());n==null&&i!=null&&(n=Ar(i,te()));let s=[];return t.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=aS(r,o),c=e.operationForChild(o);c&&(s=s.concat(ES(c,l,a,u)))}),i&&(s=s.concat(Em(i,e,r,n))),s}function CS(e,t){const n=t.query,r=vl(e,n);return{hashFn:()=>(GD(t)||B.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?a9(e,n._path,r):l9(e,n._path);{const s=l5(i,n);return Wu(e,n,null,s)}}}}function vl(e,t){const n=Gc(t);return e.queryToTagMap.get(n)}function Gc(e){return e._path.toString()+"$"+e._queryIdentifier}function Sm(e,t){return e.tagToQueryMap.get(t)}function Im(e){const t=e.indexOf("$");return P(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new se(e.substr(0,t))}}function Tm(e,t,n){const r=e.syncPointTree_.get(t);P(r,"Missing sync point for query tag that we're tracking");const i=Wc(e.pendingWriteTree_,t);return Em(r,n,i,null)}function d9(e){return e.fold((t,n,r)=>{if(n&&Or(n))return[Hc(n)];{let i=[];return n&&(i=gS(n)),qe(r,(s,o)=>{i=i.concat(o)}),i}})}function xo(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(r9())(e._repo,e._path):e}function h9(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=Gc(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function f9(){return i9++}function p9(e,t,n){const r=t._path,i=vl(e,t),s=CS(e,n),o=e.listenProvider_.startListening(xo(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)P(!Or(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,c,d)=>{if(!Q(u)&&c&&Or(c))return[Hc(c).query];{let h=[];return c&&(h=h.concat(gS(c).map(p=>p.query))),qe(d,(p,v)=>{h=h.concat(v)}),h}});for(let u=0;u<a.length;++u){const c=a[u];e.listenProvider_.stopListening(xo(c),vl(e,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new km(n)}node(){return this.node_}}class Am{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=we(this.path_,t);return new Am(this.syncTree_,n)}node(){return Cm(this.syncTree_,this.path_)}}const g9=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Gy=function(e,t,n){if(!e||typeof e!="object")return e;if(P(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return m9(e[".sv"],t,n);if(typeof e[".sv"]=="object")return v9(e[".sv"],t);P(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},m9=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:P(!1,"Unexpected server value: "+e)}},v9=function(e,t,n){e.hasOwnProperty("increment")||P(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&P(!1,"Unexpected increment value: "+r);const i=t.node();if(P(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},SS=function(e,t,n,r){return Rm(t,new Am(n,e),r)},IS=function(e,t,n){return Rm(e,new km(t),n)};function Rm(e,t,n){const r=e.getPriority().val(),i=Gy(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,l=Gy(o.getValue(),t,n);return l!==o.getValue()||i!==o.getPriority().val()?new De(l,xe(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new De(i))),o.forEachChild(Ee,(l,a)=>{const u=Rm(a,t.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function xm(e,t){let n=t instanceof se?t:new se(t),r=e,i=q(n);for(;i!==null;){const s=ws(r.node.children,i)||{children:{},childCount:0};r=new Nm(i,r,s),n=le(n),i=q(n)}return r}function Bs(e){return e.node.value}function TS(e,t){e.node.value=t,Zf(e)}function kS(e){return e.node.childCount>0}function y9(e){return Bs(e)===void 0&&!kS(e)}function Kc(e,t){qe(e.node.children,(n,r)=>{t(new Nm(n,e,r))})}function AS(e,t,n,r){n&&!r&&t(e),Kc(e,i=>{AS(i,t,!0,r)}),n&&r&&t(e)}function _9(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Hl(e){return new se(e.parent===null?e.name:Hl(e.parent)+"/"+e.name)}function Zf(e){e.parent!==null&&w9(e.parent,e.name,e)}function w9(e,t,n){const r=y9(n),i=Rn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Zf(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Zf(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=/[\[\].#$\/\u0000-\u001F\u007F]/,C9=/[\[\].#$\u0000-\u001F\u007F]/,sh=10*1024*1024,Pm=function(e){return typeof e=="string"&&e.length!==0&&!E9.test(e)},RS=function(e){return typeof e=="string"&&e.length!==0&&!C9.test(e)},S9=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),RS(e)},I9=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!im(e)||e&&typeof e=="object"&&Rn(e,".sv")},T9=function(e,t,n,r){r&&t===void 0||qc(_c(e,"value"),t,n)},qc=function(e,t,n){const r=n instanceof se?new B5(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+qr(r));if(typeof t=="function")throw new Error(e+"contains a function "+qr(r)+" with contents = "+t.toString());if(im(t))throw new Error(e+"contains "+t.toString()+" "+qr(r));if(typeof t=="string"&&t.length>sh/3&&wc(t)>sh)throw new Error(e+"contains a string greater than "+sh+" utf8 bytes "+qr(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(qe(t,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Pm(o)))throw new Error(e+" contains an invalid key ("+o+") "+qr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);V5(r,o),qc(e,l,r),z5(r)}),i&&s)throw new Error(e+' contains ".value" child '+qr(r)+" in addition to actual children.")}},k9=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=hl(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Pm(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort($5);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&Ht(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},A9=function(e,t,n,r){if(r&&t===void 0)return;const i=_c(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];qe(t,(o,l)=>{const a=new se(o);if(qc(i,l,we(n,a)),um(a)===".priority"&&!I9(l))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(a)}),k9(i,s)},NS=function(e,t,n,r){if(!(r&&n===void 0)&&!RS(n))throw new Error(_c(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},R9=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),NS(e,t,n,r)},N9=function(e,t){if(q(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},x9=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Pm(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!S9(n))throw new Error(_c(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yc(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!cm(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function xS(e,t,n){Yc(e,n),PS(e,r=>cm(r,t))}function Xt(e,t,n){Yc(e,n),PS(e,r=>Ht(r,t)||Ht(t,r))}function PS(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(O9(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function O9(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();ui&&ze("event: "+n.toString()),Us(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9="repo_interrupt",b9=25;class L9{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new P9,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Mu(),this.transactionQueueTree_=new Nm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function M9(e,t,n){if(e.stats_=lm(e.repoInfo_),e.forceRestClient_||d5())e.server_=new Lu(e.repoInfo_,(r,i,s,o)=>{Ky(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>qy(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Pe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Vn(e.repoInfo_,t,(r,i,s,o)=>{Ky(e,r,i,s,o)},r=>{qy(e,r)},r=>{j9(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=m5(e.repoInfo_,()=>new gD(e.stats_,e.server_)),e.infoData_=new cD,e.infoSyncTree_=new Hy({startListening:(r,i,s,o)=>{let l=[];const a=e.infoData_.getNode(r._path);return a.isEmpty()||(l=Wl(e.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Om(e,"connected",!1),e.serverSyncTree_=new Hy({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);Xt(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function F9(e){const n=e.infoData_.getNode(new se(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Qc(e){return g9({timestamp:F9(e)})}function Ky(e,t,n,r,i){e.dataUpdateCount++;const s=new se(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const a=gu(n,u=>xe(u));o=u9(e.serverSyncTree_,s,a,i)}else{const a=xe(n);o=_S(e.serverSyncTree_,s,a,i)}else if(r){const a=gu(n,u=>xe(u));o=o9(e.serverSyncTree_,s,a)}else{const a=xe(n);o=Wl(e.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=Ts(e,s)),Xt(e.eventQueue_,l,o)}function qy(e,t){Om(e,"connected",t),t===!1&&V9(e)}function j9(e,t){qe(t,(n,r)=>{Om(e,n,r)})}function Om(e,t,n){const r=new se("/.info/"+t),i=xe(n);e.infoData_.updateSnapshot(r,i);const s=Wl(e.infoSyncTree_,r,i);Xt(e.eventQueue_,r,s)}function Dm(e){return e.nextWriteId_++}function U9(e,t,n){const r=c9(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const s=xe(i).withIndex(t._queryParams.getIndex());Xf(e.serverSyncTree_,t,n,!0);let o;if(t._queryParams.loadsAllData())o=Wl(e.serverSyncTree_,t._path,s);else{const l=vl(e.serverSyncTree_,t);o=_S(e.serverSyncTree_,t._path,s,l)}return Xt(e.eventQueue_,t._path,o),Wu(e.serverSyncTree_,t,n,null,!0),s},i=>(Gl(e,"get for query "+Pe(t)+" failed: "+i),Promise.reject(new Error(i))))}function $9(e,t,n,r,i){Gl(e,"set",{path:t.toString(),value:n,priority:r});const s=Qc(e),o=xe(n,r),l=Cm(e.serverSyncTree_,t),a=IS(o,l,s),u=Dm(e),c=yS(e.serverSyncTree_,t,a,u,!0);Yc(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(h,p)=>{const v=h==="ok";v||dt("set at "+t+" failed: "+h);const w=fr(e.serverSyncTree_,u,!v);Xt(e.eventQueue_,t,w),ep(e,i,h,p)});const d=Lm(e,t);Ts(e,d),Xt(e.eventQueue_,d,[])}function B9(e,t,n,r){Gl(e,"update",{path:t.toString(),value:n});let i=!0;const s=Qc(e),o={};if(qe(n,(l,a)=>{i=!1,o[l]=SS(we(t,l),xe(a),e.serverSyncTree_,s)}),i)ze("update() called with empty data.  Don't do anything."),ep(e,r,"ok",void 0);else{const l=Dm(e),a=s9(e.serverSyncTree_,t,o,l);Yc(e.eventQueue_,a),e.server_.merge(t.toString(),n,(u,c)=>{const d=u==="ok";d||dt("update at "+t+" failed: "+u);const h=fr(e.serverSyncTree_,l,!d),p=h.length>0?Ts(e,t):t;Xt(e.eventQueue_,p,h),ep(e,r,u,c)}),qe(n,u=>{const c=Lm(e,we(t,u));Ts(e,c)}),Xt(e.eventQueue_,t,[])}}function V9(e){Gl(e,"onDisconnectEvents");const t=Qc(e),n=Mu();Gf(e.onDisconnect_,te(),(i,s)=>{const o=SS(i,s,e.serverSyncTree_,t);rS(n,i,o)});let r=[];Gf(n,te(),(i,s)=>{r=r.concat(Wl(e.serverSyncTree_,i,s));const o=Lm(e,i);Ts(e,o)}),e.onDisconnect_=Mu(),Xt(e.eventQueue_,te(),r)}function z9(e,t,n){let r;q(t._path)===".info"?r=Xf(e.infoSyncTree_,t,n):r=Xf(e.serverSyncTree_,t,n),xS(e.eventQueue_,t._path,r)}function Yy(e,t,n){let r;q(t._path)===".info"?r=Wu(e.infoSyncTree_,t,n):r=Wu(e.serverSyncTree_,t,n),xS(e.eventQueue_,t._path,r)}function W9(e){e.persistentConnection_&&e.persistentConnection_.interrupt(D9)}function Gl(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),ze(n,...t)}function ep(e,t,n,r){t&&Us(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function OS(e,t,n){return Cm(e.serverSyncTree_,t,n)||B.EMPTY_NODE}function bm(e,t=e.transactionQueueTree_){if(t||Jc(e,t),Bs(t)){const n=bS(e,t);P(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&H9(e,Hl(t),n)}else kS(t)&&Kc(t,n=>{bm(e,n)})}function H9(e,t,n){const r=n.map(u=>u.currentWriteId),i=OS(e,t,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];P(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=ut(t,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const l=s.val(!0),a=t;e.server_.put(a.toString(),l,u=>{Gl(e,"transaction put response",{path:a.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(fr(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Jc(e,xm(e.transactionQueueTree_,t)),bm(e,e.transactionQueueTree_),Xt(e.eventQueue_,t,c);for(let h=0;h<d.length;h++)Us(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{dt("transaction at "+a.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Ts(e,t)}},o)}function Ts(e,t){const n=DS(e,t),r=Hl(n),i=bS(e,n);return G9(e,i,r),r}function G9(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const a=t[l],u=ut(n,a.path);let c=!1,d;if(P(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)c=!0,d=a.abortReason,i=i.concat(fr(e.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=b9)c=!0,d="maxretry",i=i.concat(fr(e.serverSyncTree_,a.currentWriteId,!0));else{const h=OS(e,a.path,o);a.currentInputSnapshot=h;const p=t[l].update(h.val());if(p!==void 0){qc("transaction failed: Data returned ",p,a.path);let v=xe(p);typeof p=="object"&&p!=null&&Rn(p,".priority")||(v=v.updatePriority(h.getPriority()));const C=a.currentWriteId,m=Qc(e),f=IS(v,h,m);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=f,a.currentWriteId=Dm(e),o.splice(o.indexOf(C),1),i=i.concat(yS(e.serverSyncTree_,a.path,f,a.currentWriteId,a.applyLocally)),i=i.concat(fr(e.serverSyncTree_,C,!0))}else c=!0,d="nodata",i=i.concat(fr(e.serverSyncTree_,a.currentWriteId,!0))}Xt(e.eventQueue_,n,i),i=[],c&&(t[l].status=2,function(h){setTimeout(h,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(d==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(d),!1,null))))}Jc(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Us(r[l]);bm(e,e.transactionQueueTree_)}function DS(e,t){let n,r=e.transactionQueueTree_;for(n=q(t);n!==null&&Bs(r)===void 0;)r=xm(r,n),t=le(t),n=q(t);return r}function bS(e,t){const n=[];return LS(e,t,n),n.sort((r,i)=>r.order-i.order),n}function LS(e,t,n){const r=Bs(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Kc(t,i=>{LS(e,i,n)})}function Jc(e,t){const n=Bs(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,TS(t,n.length>0?n:void 0)}Kc(t,r=>{Jc(e,r)})}function Lm(e,t){const n=Hl(DS(e,t)),r=xm(e.transactionQueueTree_,t);return _9(r,i=>{oh(e,i)}),oh(e,r),AS(r,i=>{oh(e,i)}),n}function oh(e,t){const n=Bs(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(P(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(P(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(fr(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?TS(t,void 0):n.length=s+1,Xt(e.eventQueue_,Hl(t),i);for(let o=0;o<r.length;o++)Us(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function q9(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):dt(`Invalid query segment '${n}' in query '${e}'`)}return t}const Qy=function(e,t){const n=Y9(e),r=n.namespace;n.domain==="firebase.com"&&Qn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||n5();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new $C(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new se(n.pathString)}},Y9=function(e){let t="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=K9(e.substring(c,d)));const h=q9(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(t.substring(u+1),10)):u=t.length;const p=t.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),s=r}"ns"in h&&(s=h.ns)}return{host:t,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Pe(this.snapshot.exportVal())}}class FS{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return P(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Q(this._path)?null:um(this._path)}get ref(){return new Nn(this._repo,this._path)}get _queryIdentifier(){const t=Ly(this._queryParams),n=sm(t);return n==="{}"?"default":n}get _queryObject(){return Ly(this._queryParams)}isEqual(t){if(t=Qe(t),!(t instanceof Mm))return!1;const n=this._repo===t._repo,r=cm(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+U5(this._path)}}class Nn extends Mm{constructor(t,n){super(t,n,new pm,!1)}get parent(){const t=YC(this._path);return t===null?null:new Nn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class ks{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new se(t),r=yl(this.ref,t);return new ks(this._node.getChild(n),r,Ee)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new ks(i,yl(this.ref,r),Ee)))}hasChild(t){const n=new se(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Xc(e,t){return e=Qe(e),e._checkNotDeleted("ref"),t!==void 0?yl(e._root,t):e._root}function yl(e,t){return e=Qe(e),q(e._path)===null?R9("child","path",t,!1):NS("child","path",t,!1),new Nn(e._repo,we(e._path,t))}function Q9(e,t){e=Qe(e),N9("set",e._path),T9("set",t,e._path,!1);const n=new Al;return $9(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function J9(e,t){A9("update",t,e._path,!1);const n=new Al;return B9(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function X9(e){e=Qe(e);const t=new jS(()=>{}),n=new Zc(t);return U9(e._repo,e,n).then(r=>new ks(r,new Nn(e._repo,e._path),e._queryParams.getIndex()))}class Zc{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new MS("value",this,new ks(t.snapshotNode,new Nn(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new FS(this,t,n):null}matches(t){return t instanceof Zc?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Fm{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new FS(this,t,n):null}createEvent(t,n){P(t.childName!=null,"Child events should have a childName.");const r=yl(new Nn(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new MS(t.type,this,new ks(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Fm?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Z9(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const a=n,u=(c,d)=>{Yy(e._repo,e,l),a(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new jS(n,s||void 0),l=t==="value"?new Zc(o):new Fm(t,o);return z9(e._repo,e,l),()=>Yy(e._repo,e,l)}function eb(e,t,n,r){return Z9(e,"value",t,n,r)}JD(Nn);n9(Nn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="FIREBASE_DATABASE_EMULATOR_HOST",tp={};let nb=!1;function rb(e,t,n,r){e.repoInfo_=new $C(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function ib(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ze("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=Qy(s,i),l=o.repoInfo,a,u;typeof process<"u"&&vy&&(u=vy[tb]),u?(a=!0,s=`http://${u}?ns=${l.namespace}`,o=Qy(s,i),l=o.repoInfo):a=!o.repoInfo.secure;const c=i&&a?new ds(ds.OWNER):new f5(e.name,e.options,t);x9("Invalid Firebase Database URL",o),Q(o.path)||Qn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=ob(l,e,c,new h5(e.name,n));return new lb(d,e)}function sb(e,t){const n=tp[t];(!n||n[e.key]!==e)&&Qn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),W9(e),delete n[e.key]}function ob(e,t,n,r){let i=tp[t.name];i||(i={},tp[t.name]=i);let s=i[e.toURLString()];return s&&Qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new L9(e,nb,n,r),i[e.toURLString()]=s,s}class lb{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(M9(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Nn(this._repo,te())),this._rootInternal}_delete(){return this._rootInternal!==null&&(sb(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Qn("Cannot call "+t+" on a deleted database.")}}function ab(e=gg(),t){const n=Ai(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=uR("database");r&&ub(n,...r)}return n}function ub(e,t,n,r={}){e=Qe(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Qn("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ds(ds.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:cR(r.mockUserToken,e.app.options.projectId);s=new ds(o)}rb(i,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(e){JO(Ri),fn(new Yt("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return ib(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Et(yy,_y,e),Et(yy,_y,"esm2017")}Vn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Vn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};cb();const db={apiKey:"AIzaSyDZTdRn4Auo-weSPUceWIFinY0rQsVNn3U",authDomain:"jobchaser-26d9a.firebaseapp.com",projectId:"jobchaser-26d9a",storageBucket:"jobchaser-26d9a.appspot.com",messagingSenderId:"871802840073",appId:"1:871802840073:web:3c289fe370ec71235784d8",measurementId:"G-QGYD6EBDJH",databaseURL:"https://jobchaser-26d9a-default-rtdb.europe-west1.firebasedatabase.app"},hb=f2(db);KO(hb);const ed=ab();function Kl(){const e=f4(),t=new bn,[n]=w4(e);return{auth:e,user:n,provider:t,signInWithRedirect:A3,signInWithPopup:E3,signInWithEmailAndPassword:JP,createUserWithEmailAndPassword:QP,onAuthStateChanged:VE,signOut:e3}}function US(e,t,n,r=null,i=null){Q9(Xc(ed,"users/"+e),{userId:e,fullname:n,email:t,password:r,profileImg:i})}function Jy(e,t){const n=Xc(ed);return new Promise((r,i)=>{X9(yl(n,e+"/"+t)).then(s=>{if(s.exists()){const o=s.val();r(o)}else r(s.exists()),console.log("No data available")}).catch(s=>{console.error(s)})})}function fb(e){return new Promise((t,n)=>{eb(Xc(ed,"SavedJobs/"+e),r=>{t(r.val())})})}function Xy(e,t){J9(Xc(ed,"SavedJobs/"+t),{jobs:e})}function $e(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var pb=typeof Symbol=="function"&&Symbol.observable||"@@observable",Zy=pb,lh=()=>Math.random().toString(36).substring(7).split("").join("."),gb={INIT:`@@redux/INIT${lh()}`,REPLACE:`@@redux/REPLACE${lh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${lh()}`},Hu=gb;function jm(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function $S(e,t,n){if(typeof e!="function")throw new Error($e(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error($e(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error($e(1));return n($S)(e,t)}let r=e,i=t,s=new Map,o=s,l=0,a=!1;function u(){o===s&&(o=new Map,s.forEach((C,m)=>{o.set(m,C)}))}function c(){if(a)throw new Error($e(3));return i}function d(C){if(typeof C!="function")throw new Error($e(4));if(a)throw new Error($e(5));let m=!0;u();const f=l++;return o.set(f,C),function(){if(m){if(a)throw new Error($e(6));m=!1,u(),o.delete(f),s=null}}}function h(C){if(!jm(C))throw new Error($e(7));if(typeof C.type>"u")throw new Error($e(8));if(typeof C.type!="string")throw new Error($e(17));if(a)throw new Error($e(9));try{a=!0,i=r(i,C)}finally{a=!1}return(s=o).forEach(f=>{f()}),C}function p(C){if(typeof C!="function")throw new Error($e(10));r=C,h({type:Hu.REPLACE})}function v(){const C=d;return{subscribe(m){if(typeof m!="object"||m===null)throw new Error($e(11));function f(){const E=m;E.next&&E.next(c())}return f(),{unsubscribe:C(f)}},[Zy](){return this}}}return h({type:Hu.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:p,[Zy]:v}}function mb(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Hu.INIT})>"u")throw new Error($e(12));if(typeof n(void 0,{type:Hu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($e(13))})}function vb(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{mb(n)}catch(s){i=s}return function(o={},l){if(i)throw i;let a=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],h=n[d],p=o[d],v=h(p,l);if(typeof v>"u")throw l&&l.type,new Error($e(14));u[d]=v,a=a||v!==p}return a=a||r.length!==Object.keys(o).length,a?u:o}}function Gu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function yb(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error($e(15))};const o={getState:i.getState,dispatch:(a,...u)=>s(a,...u)},l=e.map(a=>a(o));return s=Gu(...l)(i.dispatch),{...i,dispatch:s}}}function _b(e){return jm(e)&&"type"in e&&typeof e.type=="string"}var BS=Symbol.for("immer-nothing"),e_=Symbol.for("immer-draftable"),Lt=Symbol.for("immer-state");function on(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var As=Object.getPrototypeOf;function Dr(e){return!!e&&!!e[Lt]}function Jn(e){var t;return e?VS(e)||Array.isArray(e)||!!e[e_]||!!((t=e.constructor)!=null&&t[e_])||nd(e)||rd(e):!1}var wb=Object.prototype.constructor.toString();function VS(e){if(!e||typeof e!="object")return!1;const t=As(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===wb}function Ku(e,t){td(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function td(e){const t=e[Lt];return t?t.type_:Array.isArray(e)?1:nd(e)?2:rd(e)?3:0}function np(e,t){return td(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function zS(e,t,n){const r=td(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Eb(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function nd(e){return e instanceof Map}function rd(e){return e instanceof Set}function Yr(e){return e.copy_||e.base_}function rp(e,t){if(nd(e))return new Map(e);if(rd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&VS(e))return As(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[Lt];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(As(e),n)}function Um(e,t=!1){return id(e)||Dr(e)||!Jn(e)||(td(e)>1&&(e.set=e.add=e.clear=e.delete=Cb),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Um(r,!0))),e}function Cb(){on(2)}function id(e){return Object.isFrozen(e)}var Sb={};function Si(e){const t=Sb[e];return t||on(0,e),t}var _l;function WS(){return _l}function Ib(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function t_(e,t){t&&(Si("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ip(e){sp(e),e.drafts_.forEach(Tb),e.drafts_=null}function sp(e){e===_l&&(_l=e.parent_)}function n_(e){return _l=Ib(_l,e)}function Tb(e){const t=e[Lt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function r_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Lt].modified_&&(ip(t),on(4)),Jn(e)&&(e=qu(t,e),t.parent_||Yu(t,e)),t.patches_&&Si("Patches").generateReplacementPatches_(n[Lt].base_,e,t.patches_,t.inversePatches_)):e=qu(t,n,[]),ip(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==BS?e:void 0}function qu(e,t,n){if(id(t))return t;const r=t[Lt];if(!r)return Ku(t,(i,s)=>i_(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Yu(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Ku(s,(l,a)=>i_(e,r,i,l,a,n,o)),Yu(e,i,!1),n&&e.patches_&&Si("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function i_(e,t,n,r,i,s,o){if(Dr(i)){const l=s&&t&&t.type_!==3&&!np(t.assigned_,r)?s.concat(r):void 0,a=qu(e,i,l);if(zS(n,r,a),Dr(a))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Jn(i)&&!id(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;qu(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Yu(e,i)}}function Yu(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Um(t,n)}function kb(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:WS(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=$m;n&&(i=[r],s=wl);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=o,l}var $m={get(e,t){if(t===Lt)return e;const n=Yr(e);if(!np(n,t))return Ab(e,n,t);const r=n[t];return e.finalized_||!Jn(r)?r:r===ah(e.base_,t)?(uh(e),e.copy_[t]=lp(r,e)):r},has(e,t){return t in Yr(e)},ownKeys(e){return Reflect.ownKeys(Yr(e))},set(e,t,n){const r=HS(Yr(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=ah(Yr(e),t),s=i==null?void 0:i[Lt];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Eb(n,i)&&(n!==void 0||np(e.base_,t)))return!0;uh(e),op(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ah(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,uh(e),op(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Yr(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){on(11)},getPrototypeOf(e){return As(e.base_)},setPrototypeOf(){on(12)}},wl={};Ku($m,(e,t)=>{wl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});wl.deleteProperty=function(e,t){return wl.set.call(this,e,t,void 0)};wl.set=function(e,t,n){return $m.set.call(this,e[0],t,n,e[0])};function ah(e,t){const n=e[Lt];return(n?Yr(n):e)[t]}function Ab(e,t,n){var i;const r=HS(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function HS(e,t){if(!(t in e))return;let n=As(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=As(n)}}function op(e){e.modified_||(e.modified_=!0,e.parent_&&op(e.parent_))}function uh(e){e.copy_||(e.copy_=rp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Rb=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(a=s,...u){return o.produce(a,c=>n.call(this,c,...u))}}typeof n!="function"&&on(6),r!==void 0&&typeof r!="function"&&on(7);let i;if(Jn(t)){const s=n_(this),o=lp(t,void 0);let l=!0;try{i=n(o),l=!1}finally{l?ip(s):sp(s)}return t_(s,r),r_(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===BS&&(i=void 0),this.autoFreeze_&&Um(i,!0),r){const s=[],o=[];Si("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else on(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,a=>t(a,...l));let r,i;return[this.produce(t,n,(o,l)=>{r=o,i=l}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Jn(e)||on(8),Dr(e)&&(e=GS(e));const t=n_(this),n=lp(e,void 0);return n[Lt].isManual_=!0,sp(t),n}finishDraft(e,t){const n=e&&e[Lt];(!n||!n.isManual_)&&on(9);const{scope_:r}=n;return t_(r,t),r_(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Si("Patches").applyPatches_;return Dr(e)?r(e,t):this.produce(e,i=>r(i,t))}};function lp(e,t){const n=nd(e)?Si("MapSet").proxyMap_(e,t):rd(e)?Si("MapSet").proxySet_(e,t):kb(e,t);return(t?t.scope_:WS()).drafts_.push(n),n}function GS(e){return Dr(e)||on(10,e),KS(e)}function KS(e){if(!Jn(e)||id(e))return e;const t=e[Lt];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=rp(e,t.scope_.immer_.useStrictShallowCopy_)}else n=rp(e,!0);return Ku(n,(r,i)=>{zS(n,r,KS(i))}),t&&(t.finalized_=!1),n}var Mt=new Rb,qS=Mt.produce;Mt.produceWithPatches.bind(Mt);Mt.setAutoFreeze.bind(Mt);Mt.setUseStrictShallowCopy.bind(Mt);Mt.applyPatches.bind(Mt);Mt.createDraft.bind(Mt);Mt.finishDraft.bind(Mt);function Nb(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function xb(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Pb(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var s_=e=>Array.isArray(e)?e:[e];function Ob(e){const t=Array.isArray(e[0])?e[0]:e;return Pb(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Db(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var bb=class{constructor(e){this.value=e}deref(){return this.value}},Lb=typeof WeakRef<"u"?WeakRef:bb,Mb=0,o_=1;function Ca(){return{s:Mb,v:void 0,o:null,p:null}}function Bm(e,t={}){let n=Ca();const{resultEqualityCheck:r}=t;let i,s=0;function o(){var d;let l=n;const{length:a}=arguments;for(let h=0,p=a;h<p;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let w=l.o;w===null&&(l.o=w=new WeakMap);const C=w.get(v);C===void 0?(l=Ca(),w.set(v,l)):l=C}else{let w=l.p;w===null&&(l.p=w=new Map);const C=w.get(v);C===void 0?(l=Ca(),w.set(v,l)):l=C}}const u=l;let c;if(l.s===o_?c=l.v:(c=e.apply(null,arguments),s++),u.s=o_,r){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&r(h,c)&&(c=h,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new Lb(c):c}return u.v=c,c}return o.clearCache=()=>{n=Ca(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function YS(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,o=0,l,a={},u=i.pop();typeof u=="object"&&(a=u,u=i.pop()),Nb(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...a},{memoize:d,memoizeOptions:h=[],argsMemoize:p=Bm,argsMemoizeOptions:v=[],devModeChecks:w={}}=c,C=s_(h),m=s_(v),f=Ob(i),g=d(function(){return s++,u.apply(null,arguments)},...C),E=p(function(){o++;const x=Db(f,arguments);return l=g.apply(null,x),l},...m);return Object.assign(E,{resultFunc:u,memoizedResultFunc:g,dependencies:f,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var Fb=YS(Bm),jb=Object.assign((e,t=Fb)=>{xb(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((o,l,a)=>(o[n[a]]=l,o),{}))},{withTypes:()=>jb});function QS(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var Ub=QS(),$b=QS,Bb=(...e)=>{const t=YS(...e),n=Object.assign((...r)=>{const i=t(...r),s=(o,...l)=>i(Dr(o)?GS(o):o,...l);return Object.assign(s,i),s},{withTypes:()=>n});return n};Bb(Bm);var Vb=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Gu:Gu.apply(null,arguments)},zb=e=>e&&typeof e.match=="function";function zn(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(St(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>_b(r)&&r.type===e,n}var JS=class po extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,po.prototype)}static get[Symbol.species](){return po}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new po(...t[0].concat(this)):new po(...t.concat(this))}};function l_(e){return Jn(e)?qS(e,()=>{}):e}function a_(e,t,n){if(e.has(t)){let i=e.get(t);return n.update&&(i=n.update(i,t,e),e.set(t,i)),i}if(!n.insert)throw new Error(St(10));const r=n.insert(t,e);return e.set(t,r),r}function Wb(e){return typeof e=="boolean"}var Hb=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new JS;return n&&(Wb(n)?o.push(Ub):o.push($b(n.extraArgument))),o},Gb="RTK_autoBatch",XS=e=>t=>{setTimeout(t,e)},Kb=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:XS(10),qb=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,o=!1;const l=new Set,a=e.type==="tick"?queueMicrotask:e.type==="raf"?Kb:e.type==="callback"?e.queueNotification:XS(e.timeout),u=()=>{o=!1,s&&(s=!1,l.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),h=r.subscribe(d);return l.add(c),()=>{h(),l.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[Gb]),s=!i,s&&(o||(o=!0,a(u))),r.dispatch(c)}finally{i=!0}}})},Yb=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new JS(e);return r&&i.push(qb(typeof r=="object"?r:void 0)),i},Qb=!0;function Jb(e){const t=Hb(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(jm(n))l=vb(n);else throw new Error(St(1));let a;typeof r=="function"?a=r(t):a=t();let u=Gu;i&&(u=Vb({trace:!Qb,...typeof i=="object"&&i}));const c=yb(...a),d=Yb(c);let h=typeof o=="function"?o(d):d();const p=u(...h);return $S(l,s,p)}function ZS(e){const t={},n=[];let r;const i={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(St(28));if(l in t)throw new Error(St(29));return t[l]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function Xb(e){return typeof e=="function"}function Zb(e,t){let[n,r,i]=ZS(t),s;if(Xb(e))s=()=>l_(e());else{const l=l_(e);s=()=>l}function o(l=s(),a){let u=[n[a.type],...r.filter(({matcher:c})=>c(a)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(Dr(c)){const p=d(c,a);return p===void 0?c:p}else{if(Jn(c))return qS(c,h=>d(h,a));{const h=d(c,a);if(h===void 0){if(c===null)return c;throw new Error(St(9))}return h}}return c},l)}return o.getInitialState=s,o}var eL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",eI=(e=21)=>{let t="",n=e;for(;n--;)t+=eL[Math.random()*64|0];return t},tL=(e,t)=>zb(e)?e.match(t):e(t);function nL(...e){return t=>e.some(n=>tL(n,t))}var rL=["name","message","stack","code"],ch=class{constructor(e,t){ld(this,"_type");this.payload=e,this.meta=t}},u_=class{constructor(e,t){ld(this,"_type");this.payload=e,this.meta=t}},iL=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of rL)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},sL=(()=>{function e(t,n,r){const i=zn(t+"/fulfilled",(a,u,c,d)=>({payload:a,meta:{...d||{},arg:c,requestId:u,requestStatus:"fulfilled"}})),s=zn(t+"/pending",(a,u,c)=>({payload:void 0,meta:{...c||{},arg:u,requestId:a,requestStatus:"pending"}})),o=zn(t+"/rejected",(a,u,c,d,h)=>({payload:d,error:(r&&r.serializeError||iL)(a||"Rejected"),meta:{...h||{},arg:c,requestId:u,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(a==null?void 0:a.name)==="AbortError",condition:(a==null?void 0:a.name)==="ConditionError"}}));function l(a){return(u,c,d)=>{const h=r!=null&&r.idGenerator?r.idGenerator(a):eI(),p=new AbortController;let v,w;function C(f){w=f,p.abort()}const m=async function(){var E,T;let f;try{let x=(E=r==null?void 0:r.condition)==null?void 0:E.call(r,a,{getState:c,extra:d});if(lL(x)&&(x=await x),x===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const O=new Promise((A,V)=>{v=()=>{V({name:"AbortError",message:w||"Aborted"})},p.signal.addEventListener("abort",v)});u(s(h,a,(T=r==null?void 0:r.getPendingMeta)==null?void 0:T.call(r,{requestId:h,arg:a},{getState:c,extra:d}))),f=await Promise.race([O,Promise.resolve(n(a,{dispatch:u,getState:c,extra:d,requestId:h,signal:p.signal,abort:C,rejectWithValue:(A,V)=>new ch(A,V),fulfillWithValue:(A,V)=>new u_(A,V)})).then(A=>{if(A instanceof ch)throw A;return A instanceof u_?i(A.payload,h,a,A.meta):i(A,h,a)})])}catch(x){f=x instanceof ch?o(null,h,a,x.payload,x.meta):o(x,h,a)}finally{v&&p.signal.removeEventListener("abort",v)}return r&&!r.dispatchConditionRejection&&o.match(f)&&f.meta.condition||u(f),f}();return Object.assign(m,{abort:C,requestId:h,arg:a,unwrap(){return m.then(oL)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,settled:nL(o,i),typePrefix:t})}return e.withTypes=()=>e,e})();function oL(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function lL(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var aL=Symbol.for("rtk-slice-createasyncthunk");function uL(e,t){return`${e}/${t}`}function cL({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[aL];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(St(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(hL()):i.reducers)||{},a=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(g,E){const T=typeof g=="string"?g:g.type;if(!T)throw new Error(St(12));if(T in u.sliceCaseReducersByType)throw new Error(St(13));return u.sliceCaseReducersByType[T]=E,c},addMatcher(g,E){return u.sliceMatchers.push({matcher:g,reducer:E}),c},exposeAction(g,E){return u.actionCreators[g]=E,c},exposeCaseReducer(g,E){return u.sliceCaseReducersByName[g]=E,c}};a.forEach(g=>{const E=l[g],T={reducerName:g,type:uL(s,g),createNotation:typeof i.reducers=="function"};pL(E)?mL(T,E,c,t):fL(T,E,c)});function d(){const[g={},E=[],T=void 0]=typeof i.extraReducers=="function"?ZS(i.extraReducers):[i.extraReducers],x={...g,...u.sliceCaseReducersByType};return Zb(i.initialState,O=>{for(let A in x)O.addCase(A,x[A]);for(let A of u.sliceMatchers)O.addMatcher(A.matcher,A.reducer);for(let A of E)O.addMatcher(A.matcher,A.reducer);T&&O.addDefaultCase(T)})}const h=g=>g,p=new Map;let v;function w(g,E){return v||(v=d()),v(g,E)}function C(){return v||(v=d()),v.getInitialState()}function m(g,E=!1){function T(O){let A=O[g];return typeof A>"u"&&E&&(A=C()),A}function x(O=h){const A=a_(p,E,{insert:()=>new WeakMap});return a_(A,O,{insert:()=>{const V={};for(const[G,$]of Object.entries(i.selectors??{}))V[G]=dL($,O,C,E);return V}})}return{reducerPath:g,getSelectors:x,get selectors(){return x(T)},selectSlice:T}}const f={name:s,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:C,...m(o),injectInto(g,{reducerPath:E,...T}={}){const x=E??o;return g.inject({reducerPath:x,reducer:w},T),{...f,...m(x,!0)}}};return f}}function dL(e,t,n,r){function i(s,...o){let l=t(s);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return i.unwrapped=e,i}var sd=cL();function hL(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function fL({type:e,reducerName:t,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!gL(r))throw new Error(St(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?zn(e,o):zn(e))}function pL(e){return e._reducerDefinitionType==="asyncThunk"}function gL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function mL({type:e,reducerName:t},n,r,i){if(!i)throw new Error(St(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:a,settled:u,options:c}=n,d=i(e,s,c);r.exposeAction(t,d),o&&r.addCase(d.fulfilled,o),l&&r.addCase(d.pending,l),a&&r.addCase(d.rejected,a),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:o||Sa,pending:l||Sa,rejected:a||Sa,settled:u||Sa})}function Sa(){}var vL=(e,t)=>{if(typeof e!="function")throw new Error(St(32))},Vm="listenerMiddleware",yL=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=zn(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(St(21));return vL(s),{predicate:i,type:t,effect:s}},_L=Object.assign(e=>{const{type:t,predicate:n,effect:r}=yL(e);return{id:eI(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(St(22))}}},{withTypes:()=>_L}),wL=Object.assign(zn(`${Vm}/add`),{withTypes:()=>wL});zn(`${Vm}/removeAll`);var EL=Object.assign(zn(`${Vm}/remove`),{withTypes:()=>EL});function St(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const CL={bodyStyle:{overflow:"auto"},isMobileScreen:!1,menuClass:null,checked:!1,timeoutId:null,styleTransition:"none",marginBottom:"none"},tI=sd({name:"sidemenu",initialState:CL,reducers:{TOGGLE_MENU:e=>{const{menuClass:t,timeoutId:n}=e;if(t){n?(clearTimeout(n),e.timeoutId=setTimeout(()=>"none",350)):e.timeoutId=setTimeout(()=>"none",350),e.checked=!1,e.menuClass=null;return}if(t===null){e.styleTransition="translate 350ms",e.checked=!0,e.menuClass="show-menu";return}},IS_DESKTOP:e=>{e.isMobileScreen=!1,e.checked=!1,e.menuClass=null,e.styleTransition="none",console.log(e.styleTransition)},IS_MOBILE:(e,t)=>{e.isMobileScreen=t.payload},STYLE_TRANSITION:(e,t)=>{e.styleTransition=t.payload},MARGIN_BOTTOM:(e,t)=>{e.marginBottom=t.payload}}}),{IS_DESKTOP:SL,TOGGLE_MENU:nI,IS_MOBILE:c_,MENU_CLASS:yM,TIMEOUT_ID:_M,CHECKED:wM,STYLE_TRANSITION:IL,MARGIN_BOTTOM:d_}=tI.actions,TL=tI.reducer;var rI={exports:{}},iI={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ql=N;function kL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var AL=typeof Object.is=="function"?Object.is:kL,RL=ql.useSyncExternalStore,NL=ql.useRef,xL=ql.useEffect,PL=ql.useMemo,OL=ql.useDebugValue;iI.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=NL(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=PL(function(){function a(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var v=o.value;if(i(v,p))return d=v}return d=p}if(v=d,AL(c,p))return v;var w=r(p);return i!==void 0&&i(v,w)?v:(c=p,d=w)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return a(t())},h===null?void 0:function(){return a(h())}]},[t,n,r,i]);var l=RL(e,s[0],s[1]);return xL(function(){o.hasValue=!0,o.value=l},[l]),OL(l),l};rI.exports=iI;var DL=rI.exports,Pt="default"in Eh?Vt:Eh,h_=Symbol.for("react-redux-context"),f_=typeof globalThis<"u"?globalThis:{};function bL(){if(!Pt.createContext)return{};const e=f_[h_]??(f_[h_]=new Map);let t=e.get(Pt.createContext);return t||(t=Pt.createContext(null),e.set(Pt.createContext,t)),t}var br=bL(),LL=()=>{throw new Error("uSES not initialized!")};function zm(e=br){return function(){return Pt.useContext(e)}}var sI=zm(),oI=LL,ML=e=>{oI=e},FL=(e,t)=>e===t;function jL(e=br){const t=e===br?sI:zm(e),n=(r,i={})=>{const{equalityFn:s=FL,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:a,getServerState:u,stabilityCheck:c,identityFunctionCheck:d}=t();Pt.useRef(!0);const h=Pt.useCallback({[r.name](v){return r(v)}}[r.name],[r,c,o.stabilityCheck]),p=oI(a.addNestedSub,l.getState,u||l.getState,h,s);return Pt.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var Ge=jL();function UL(e){e()}function $L(){let e=null,t=null;return{clear(){e=null,t=null},notify(){UL(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var p_={notify(){},get:()=>[]};function BL(e,t){let n,r=p_,i=0,s=!1;function o(w){c();const C=r.subscribe(w);let m=!1;return()=>{m||(m=!0,C(),d())}}function l(){r.notify()}function a(){v.onStateChange&&v.onStateChange()}function u(){return s}function c(){i++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=$L())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=p_)}function h(){s||(s=!0,c())}function p(){s&&(s=!1,d())}const v={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:a,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return v}var VL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zL=VL?Pt.useLayoutEffect:Pt.useEffect;function WL({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Pt.useMemo(()=>{const u=BL(e);return{store:e,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[e,r,i,s]),l=Pt.useMemo(()=>e.getState(),[e]);zL(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,l]);const a=t||br;return Pt.createElement(a.Provider,{value:o},n)}var HL=WL;function lI(e=br){const t=e===br?sI:zm(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var GL=lI();function KL(e=br){const t=e===br?GL:lI(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var er=KL();ML(DL.useSyncExternalStoreWithSelector);function qL({menuClass:e,textColorHeader:t,checked:n,color:r}){const i=er();return y.jsxs("div",{onClick:()=>i(nI()),className:"menu",children:[y.jsx("div",{style:{background:e?r:t},className:"bar"}),y.jsx("input",{style:{background:e?r:t},checked:n,type:"checkbox",className:"bar"}),y.jsx("div",{style:{background:e?r:t},className:"bar"}),y.jsx("p",{style:{color:e?r:t},children:"Menu"})]})}function dh({label:e,className:t,isMobileScreen:n,color:r,textColorHeader:i,isDarkTheme:s}){const[o,l]=N.useState("");return N.useEffect(()=>{e.toLocaleLowerCase()==="hem"&&l("/Jobchaser/"),e.toLocaleLowerCase()==="lediga jobb"&&l("/Jobchaser/Find-job"),e.toLocaleLowerCase()==="logga in"&&l("/Jobchaser/Sign-in")},[]),y.jsxs(Jw,{style:{color:n?r:i},to:o,children:[e,n&&y.jsx("img",{className:t,src:s?Uw:$w,alt:"chevron icon"})]})}const YL="_toggleContainer_rm62v_13",QL="_slider_rm62v_65",hh={toggleContainer:YL,switch:"_switch_rm62v_39",slider:QL},JL={isDarkTheme:!1,textColorHeader:"",color:"",background:""},aI=sd({name:"background",initialState:JL,reducers:{setIsDarkTheme:e=>{if(e.isDarkTheme===!1){e.isDarkTheme=!0;return}if(e.isDarkTheme===!0){e.isDarkTheme=!1,console.log(e.isDarkTheme);return}},setTextColorHeader:(e,t)=>{e.textColorHeader=t.payload},setColor:e=>{e.color=e.isDarkTheme?"":"#ffff"},setBackground:e=>{e.background=e.isDarkTheme?"linear-gradient(147deg, #4d4855 0%, #000000 74%)":"whitesmoke"}}}),{setTextColorHeader:uI,setColor:EM,setBackground:CM,setIsDarkTheme:XL}=aI.actions,ZL=aI.reducer;function e6({sidemenu:e,color:t,textColorHeader:n}){document.getElementById("checkbox");const r=er();function i(){r({type:"background/setColor"}),r(XL())}return y.jsx(y.Fragment,{children:y.jsxs("div",{className:hh.toggleContainer,children:[y.jsx("p",{style:{color:e?t:n},children:"Dark Mode"}),y.jsxs("label",{className:hh.switch,children:[y.jsx("input",{onClick:i,type:"checkbox",id:"checkbox"}),y.jsx("span",{className:hh.slider})]})]})})}function t6(){const e=Ge(f=>f.user.isOnline),{textColorHeader:t,color:n,isDarkTheme:r,background:i}=Ge(f=>f.background),{bodyStyle:s,isMobileScreen:o,menuClass:l,checked:a,timeoutId:u,styleTransition:c,marginBottom:d}=Ge(f=>f.sidemenu),h=er(),{auth:p}=Kl(),v=window.matchMedia("(width < 1249px)"),w=window.matchMedia("(height < 801px)"),C=document.body;C.style.background=r?"linear-gradient(147deg, #4d4855 0%, #000000 74%)":"whitesmoke",N.useEffect(()=>{if(h({type:"background/setBackground"}),document.getElementById("root"),r){C.style.background="linear-gradient(147deg, #4d4855 0%, #000000 74%)";return}if(!r){C.style.background="whitesmoke";return}},[r]),N.useEffect(()=>{v.matches&&h(c_(!0)),v.addEventListener("change",f=>{if(!f.matches){C.style.overflowY=s.overflow,h(SL());return}h(c_(!0)),h(IL("none"))}),w.addEventListener("change",f=>{f.matches&&h(d_("-120px")),f.matches||h(d_("0px"))})},[]);function m(f){if(f)return n?iv:sv;if(!f)return t==="white"?iv:sv}return y.jsx(y.Fragment,{children:y.jsx("header",{children:y.jsxs("div",{className:"header-container",children:[y.jsxs("div",{className:"title-container",style:{color:l?n:t},children:[y.jsx("img",{tabIndex:0,src:eA,alt:"Jobchaser logo"}),y.jsx("span",{className:"char-in-logo",style:{color:l?n:t},children:"J"}),y.jsx("p",{children:"Jobchaser"}),y.jsx("p",{children:"EST 2023"})]}),y.jsx(qL,{menuClass:l,textColorHeader:t,checked:a,color:n}),y.jsxs("nav",{onClick:f=>{if(f.target.tagName!=="SPAN"&&f.target.tagName!=="INPUT"&&l)return h(nI())},className:`link-options ${l}`,style:{transition:c,background:o&&i},children:[y.jsx(e6,{color:n,textColorHeader:t,sidemenu:l}),y.jsx(dh,{label:"Hem",className:"chevron",isMobileScreen:o,color:n,textColorHeader:t,isDarkTheme:r}),y.jsx(dh,{label:"Lediga jobb",className:"chevron",isMobileScreen:o,color:n,textColorHeader:t,isDarkTheme:r}),e&&y.jsxs(Jw,{to:"/Jobchaser/User-profile",style:{color:o?n:t},children:[y.jsxs("div",{className:"profile-container",children:[y.jsx("p",{children:"Profil"}),y.jsx("img",{src:e.profileImg?e.profileImg:Bw,alt:"user profile picture",style:{border:"2px solid "+(l?n:t)}})]}),o&&y.jsx("img",{style:{bottom:"30%"},className:"chevron",src:r?Uw:$w,alt:"chevron icon"})]}),e?y.jsxs("div",{onClick:()=>p.signOut(),className:"sign-out-cont",children:[y.jsx("button",{className:"sign-out-btn",style:{color:o?n:t},children:"Logga ut"}),y.jsx("div",{className:"sign-out-img-container",children:y.jsx("img",{src:m(o),alt:"sign out icon"})})]}):y.jsx(dh,{label:"Logga in",className:"chevron",isMobileScreen:o,color:n,textColorHeader:t,isDarkTheme:r})]})]})})})}const n6="/Jobchaser/assets/Search%20SVG%20Vector-BR--GbvO.svg",r6="/Jobchaser/assets/start-page-background-Dm21Msj3.jpg",i6=()=>{const{isOnline:e}=Ge(n=>n.user),t=yc();return y.jsxs("div",{className:"search-opening-text-container",children:[y.jsxs("picture",{children:[y.jsx("source",{type:"image/webp"}),y.jsx("img",{className:"jobb-hero-img",loading:"lazy",src:r6,alt:"hero image of a women laughing"})]}),y.jsxs("div",{children:[y.jsx("article",{className:"search-opening-text",children:y.jsx("h1",{children:"Lediga jobb för hela Sverige!"})}),y.jsx("button",{style:{background:"#f09711",color:"black",position:"relative"},className:"available-jobs-btn",onClick:()=>t(e?"/Jobchaser/User-profile":"/Jobchaser/Sign-in"),children:"Bli medlem"})]})]})},s6="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2064%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20stroke='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M45.35%206.1709H19.41C16.8178%206.17618%2014.3333%207.20827%2012.5003%209.04123C10.6674%2010.8742%209.63528%2013.3587%209.62999%2015.9509V52.2709C9.6272%2053.3655%209.92973%2054.4392%2010.5036%2055.3713C11.0775%2056.3034%2011.9%2057.057%2012.8787%2057.5474C13.8573%2058.0377%2014.9533%2058.2454%2016.0435%2058.1471C17.1337%2058.0488%2018.1748%2057.6484%2019.05%2056.9909L31.25%2047.8509C31.5783%2047.6074%2031.9762%2047.4759%2032.385%2047.4759C32.7938%2047.4759%2033.1917%2047.6074%2033.52%2047.8509L45.71%2056.9809C46.5842%2057.6387%2047.6246%2058.0397%2048.7142%2058.1387C49.8038%2058.2378%2050.8994%2058.0311%2051.8779%2057.5418C52.8565%2057.0525%2053.6793%2056.3001%2054.2537%2055.3689C54.8282%2054.4378%2055.1317%2053.365%2055.13%2052.2709V15.9509C55.1247%2013.3587%2054.0926%2010.8742%2052.2597%209.04123C50.4267%207.20827%2047.9422%206.17618%2045.35%206.1709Z'%20fill='%23ffffff'/%3e%3c/g%3e%3c/svg%3e",o6="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2064%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M45.35%206.1709H19.41C16.8178%206.17618%2014.3333%207.20827%2012.5003%209.04123C10.6674%2010.8742%209.63528%2013.3587%209.62999%2015.9509V52.2709C9.6272%2053.3655%209.92973%2054.4392%2010.5036%2055.3713C11.0775%2056.3034%2011.9%2057.057%2012.8787%2057.5474C13.8573%2058.0377%2014.9533%2058.2454%2016.0435%2058.1471C17.1337%2058.0488%2018.1748%2057.6484%2019.05%2056.9909L31.25%2047.8509C31.5783%2047.6074%2031.9762%2047.4759%2032.385%2047.4759C32.7938%2047.4759%2033.1917%2047.6074%2033.52%2047.8509L45.71%2056.9809C46.5842%2057.6387%2047.6246%2058.0397%2048.7142%2058.1387C49.8038%2058.2378%2050.8994%2058.0311%2051.8779%2057.5418C52.8565%2057.0525%2053.6793%2056.3001%2054.2537%2055.3689C54.8282%2054.4378%2055.1317%2053.365%2055.13%2052.2709V15.9509C55.1247%2013.3587%2054.0926%2010.8742%2052.2597%209.04123C50.4267%207.20827%2047.9422%206.17618%2045.35%206.1709Z'%20fill='%23000000'/%3e%3c/g%3e%3c/svg%3e",l6={isOnline:null,savedJobAds:[]},cI=sd({name:"user",initialState:l6,reducers:{userState:(e,t)=>{e.isOnline=t.payload},jobListing:(e,t)=>{e.savedJobAds=t.payload},saveJobAd:(e,t)=>{e.savedJobAds.unshift(t.payload)}}}),{userState:fh,jobListing:ap,saveJobAd:a6}=cI.actions,u6=cI.reducer;function c6({style:e,jobObj:t}){const{savedJobAds:n,isOnline:r}=Ge(d=>d.user),i=er(),[s,o]=N.useState(null),[l,a]=N.useState(null);N.useEffect(()=>{if(n.map(h=>h.id).includes(t.id)&&s===null){a(!0);return}c(s)},[s]);function u(){if(l){o(!1),a(null);return}r&&o(d=>!d)}function c(d){if(d===!0)i(a6(t));else if(d===!1&&n.length!==0){const h=n.map(p=>{if(p.id===t.id)return null;if(p.id!==t.id)return p});i(ap(h.filter(p=>p!==null))),Xy(h,r.userId)}}return N.useEffect(()=>{r&&Xy(n,r.userId)},[n]),y.jsxs("div",{className:e,children:[y.jsx("img",{onClick:u,tabIndex:0,src:s||l?o6:s6,alt:"save to favorite button"}),y.jsx("p",{children:l||s?"Sparad":"Spara"})]})}const d6="/Jobchaser/assets/Jobchaser-log-D2mofJjZ.svg";function dI(e){const{id:t,headline:n,duration:{label:r},employer:{name:i},working_hours_type:{label:s},employment_type:{label:o},occupation:{label:l},workplace_address:{municipality:a},last_publication_date:u,webpage_url:c,logo_url:d}=e;return y.jsxs("li",{className:"card",children:[y.jsx(c6,{style:"favorite-btn",jobObj:e}),y.jsx("div",{className:"card-logo-container",children:y.jsx("img",{src:d||d6,alt:`Logo for ${i}`})}),y.jsxs("article",{className:"information-container",children:[y.jsx("div",{className:"card-title-container",children:y.jsx("a",{style:{color:"black"},href:c,children:y.jsx("h2",{children:n})})}),y.jsxs("div",{className:"details-container",children:[y.jsxs("div",{className:"upper-job-details",children:[y.jsx("p",{children:i}),y.jsxs("p",{children:["Position: ",y.jsx("span",{style:{fontWeight:"500"},children:l})]}),y.jsxs("p",{children:["Kommun: ",y.jsx("span",{style:{fontWeight:"500"},children:a})]})]}),y.jsxs("div",{className:"lower-job-details",children:[y.jsxs("p",{children:["Omfattning: ",s]}),y.jsxs("p",{children:["Varaktighet: ",r]}),y.jsxs("p",{children:["Anställningsform: ",o]})]})]})]}),y.jsxs("div",{className:"footer",children:[y.jsx("a",{href:c,children:y.jsx("p",{style:{color:"#3E619F"},children:"Besök webbplatsen"})}),y.jsxs("div",{children:[y.jsx("p",{children:"Sista datum: "}),y.jsx("p",{children:u})]})]})]},t)}const h6=({jobs:e})=>y.jsx("div",{className:"card-container",children:y.jsx("ul",{className:"card-layout",children:e.map(t=>dI(t))})}),f6={inputValue:"",submitValue:"",error:"",jobs:[]},up=sL("search/fetchingJobData",async e=>await(await fetch("https://jobsearch.api.jobtechdev.se/search?q="+e)).json()),hI=sd({name:"search",initialState:f6,reducers:{submit:e=>{e.submitValue=e.inputValue},input:(e,t)=>{e.inputValue=t.payload},error:(e,t)=>{e.error=t.payload},tag:(e,t)=>{const n=t.payload;e.inputValue=n,e.submitValue=n}},extraReducers:e=>{e.addCase(up.fulfilled,(t,n)=>{const r=n.payload;if(r.hits.length<1){t.jobs=null;return}else{const i=r.hits.map(s=>{const o="Information saknas";return s.duration.label===null&&(s.duration.label=o),s.working_hours_type.label===null&&(s.working_hours_type.label=o),s.employment_type.label===null&&(s.employment_type.label=o),s});t.jobs=i}}).addCase(up.rejected,(t,n)=>{console.log("s"),t.error=n.payload})}}),{submit:p6,input:g6,error:SM,tag:ph}=hI.actions,m6=hI.reducer;function v6(){const{inputValue:e,submitValue:t,error:n,jobs:r}=Ge(s=>s.search);Ge(s=>s.background);const i=er();return N.useEffect(()=>{i(uI("black")),i(up(t))},[t]),y.jsxs(y.Fragment,{children:[y.jsx(i6,{}),y.jsxs("form",{tabIndex:0,className:"job-form",onSubmit:s=>{s.preventDefault(),i(p6())},children:[y.jsxs("div",{className:"input-container",children:[y.jsxs("div",{className:"label-for-input",children:[y.jsx("p",{children:"Sök på ett eller flera ord"}),y.jsx("p",{children:"Skriv t.ex. utvecklare Stockholm"})]}),y.jsx("button",{type:"submit",className:"search-btn",children:y.jsx("img",{src:n6,alt:"magnifying glass"})}),y.jsx("input",{className:"search-input",value:e,onChange:s=>i(g6(s.target.value)),type:"text",placeholder:"Jobbtitel, nyckelord eller stad","aria-label":"Search bar for job ads"})]}),y.jsxs("div",{className:"tag-container",children:[y.jsx("div",{onClick:s=>i(ph(s.target.textContent)),className:"tag",children:"Stockholm"}),y.jsx("div",{onClick:s=>i(ph(s.target.textContent)),className:"tag",children:"Jönköping"}),y.jsx("div",{onClick:s=>i(ph(s.target.textContent)),className:"tag",children:"Göteborg"})]})]}),Array.isArray(r)&&r.length!==0&&y.jsx(h6,{jobs:r}),n&&y.jsx("div",{className:"error-container",children:y.jsx("h1",{children:n})})]})}const y6="/Jobchaser/assets/Female%20pp-Cja9UEM7.png",_6="/Jobchaser/assets/Male%20pp-gAItaz0u.png",w6="/Jobchaser/assets/Female%20pp-1-Dy8qnpCo.png",E6="/Jobchaser/assets/Male%20pp-1-e-OwLf6a.png",C6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAAJCAYAAACIYoQoAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADRSURBVHgB3ZS9DcIwEIXfORGigxGyQiREnRQBSrJBsgFMwgiwAfRQpAMBEhmBEVIi8mMsByElGAnK4zXWPX/3JMv2AS3Jc7DED+LAiwZwDCJIRPIwnuGbQCY86c2L10fZ8VDJhXIcZWXKDWEXKblJ9hbGjCd5Gq2VMcUnEVY02MavQIa8gH2PIelqBpRv5fOGx5AX+vpL4RuhXPjt58GRrwdP95YZoT/x60Pm+rMqyQRUhXrVpegZm5nxti5KNY0suDTcpc+2jdxPHBQWGUOZ8Q90bh3S9+OHDQAAAABJRU5ErkJggg==",S6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAAJCAYAAACIYoQoAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEiSURBVHgB1dQxT8JAFAfw/6OtxqXB6OYgiR9ASYS5mJD4CXR1d3F2Mf0klm/gLEZkIpGElITv0bGloTweBzQtLQlsxxt67d3vLn3X1wO2gv/bdzggdPPx5L3gK7kFB04NhJ5q93kBDT2fXfWCIMj5XJKwrA+5VmFan9gnNPRMJ1XDMHKepBxeQHQr++DIc/ZT/8mwLzvZp/vvr02n7n568YT48ll5IvKZuW+u6RuK4aiJ82RcHDoOLwnKHIwr1Ox6glyUBrvU/PWyPcfkJUnXtm2P0o5hm7cRNbqEHaGrz5QrJEHl1cHDg8dahvvp3ejhunRBjT1xnPowDJVfna7mTBDLz8wtavzUly0YHYTGedmiOvvTm9d6kiQtKdVOFEXKLwBq9QCB/JQuZAAAAABJRU5ErkJggg==",g_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAAJCAYAAACIYoQoAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE6SURBVHgB1ZRPToQwFMbfo8Swc7gBcwQSY+KOzahLuQHcwDnJHMG5gS5NdMFOoyZyA+cG/FkZp536UXQSLCS6qy8hpV9/PPryvpboR+iXxRX9IVzj27a1eG+Q8GmRkaZMP55d0m824BiPAjMMWdM0A55NstdkRuogoZ1eQYkg1VBT8mXJcVFbP3eMr6pqJoRI8LrCY3hmTqWUZRiGNevn02skuKCpYFrz0V2+34BjPLoHnqZ5orVH/kdOmjfjCaGL7XKgOcYrpXKt9Sjf6Vhf9nZ9OI/IV28WJcWcT26tBK7xsGsEu1o8CpzDrpv+4gneLZ//K92c2Wm9L3JrDitCF8S71Ixm6h2OfuoaT988Fehe2o3dJAgCw/tmSaFiQTEf35df8I2xjBQ8mtI1Hh1DcTGsuec7C0Mz/CcdKSqPumuAJwAAAABJRU5ErkJggg==",I6=[{id:"DA86E2400000000006174283575328768",userName:"Sofia Lundén",header:"Fantastiskt jobbsökningsplattform!",content:"Jag har testat många jobbsökningsplattformar, men Jobchaser sticker ut för sin effektivitet och effektivitet. Sökfilterna är omfattande, vilket gör att jag snabbt kan begränsa mina alternativ. Dessutom håller notifieringssystemet mig uppdaterad om nya listor som matchar mina kriterier. Tack vare Jobchaser landade jag mitt drömjobb inom veckor efter att ha använt plattformen. Kunde inte vara lyckligare!"},{id:"IO91FPSA2019418445971456",userName:"Douglas Fowler",header:"Effektiv och effektiv.",content:"Jobchaser har varit en absolut spelväxlare för mig i min jobbjakt. Gränssnittet är användarvänligt, vilket gör det enkelt att navigera bland listor och ansöka om relevanta positioner. Jag uppskattar särskilt funktionen för personliga jobbförslag, som har hjälpt mig att upptäcka möjligheter jag annars inte skulle ha hittat. Rekommenderas varmt!"},{id:"SD134UQB6568605363732480",userName:"Catherine Simpson",header:"Ett måste-ha verktyg för jobbsökande!",content:"Jobchaser är ett måste-ha verktyg för alla som är på jobbjakt. Det som skiljer det åt är dess intuitiva design och robusta funktioner. Möjligheten att spara favoritlistor och följa ansökningsstatus har avsevärt effektiviserat min jobbsökningsprocess. Plattformens omfattande databas ser till att jag aldrig tar slut på alternativ. Kudos till Jobchaser-teamet för att ha skapat en sådan värdefull resurs."},{id:"RX85MDYP8606513606164480",userName:"Simon Liamsson",header:"Oersättlig resurs för jobbsökande!",content:"Som nyligen examinerad som går in på arbetsmarknaden har Jobchaser varit en ovärderlig resurs. Inte bara samlar det jobblistor från olika källor, utan det ger också insikter om företagskulturer och intervjuupplevelser delade av andra användare. Den gemenskapliga aspekten lägger till en unik dimension på plattformen, vilket främjar samarbete och stöd bland jobbsökande. Tack vare Jobchaser säkrade jag flera jobberbjudanden på en konkurrensutsatt marknad. Mycket imponerad!"}],T6=()=>{const{isDarkTheme:e,color:t}=Ge(i=>i.background),n=[y6,_6,w6,E6],r=[C6,S6,g_,g_];return y.jsxs("div",{style:{color:t},className:"reviews-container",children:[y.jsx("h3",{style:{color:t},children:"Recensioner"}),y.jsx("ul",{className:"reviews-card-layout",children:I6.map((i,s)=>y.jsxs("li",{style:{background:e?"black":"white",border:"1px solid whitesmoke"},tabIndex:0,"aria-label":"A review card",className:"review-card",children:[y.jsxs("div",{className:"upper-container",children:[y.jsx("div",{className:"pp-container",children:y.jsx("img",{src:n[s],alt:"Profile pic"})}),y.jsx("div",{className:"ratings-container",children:y.jsx("img",{loading:"lazy",src:r[s],alt:"Ratings, five stars"})})]}),y.jsxs("article",{children:[y.jsxs("h4",{children:[y.jsx("span",{className:"user-highlight",children:i.userName})," har lämnat en recension."]}),y.jsxs("div",{className:"text-container",children:[y.jsx("h5",{children:i.header}),y.jsx("p",{children:i.content})]})]})]},i.id))})]})},k6="/Jobchaser/assets/amazon-white-color-B6Vmuslb.svg",A6="/Jobchaser/assets/amazon-dark-color-DRi9NAKT.svg",R6="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M30.0014%2016.3109C30.0014%2015.1598%2029.9061%2014.3198%2029.6998%2013.4487H16.2871V18.6442H24.1601C24.0014%2019.9354%2023.1442%2021.8798%2021.2394%2023.1864L21.2127%2023.3604L25.4536%2026.58L25.7474%2026.6087C28.4458%2024.1665%2030.0014%2020.5731%2030.0014%2016.3109Z'%20fill='%234285F4'/%3e%3cpath%20d='M16.2863%2029.9998C20.1434%2029.9998%2023.3814%2028.7553%2025.7466%2026.6086L21.2386%2023.1863C20.0323%2024.0108%2018.4132%2024.5863%2016.2863%2024.5863C12.5086%2024.5863%209.30225%2022.1441%208.15929%2018.7686L7.99176%2018.7825L3.58208%2022.127L3.52441%2022.2841C5.87359%2026.8574%2010.699%2029.9998%2016.2863%2029.9998Z'%20fill='%2334A853'/%3e%3cpath%20d='M8.15964%2018.769C7.85806%2017.8979%207.68352%2016.9645%207.68352%2016.0001C7.68352%2015.0356%207.85806%2014.1023%208.14377%2013.2312L8.13578%2013.0456L3.67083%209.64746L3.52475%209.71556C2.55654%2011.6134%202.00098%2013.7445%202.00098%2016.0001C2.00098%2018.2556%202.55654%2020.3867%203.52475%2022.2845L8.15964%2018.769Z'%20fill='%23FBBC05'/%3e%3cpath%20d='M16.2864%207.4133C18.9689%207.4133%2020.7784%208.54885%2021.8102%209.4978L25.8419%205.64C23.3658%203.38445%2020.1435%202%2016.2864%202C10.699%202%205.8736%205.1422%203.52441%209.71549L8.14345%2013.2311C9.30229%209.85555%2012.5086%207.4133%2016.2864%207.4133Z'%20fill='%23EB4335'/%3e%3c/svg%3e",N6="/Jobchaser/assets/netflix-icon-C9XciuAf.svg",x6="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='-3%200%2048%2048'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ctitle%3eAndroid-color%3c/title%3e%3cdesc%3eCreated%20with%20Sketch.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Icons'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cg%20id='Color-'%20transform='translate(-304.000000,%20-560.000000)'%20fill='%2395CF00'%3e%3cpath%20d='M330.727009,569.600905%20C329.935377,569.600905%20329.294532,568.977195%20329.294532,568.206729%20C329.294532,567.436264%20329.935377,566.815376%20330.727009,566.815376%20C331.518641,566.815376%20332.159486,567.436264%20332.159486,568.206729%20C332.159486,568.977195%20331.518641,569.600905%20330.727009,569.600905%20L330.727009,569.600905%20Z%20M319.272991,569.600905%20C318.481359,569.600905%20317.840514,568.977195%20317.840514,568.206729%20C317.840514,567.436264%20318.481359,566.815376%20319.272991,566.815376%20C320.064623,566.815376%20320.705468,567.436264%20320.705468,568.206729%20C320.705468,568.977195%20320.064623,569.600905%20319.272991,569.600905%20L319.272991,569.600905%20Z%20M331.573737,564.018558%20L332.107291,563.233981%20L332.640845,562.460694%20L333.829743,560.722208%20C333.97763,560.507719%20333.916736,560.219853%20333.696355,560.078742%20C333.478873,559.934809%20333.180199,559.994075%20333.038111,560.208564%20L331.222867,562.852982%20L330.677713,563.648847%20C328.952361,562.996915%20327.029826,562.632849%20325,562.632849%20C322.973074,562.632849%20321.047639,562.996915%20319.322287,563.648847%20L318.780033,562.852982%20L318.243579,562.071228%20L316.967688,560.208564%20C316.819801,559.994075%20316.524027,559.937631%20316.303645,560.078742%20C316.086164,560.219853%20316.025269,560.507719%20316.170257,560.722208%20L317.359155,562.460694%20L317.892709,563.233981%20L318.429163,564.018558%20C314.37821,565.855822%20311.637945,569.335616%20311.637945,573.317766%20L338.362055,573.317766%20C338.362055,569.335616%20335.62179,565.855822%20331.573737,564.018558%20Z%20M311.843828,575.174785%20L311.637945,575.174785%20L311.637945,595.613286%20C311.637945,597.236061%20312.992129,598.556859%20314.662386,598.556859%20L316.842999,598.556859%20C316.767606,598.802392%20316.727009,599.059214%20316.727009,599.330147%20L316.727009,605.214471%20C316.727009,606.75258%20318.011599,608%20319.591964,608%20C321.172328,608%20322.456918,606.75258%20322.456918,605.214471%20L322.456918,599.330147%20C322.456918,599.059214%20322.413422,598.802392%20322.340928,598.556859%20L327.659072,598.556859%20C327.586578,598.802392%20327.545982,599.059214%20327.545982,599.330147%20L327.545982,605.214471%20C327.545982,606.75258%20328.827672,608%20330.408036,608%20C331.991301,608%20333.275891,606.75258%20333.275891,605.214471%20L333.275891,599.330147%20C333.275891,599.059214%20333.232394,598.802392%20333.157001,598.556859%20L335.340514,598.556859%20C337.010771,598.556859%20338.362055,597.236061%20338.362055,595.613286%20L338.362055,575.174785%20L311.843828,575.174785%20Z%20M306.864954,575.174785%20C305.28169,575.174785%20304,576.422205%20304,577.960314%20L304,589.884184%20C304,591.422293%20305.28169,592.669713%20306.864954,592.669713%20C308.445319,592.669713%20309.727009,591.422293%20309.727009,589.884184%20L309.727009,577.960314%20C309.727009,576.422205%20308.445319,575.174785%20306.864954,575.174785%20Z%20M343.137945,575.174785%20C341.554681,575.174785%20340.272991,576.422205%20340.272991,577.960314%20L340.272991,589.884184%20C340.272991,591.422293%20341.554681,592.669713%20343.137945,592.669713%20C344.71831,592.669713%20346,591.422293%20346,589.884184%20L346,577.960314%20C346,576.422205%20344.71831,575.174785%20343.137945,575.174785%20Z'%20id='Android'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/svg%3e",P6="/Jobchaser/assets/home-page-hero-pic-BpeKQlgR.avif";function O6(){const{textColorHeader:e,color:t,isDarkTheme:n}=Ge(o=>o.background),{isOnline:r}=Ge(o=>o.user),i=er(),s=yc();return Kl(),N.useEffect(()=>{i(uI("white"));const o=new IntersectionObserver(a=>{a.forEach(u=>{u.isIntersecting&&u.target.classList.add("show-logo")})});Array.from(document.getElementsByClassName("company-logo-container")).forEach(a=>o.observe(a))},[]),y.jsx(y.Fragment,{children:y.jsxs("div",{className:"home-layout",children:[y.jsxs("div",{className:"hero-container",children:[y.jsxs("picture",{children:[y.jsx("source",{type:"image/webp"}),y.jsx("img",{className:"home-hero-img",loading:"lazy",src:P6,alt:"hero image of a women laughing"})]}),y.jsxs("div",{className:"opening-text-container",children:[y.jsxs("article",{className:"opening-text",children:[y.jsxs("h1",{children:["Vi hjälper dig med ditt ",y.jsx("span",{style:{color:"#f09711"},children:"jobbsökande!"})]}),y.jsx("p",{children:"Välkommen till nästa steg i din karriär - vi tar dig närmare anställningen du strävar efter."})]}),y.jsxs("div",{className:"btn-layout",children:[y.jsx("button",{className:"available-jobs-btn",onClick:()=>s("/Jobchaser/Find-job"),children:"Lediga jobb"}),y.jsx("button",{className:"available-jobs-btn",onClick:()=>s(r?"/Jobchaser/User-profile":"/Jobchaser/Sign-in"),children:r?"Profil":"Registrera dig"})]})]})]}),y.jsxs("div",{className:"middle-container",children:[y.jsx("h2",{style:{color:t},children:"Partnerskap med företag världen över"}),y.jsxs("div",{className:"companies-logo-layout",children:[y.jsx("div",{className:"company-logo-container",children:y.jsx("img",{loading:"lazy",src:n?k6:A6,alt:"Amazon logo"})}),y.jsx("div",{className:"company-logo-container",children:y.jsx("img",{loading:"lazy",src:R6,alt:"Google logo"})}),y.jsx("div",{className:"company-logo-container",children:y.jsx("img",{loading:"lazy",src:N6,alt:"Netflix logo"})}),y.jsx("div",{className:"company-logo-container",children:y.jsx("img",{loading:"lazy",src:x6,alt:"Android logo"})})]})]}),y.jsx(T6,{})]})})}var Yl=e=>e.type==="checkbox",Xi=e=>e instanceof Date,lt=e=>e==null;const fI=e=>typeof e=="object";var Ye=e=>!lt(e)&&!Array.isArray(e)&&fI(e)&&!Xi(e),D6=e=>Ye(e)&&e.target?Yl(e.target)?e.target.checked:e.target.value:e,b6=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,L6=(e,t)=>e.has(b6(t)),Ql=e=>Array.isArray(e)?e.filter(Boolean):[],Me=e=>e===void 0,j=(e,t,n)=>{if(!t||!Ye(e))return n;const r=Ql(t.split(/[,[\].]+?/)).reduce((i,s)=>lt(i)?i:i[s],e);return Me(r)||r===e?Me(e[t])?n:e[t]:r};const m_={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ln={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Pn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Vt.createContext(null);var M6=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==ln.all&&(t._proxyFormState[o]=!r||ln.all),n&&(n[o]=!0),e[o]}});return i},Ut=e=>Ye(e)&&!Object.keys(e).length,F6=(e,t,n)=>{const{name:r,...i}=e;return Ut(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(s=>t[s]===(!n||ln.all))},gh=e=>Array.isArray(e)?e:[e];function j6(e){const t=Vt.useRef(e);t.current=e,Vt.useEffect(()=>{const n=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return()=>{n&&n.unsubscribe()}},[e.disabled])}var Cn=e=>typeof e=="string",U6=(e,t,n,r)=>{const i=Array.isArray(e);return Cn(e)?(r&&t.watch.add(e),j(n,e)):i?e.map(s=>(r&&t.watch.add(s),j(n,s))):(r&&(t.watchAll=!0),n)},Qu=e=>typeof e=="function",pI=e=>{for(const t in e)if(Qu(e[t]))return!0;return!1},$6=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},Wm=e=>/^\w*$/.test(e),gI=e=>Ql(e.replace(/["|']|\]/g,"").split(/\.|\[/));function fe(e,t,n){let r=-1;const i=Wm(t)?[t]:gI(t),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let a=n;if(r!==o){const u=e[l];a=Ye(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}e[l]=a,e=e[l]}return e}const cp=(e,t,n)=>{for(const r of n||Object.keys(e)){const i=j(e,r);if(i){const{_f:s,...o}=i;if(s&&t(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else Ye(o)&&cp(o,t)}}};var v_=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),B6=(e,t,n)=>{const r=Ql(j(e,n));return fe(r,"root",t[n]),fe(e,n,r),e},Ju=e=>typeof e=="boolean",Hm=e=>e.type==="file",$a=e=>Cn(e)||Vt.isValidElement(e),Gm=e=>e.type==="radio",Xu=e=>e instanceof RegExp;const y_={value:!1,isValid:!1},__={value:!0,isValid:!0};var mI=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Me(e[0].attributes.value)?Me(e[0].value)||e[0].value===""?__:{value:e[0].value,isValid:!0}:__:y_}return y_};const w_={isValid:!1,value:null};var vI=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,w_):w_;function E_(e,t,n="validate"){if($a(e)||Array.isArray(e)&&e.every($a)||Ju(e)&&!e)return{type:n,message:$a(e)?e:"",ref:t}}var Mi=e=>Ye(e)&&!Xu(e)?e:{value:e,message:""},C_=async(e,t,n,r,i)=>{const{ref:s,refs:o,required:l,maxLength:a,minLength:u,min:c,max:d,pattern:h,validate:p,name:v,valueAsNumber:w,mount:C,disabled:m}=e._f;if(!C||m)return{};const f=o?o[0]:s,g=$=>{r&&f.reportValidity&&(f.setCustomValidity(Ju($)?"":$||" "),f.reportValidity())},E={},T=Gm(s),x=Yl(s),O=T||x,A=(w||Hm(s))&&!s.value||t===""||Array.isArray(t)&&!t.length,V=$6.bind(null,v,n,E),G=($,J,ue,Re=Pn.maxLength,It=Pn.minLength)=>{const Je=$?J:ue;E[v]={type:$?Re:It,message:Je,ref:s,...V($?Re:It,Je)}};if(i?!Array.isArray(t)||!t.length:l&&(!O&&(A||lt(t))||Ju(t)&&!t||x&&!mI(o).isValid||T&&!vI(o).isValid)){const{value:$,message:J}=$a(l)?{value:!!l,message:l}:Mi(l);if($&&(E[v]={type:Pn.required,message:J,ref:f,...V(Pn.required,J)},!n))return g(J),E}if(!A&&(!lt(c)||!lt(d))){let $,J;const ue=Mi(d),Re=Mi(c);if(!lt(t)&&!isNaN(t)){const It=s.valueAsNumber||t&&+t;lt(ue.value)||($=It>ue.value),lt(Re.value)||(J=It<Re.value)}else{const It=s.valueAsDate||new Date(t),Je=z=>new Date(new Date().toDateString()+" "+z),xn=s.type=="time",b=s.type=="week";Cn(ue.value)&&t&&($=xn?Je(t)>Je(ue.value):b?t>ue.value:It>new Date(ue.value)),Cn(Re.value)&&t&&(J=xn?Je(t)<Je(Re.value):b?t<Re.value:It<new Date(Re.value))}if(($||J)&&(G(!!$,ue.message,Re.message,Pn.max,Pn.min),!n))return g(E[v].message),E}if((a||u)&&!A&&(Cn(t)||i&&Array.isArray(t))){const $=Mi(a),J=Mi(u),ue=!lt($.value)&&t.length>$.value,Re=!lt(J.value)&&t.length<J.value;if((ue||Re)&&(G(ue,$.message,J.message),!n))return g(E[v].message),E}if(h&&!A&&Cn(t)){const{value:$,message:J}=Mi(h);if(Xu($)&&!t.match($)&&(E[v]={type:Pn.pattern,message:J,ref:s,...V(Pn.pattern,J)},!n))return g(J),E}if(p){if(Qu(p)){const $=await p(t),J=E_($,f);if(J&&(E[v]={...J,...V(Pn.validate,J.message)},!n))return g(J.message),E}else if(Ye(p)){let $={};for(const J in p){if(!Ut($)&&!n)break;const ue=E_(await p[J](t),f,J);ue&&($={...ue,...V(J,ue.message)},g(ue.message),n&&(E[v]=$))}if(!Ut($)&&(E[v]={ref:f,...$},!n))return E}}return g(!0),E},V6=e=>{const t=e.constructor&&e.constructor.prototype;return Ye(t)&&t.hasOwnProperty("isPrototypeOf")},dp=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Qr(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(dp&&(e instanceof Blob||e instanceof FileList))&&(n||Ye(e)))if(t=n?[]:{},!Array.isArray(e)&&!V6(e))t=e;else for(const r in e)t[r]=Qr(e[r]);else return e;return t}var S_=e=>({isOnSubmit:!e||e===ln.onSubmit,isOnBlur:e===ln.onBlur,isOnChange:e===ln.onChange,isOnAll:e===ln.all,isOnTouch:e===ln.onTouched});function z6(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Me(e)?r++:e[t[r++]];return e}function W6(e){for(const t in e)if(!Me(e[t]))return!1;return!0}function st(e,t){const n=Wm(t)?[t]:gI(t),r=n.length==1?e:z6(e,n),i=n[n.length-1];let s;r&&delete r[i];for(let o=0;o<n.slice(0,-1).length;o++){let l=-1,a;const u=n.slice(0,-(o+1)),c=u.length-1;for(o>0&&(s=e);++l<u.length;){const d=u[l];a=a?a[d]:e[d],c===l&&(Ye(a)&&Ut(a)||Array.isArray(a)&&W6(a))&&(s?delete s[d]:delete e[d]),s=a}}return e}function mh(){let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}}var Zu=e=>lt(e)||!fI(e);function Zi(e,t){if(Zu(e)||Zu(t))return e===t;if(Xi(e)&&Xi(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const s=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Xi(s)&&Xi(o)||Ye(s)&&Ye(o)||Array.isArray(s)&&Array.isArray(o)?!Zi(s,o):s!==o)return!1}}return!0}var hp=e=>{const t=e?e.ownerDocument:0,n=t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement;return e instanceof n},yI=e=>e.type==="select-multiple",H6=e=>Gm(e)||Yl(e),vh=e=>hp(e)&&e.isConnected;function ec(e,t={}){const n=Array.isArray(e);if(Ye(e)||n)for(const r in e)Array.isArray(e[r])||Ye(e[r])&&!pI(e[r])?(t[r]=Array.isArray(e[r])?[]:{},ec(e[r],t[r])):lt(e[r])||(t[r]=!0);return t}function _I(e,t,n){const r=Array.isArray(e);if(Ye(e)||r)for(const i in e)Array.isArray(e[i])||Ye(e[i])&&!pI(e[i])?Me(t)||Zu(n[i])?n[i]=Array.isArray(e[i])?ec(e[i],[]):{...ec(e[i])}:_I(e[i],lt(t)?{}:t[i],n[i]):n[i]=!Zi(e[i],t[i]);return n}var yh=(e,t)=>_I(e,t,ec(t)),wI=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Me(e)?e:t?e===""?NaN:e&&+e:n&&Cn(e)?new Date(e):r?r(e):e;function _h(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return Hm(t)?t.files:Gm(t)?vI(e.refs).value:yI(t)?[...t.selectedOptions].map(({value:n})=>n):Yl(t)?mI(e.refs).value:wI(Me(t.value)?e.ref.value:t.value,e)}var G6=(e,t,n,r)=>{const i={};for(const s of e){const o=j(t,s);o&&fe(i,s,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},no=e=>Me(e)?void 0:Xu(e)?e.source:Ye(e)?Xu(e.value)?e.value.source:e.value:e,K6=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function I_(e,t,n){const r=j(e,n);if(r||Wm(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=j(t,s),l=j(e,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:n}}var q6=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,Y6=(e,t)=>!Ql(j(e,t)).length&&st(e,t);const Q6={mode:ln.onSubmit,reValidateMode:ln.onChange,shouldFocusError:!0};function J6(e={}){let t={...Q6,...e},n={submitCount:0,isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},r={},i=Qr(t.defaultValues)||{},s=t.shouldUnregister?{}:Qr(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},a,u=0,c={};const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={watch:mh(),array:mh(),state:mh()},p=S_(t.mode),v=S_(t.reValidateMode),w=t.criteriaMode===ln.all,C=_=>S=>{clearTimeout(u),u=window.setTimeout(_,S)},m=async _=>{let S=!1;return d.isValid&&(S=t.resolver?Ut((await O()).errors):await V(r,!0),!_&&S!==n.isValid&&(n.isValid=S,h.state.next({isValid:S}))),S},f=(_,S=[],I,L,F=!0,R=!0)=>{if(L&&I){if(o.action=!0,R&&Array.isArray(j(r,_))){const U=I(j(r,_),L.argA,L.argB);F&&fe(r,_,U)}if(d.errors&&R&&Array.isArray(j(n.errors,_))){const U=I(j(n.errors,_),L.argA,L.argB);F&&fe(n.errors,_,U),Y6(n.errors,_)}if(d.touchedFields&&R&&Array.isArray(j(n.touchedFields,_))){const U=I(j(n.touchedFields,_),L.argA,L.argB);F&&fe(n.touchedFields,_,U)}d.dirtyFields&&(n.dirtyFields=yh(i,s)),h.state.next({isDirty:$(_,S),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else fe(s,_,S)},g=(_,S)=>{fe(n.errors,_,S),h.state.next({errors:n.errors})},E=(_,S,I,L)=>{const F=j(r,_);if(F){const R=j(s,_,Me(I)?j(i,_):I);Me(R)||L&&L.defaultChecked||S?fe(s,_,S?R:_h(F._f)):Re(_,R),o.mount&&m()}},T=(_,S,I,L,F)=>{let R=!1;const U={name:_},ke=j(n.touchedFields,_);if(d.isDirty){const Tt=n.isDirty;n.isDirty=U.isDirty=$(),R=Tt!==U.isDirty}if(d.dirtyFields&&(!I||L)){const Tt=j(n.dirtyFields,_);Zi(j(i,_),S)?st(n.dirtyFields,_):fe(n.dirtyFields,_,!0),U.dirtyFields=n.dirtyFields,R=R||Tt!==j(n.dirtyFields,_)}return I&&!ke&&(fe(n.touchedFields,_,I),U.touchedFields=n.touchedFields,R=R||d.touchedFields&&ke!==I),R&&F&&h.state.next(U),R?U:{}},x=async(_,S,I,L)=>{const F=j(n.errors,_),R=d.isValid&&n.isValid!==S;if(e.delayError&&I?(a=C(()=>g(_,I)),a(e.delayError)):(clearTimeout(u),a=null,I?fe(n.errors,_,I):st(n.errors,_)),(I?!Zi(F,I):F)||!Ut(L)||R){const U={...L,...R?{isValid:S}:{},errors:n.errors,name:_};n={...n,...U},h.state.next(U)}c[_]--,d.isValidating&&!Object.values(c).some(U=>U)&&(h.state.next({isValidating:!1}),c={})},O=async _=>t.resolver?await t.resolver({...s},t.context,G6(_||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation)):{},A=async _=>{const{errors:S}=await O();if(_)for(const I of _){const L=j(S,I);L?fe(n.errors,I,L):st(n.errors,I)}else n.errors=S;return S},V=async(_,S,I={valid:!0})=>{for(const L in _){const F=_[L];if(F){const{_f:R,...U}=F;if(R){const ke=l.array.has(R.name),Tt=await C_(F,j(s,R.name),w,t.shouldUseNativeValidation,ke);if(Tt[R.name]&&(I.valid=!1,S))break;!S&&(j(Tt,R.name)?ke?B6(n.errors,Tt,R.name):fe(n.errors,R.name,Tt[R.name]):st(n.errors,R.name))}U&&await V(U,S,I)}}return I.valid},G=()=>{for(const _ of l.unMount){const S=j(r,_);S&&(S._f.refs?S._f.refs.every(I=>!vh(I)):!vh(S._f.ref))&&Zt(_)}l.unMount=new Set},$=(_,S)=>(_&&S&&fe(s,_,S),!Zi(z(),i)),J=(_,S,I)=>{const L={...o.mount?s:Me(S)?i:Cn(_)?{[_]:S}:S};return U6(_,l,L,I)},ue=_=>Ql(j(o.mount?s:i,_,e.shouldUnregister?j(i,_,[]):[])),Re=(_,S,I={})=>{const L=j(r,_);let F=S;if(L){const R=L._f;R&&(!R.disabled&&fe(s,_,wI(S,R)),F=dp&&hp(R.ref)&&lt(S)?"":S,yI(R.ref)?[...R.ref.options].forEach(U=>U.selected=F.includes(U.value)):R.refs?Yl(R.ref)?R.refs.length>1?R.refs.forEach(U=>(!U.defaultChecked||!U.disabled)&&(U.checked=Array.isArray(F)?!!F.find(ke=>ke===U.value):F===U.value)):R.refs[0]&&(R.refs[0].checked=!!F):R.refs.forEach(U=>U.checked=U.value===F):Hm(R.ref)?R.ref.value="":(R.ref.value=F,R.ref.type||h.watch.next({name:_})))}(I.shouldDirty||I.shouldTouch)&&T(_,F,I.shouldTouch,I.shouldDirty,!0),I.shouldValidate&&b(_)},It=(_,S,I)=>{for(const L in S){const F=S[L],R=`${_}.${L}`,U=j(r,R);(l.array.has(_)||!Zu(F)||U&&!U._f)&&!Xi(F)?It(R,F,I):Re(R,F,I)}},Je=(_,S,I={})=>{const L=j(r,_),F=l.array.has(_),R=Qr(S);fe(s,_,R),F?(h.array.next({name:_,values:s}),(d.isDirty||d.dirtyFields)&&I.shouldDirty&&(n.dirtyFields=yh(i,s),h.state.next({name:_,dirtyFields:n.dirtyFields,isDirty:$(_,R)}))):L&&!L._f&&!lt(R)?It(_,R,I):Re(_,R,I),v_(_,l)&&h.state.next({}),h.watch.next({name:_})},xn=async _=>{const S=_.target;let I=S.name;const L=j(r,I);if(L){let F,R;const U=S.type?_h(L._f):D6(_),ke=_.type===m_.BLUR||_.type===m_.FOCUS_OUT,Tt=!K6(L._f)&&!t.resolver&&!j(n.errors,I)&&!L._f.deps||q6(ke,j(n.touchedFields,I),n.isSubmitted,v,p),Jl=v_(I,l,ke);fe(s,I,U),ke?(L._f.onBlur&&L._f.onBlur(_),a&&a(0)):L._f.onChange&&L._f.onChange(_);const od=T(I,U,ke,!1),SI=!Ut(od)||Jl;if(!ke&&h.watch.next({name:I,type:_.type}),Tt)return SI&&h.state.next({name:I,...Jl?{}:od});if(!ke&&Jl&&h.state.next({}),c[I]=(c[I],1),h.state.next({isValidating:!0}),t.resolver){const{errors:Km}=await O([I]),II=I_(n.errors,r,I),qm=I_(Km,r,II.name||I);F=qm.error,I=qm.name,R=Ut(Km)}else F=(await C_(L,j(s,I),w,t.shouldUseNativeValidation))[I],R=await m(!0);L._f.deps&&b(L._f.deps),x(I,R,F,od)}},b=async(_,S={})=>{let I,L;const F=gh(_);if(h.state.next({isValidating:!0}),t.resolver){const R=await A(Me(_)?_:F);I=Ut(R),L=_?!F.some(U=>j(R,U)):I}else _?(L=(await Promise.all(F.map(async R=>{const U=j(r,R);return await V(U&&U._f?{[R]:U}:U)}))).every(Boolean),!(!L&&!n.isValid)&&m()):L=I=await V(r);return h.state.next({...!Cn(_)||d.isValid&&I!==n.isValid?{}:{name:_},...t.resolver||!_?{isValid:I}:{},errors:n.errors,isValidating:!1}),S.shouldFocus&&!L&&cp(r,R=>R&&j(n.errors,R),_?F:l.mount),L},z=_=>{const S={...i,...o.mount?s:{}};return Me(_)?S:Cn(_)?j(S,_):_.map(I=>j(S,I))},K=(_,S)=>({invalid:!!j((S||n).errors,_),isDirty:!!j((S||n).dirtyFields,_),isTouched:!!j((S||n).touchedFields,_),error:j((S||n).errors,_)}),ge=_=>{_?gh(_).forEach(S=>st(n.errors,S)):n.errors={},h.state.next({errors:n.errors})},Te=(_,S,I)=>{const L=(j(r,_,{_f:{}})._f||{}).ref;fe(n.errors,_,{...S,ref:L}),h.state.next({name:_,errors:n.errors,isValid:!1}),I&&I.shouldFocus&&L&&L.focus&&L.focus()},Pi=(_,S)=>Qu(_)?h.watch.subscribe({next:I=>_(J(void 0,S),I)}):J(_,S,!0),Zt=(_,S={})=>{for(const I of _?gh(_):l.mount)l.mount.delete(I),l.array.delete(I),j(r,I)&&(S.keepValue||(st(r,I),st(s,I)),!S.keepError&&st(n.errors,I),!S.keepDirty&&st(n.dirtyFields,I),!S.keepTouched&&st(n.touchedFields,I),!t.shouldUnregister&&!S.keepDefaultValue&&st(i,I));h.watch.next({}),h.state.next({...n,...S.keepDirty?{isDirty:$()}:{}}),!S.keepIsValid&&m()},Wr=(_,S={})=>{let I=j(r,_);const L=Ju(S.disabled);return fe(r,_,{...I||{},_f:{...I&&I._f?I._f:{ref:{name:_}},name:_,mount:!0,...S}}),l.mount.add(_),I?L&&fe(s,_,S.disabled?void 0:j(s,_,_h(I._f))):E(_,!0,S.value),{...L?{disabled:S.disabled}:{},...t.shouldUseNativeValidation?{required:!!S.required,min:no(S.min),max:no(S.max),minLength:no(S.minLength),maxLength:no(S.maxLength),pattern:no(S.pattern)}:{},name:_,onChange:xn,onBlur:xn,ref:F=>{if(F){Wr(_,S),I=j(r,_);const R=Me(F.value)&&F.querySelectorAll&&F.querySelectorAll("input,select,textarea")[0]||F,U=H6(R),ke=I._f.refs||[];if(U?ke.find(Tt=>Tt===R):R===I._f.ref)return;fe(r,_,{_f:{...I._f,...U?{refs:[...ke.filter(vh),R,...Array.isArray(j(i,_))?[{}]:[]],ref:{type:R.type,name:_}}:{ref:R}}}),E(_,!1,void 0,R)}else I=j(r,_,{}),I._f&&(I._f.mount=!1),(t.shouldUnregister||S.shouldUnregister)&&!(L6(l.array,_)&&o.action)&&l.unMount.add(_)}}},gn=()=>t.shouldFocusError&&cp(r,_=>_&&j(n.errors,_),l.mount),Oi=(_,S)=>async I=>{I&&(I.preventDefault&&I.preventDefault(),I.persist&&I.persist());let L=!0,F=Qr(s);h.state.next({isSubmitting:!0});try{if(t.resolver){const{errors:R,values:U}=await O();n.errors=R,F=U}else await V(r);Ut(n.errors)?(h.state.next({errors:{},isSubmitting:!0}),await _(F,I)):(S&&await S({...n.errors},I),gn())}catch(R){throw L=!1,R}finally{n.isSubmitted=!0,h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ut(n.errors)&&L,submitCount:n.submitCount+1,errors:n.errors})}},EI=(_,S={})=>{j(r,_)&&(Me(S.defaultValue)?Je(_,j(i,_)):(Je(_,S.defaultValue),fe(i,_,S.defaultValue)),S.keepTouched||st(n.touchedFields,_),S.keepDirty||(st(n.dirtyFields,_),n.isDirty=S.defaultValue?$(_,j(i,_)):$()),S.keepError||(st(n.errors,_),d.isValid&&m()),h.state.next({...n}))},CI=(_,S={})=>{const I=_||i,L=Qr(I),F=_&&!Ut(_)?L:i;if(S.keepDefaultValues||(i=I),!S.keepValues){if(S.keepDirtyValues)for(const R of l.mount)j(n.dirtyFields,R)?fe(F,R,j(s,R)):Je(R,j(F,R));else{if(dp&&Me(_))for(const R of l.mount){const U=j(r,R);if(U&&U._f){const ke=Array.isArray(U._f.refs)?U._f.refs[0]:U._f.ref;try{if(hp(ke)){ke.closest("form").reset();break}}catch{}}}r={}}s=e.shouldUnregister?S.keepDefaultValues?Qr(i):{}:L,h.array.next({values:F}),h.watch.next({values:F})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!S.keepIsValid,o.watch=!!e.shouldUnregister,h.state.next({submitCount:S.keepSubmitCount?n.submitCount:0,isDirty:S.keepDirty||S.keepDirtyValues?n.isDirty:!!(S.keepDefaultValues&&!Zi(_,i)),isSubmitted:S.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:S.keepDirty||S.keepDirtyValues?n.dirtyFields:S.keepDefaultValues&&_?yh(i,_):{},touchedFields:S.keepTouched?n.touchedFields:{},errors:S.keepErrors?n.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})};return{control:{register:Wr,unregister:Zt,getFieldState:K,_executeSchema:O,_focusError:gn,_getWatch:J,_getDirty:$,_updateValid:m,_removeUnmounted:G,_updateFieldArray:f,_getFieldArray:ue,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return s},get _stateFlags(){return o},set _stateFlags(_){o=_},get _defaultValues(){return i},get _names(){return l},set _names(_){l=_},get _formState(){return n},set _formState(_){n=_},get _options(){return t},set _options(_){t={...t,..._}}},trigger:b,register:Wr,handleSubmit:Oi,watch:Pi,setValue:Je,getValues:z,reset:(_,S)=>CI(Qu(_)?_(s):_,S),resetField:EI,clearErrors:ge,unregister:Zt,setError:Te,setFocus:(_,S={})=>{const I=j(r,_),L=I&&I._f;if(L){const F=L.refs?L.refs[0]:L.ref;F.focus&&(F.focus(),S.shouldSelect&&F.select())}},getFieldState:K}}function X6(e={}){const t=Vt.useRef(),[n,r]=Vt.useState({isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:e.defaultValues});t.current||(t.current={...J6(e),formState:n});const i=t.current.control;return i._options=e,j6({subject:i._subjects.state,callback:Vt.useCallback(s=>{F6(s,i._proxyFormState,!0)&&(i._formState={...i._formState,...s},r({...i._formState}))},[i])}),Vt.useEffect(()=>{i._stateFlags.mount||(i._proxyFormState.isValid&&i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),Vt.useEffect(()=>{n.submitCount&&i._focusError()},[i,n.submitCount]),t.current.formState=M6(n,i),t.current}function wh({input:e,label:t,property:n,type:r,required:i,placeholder:s,errors:o,register:l}){const a=t.charAt(0).toLocaleUpperCase()+t.slice(1),u=h=>{let p,v;return h==="email"&&(p=/^[\w\.-]+@[a-zA-Z\d\.-]+\.[a-zA-Z]{2,}$/,v="Ogiltig e-postadress. Vänligen ange en giltig e-postadress."),h==="password"&&(p=/^(?=.*[A-Z])(?=.*\d)(?!.*<.*>).*.{6,}$/,v="Vänligen ange en sträng som innehåller minst en stor bokstav, en siffra och är minst 6 tecken lång."),h==="userName"&&(p=/^[a-zA-ZåäöÅÄÖ\s]{2,}$/,v="Vänligen ange en giltig sträng med minst två bokstäver."),{pattern:p,errorMessage:v}},{pattern:c,errorMessage:d}=u(n);return y.jsxs("div",{className:"form-control",children:[y.jsx("label",{style:{whiteSpace:"nowrap"},children:a}),e?y.jsx("input",{className:"post-job-data-input",placeholder:s,type:r,...l(n,{required:i,pattern:c})}):y.jsx("textarea",{wrap:"soft",rows:30,cols:10,...l(n,{required:i,pattern:!e&&/^[A-Za-z0-9.,\s]+$/})}),o[n]&&o[n].type==="required"&&y.jsxs("p",{className:"errorMsg",children:[a," är obligatoriskt."]}),o[n]&&o[n].type==="pattern"&&y.jsx("p",{className:"errorMsg",children:d})]})}const Z6=()=>{const{handleSubmit:e,register:t,formState:{errors:n}}=X6(),[r,i]=N.useState(!0),{auth:s,user:o,provider:l,signInWithRedirect:a,signInWithPopup:u,signInWithEmailAndPassword:c,createUserWithEmailAndPassword:d}=Kl(),h=()=>{u(s,l).catch(v=>{v.message,alert("Inloggningen misslyckades.")})},p=v=>{const{email:w,password:C,userName:m}=v;r?c(s,w,C).then(f=>{const g=f.user;console.log(g)}).catch(f=>{f.code,f.message,alert("Fel E-post eller lösenord.")}):d(s,w,C).then(f=>{const g=f.user;console.log(f),console.log(g),US(g.uid,w,m,C)}).catch(f=>{f.code;const g=f.message;console.log(g),alert("Kontot existerar redan. Vänligen logga in eller återställ ditt lösenord om du har glömt det.")})};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"google-container",children:[y.jsx("h1",{children:"Kom igång"}),y.jsxs("div",{onClick:h,tabIndex:0,"aria-label":"sign in with google button",className:"google-btn-container",children:[y.jsx("div",{className:"google-img-cont",children:y.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google icon"})}),y.jsx("p",{children:"Logga in med Google"})]})]}),y.jsx("div",{className:"hr"}),y.jsxs("form",{className:"post-job-form",onSubmit:e(p),children:[r?y.jsx("h1",{children:"Logga in"}):y.jsx("h1",{children:"Skapa konto"}),y.jsxs("div",{children:[y.jsxs("div",{children:[!r&&y.jsx(wh,{property:"userName",input:!0,label:"För- och efternamn",type:"text",required:!0,placeholder:"Skriv ditt för- och efternamn",errors:n,register:t}),y.jsx(wh,{property:"email",input:!0,label:"e-post",type:"text",required:!0,placeholder:"Skriv in e-post",errors:n,register:t}),y.jsx(wh,{property:"password",input:!0,label:"lösenord",type:"password",required:!0,placeholder:"Skriv in lösenord",errors:n,register:t})]}),y.jsx("div",{onClick:()=>i(v=>!v),className:"create-account-container",children:r?y.jsx("p",{children:"Skapa konto?"}):y.jsx("p",{children:"Logga in"})})]}),y.jsx("div",{style:{alignSelf:"center"},children:y.jsx("button",{className:"submit-btn",children:r?"Logga in":"Skapa"})})]})]})},T_=()=>{Kl();const e=er();return N.useEffect(()=>{e({type:"background/setTextColorHeader",payload:"white"})}),y.jsx(y.Fragment,{children:y.jsxs("div",{className:"sign-in-layout",children:[y.jsxs("picture",{children:[y.jsx("source",{type:"image/webp"}),y.jsx("img",{className:"signIn-hero-img",src:"https://images.unsplash.com/photo-1541746972996-4e0b0f43e02a?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"image of people in the office"})]}),y.jsx("div",{className:"side-img-container"}),y.jsx("div",{className:"sign-in-cont",children:y.jsx(Z6,{})})]})})},eM="_profileContainer_n4j29_1",tM="_profileImgCont_n4j29_19",nM="_profileImgAvailable_n4j29_57",rM="_anonymous_n4j29_67",iM="_userContactInfo_n4j29_77",ro={profileContainer:eM,profileImgCont:tM,profileImgAvailable:nM,anonymous:rM,userContactInfo:iM};function sM({user:e}){const t=Ge(r=>r.background.color),n=Ge(r=>r.user.isOnline);return y.jsxs("div",{style:{borderColor:t},className:ro.profileContainer,children:[y.jsx("div",{className:ro.profileImgCont,style:{borderColor:t},children:y.jsx("img",{className:n.profileImg?ro.profileImgAvailable:ro.anonymous,src:n.profileImg?n.profileImg:Bw,alt:"user picture"})}),y.jsxs("div",{className:ro.userContactInfo,children:[y.jsxs("p",{style:{color:t},children:[y.jsx("b",{children:"Name:"})," ",e.fullname]}),y.jsxs("p",{style:{color:t},children:[y.jsx("b",{children:"Email:"})," ",e.email]})]})]})}const oM="_titleForSavedJobs_1yvwz_1",lM={titleForSavedJobs:oM};function aM(){const e=Ge(n=>n.background.color),t=Ge(n=>n.user.savedJobAds);return y.jsxs(y.Fragment,{children:[y.jsx("h1",{className:lM.titleForSavedJobs,style:{color:e},children:"Sparade jobbannonser"}),y.jsx("div",{className:"card-container",children:y.jsx("ul",{className:"card-layout",children:t.map(n=>dI(n))})})]})}const uM="_hr_1pzqc_1",cM={hr:uM};function dM(){const{color:e,isDarkTheme:t}=Ge(i=>i.background),{isOnline:n}=Ge(i=>i.user),r=er();return N.useEffect(()=>{r({type:"background/setTextColorHeader",payload:e})},[t]),y.jsxs(y.Fragment,{children:[y.jsx(sM,{user:n}),y.jsx("div",{style:{background:e},className:cM.hr}),y.jsx(aM,{})]})}function hM(){const{isOnline:e,savedJobAds:t}=Ge(s=>s.user),n=er(),{auth:r,onAuthStateChanged:i}=Kl();return N.useEffect(()=>{const s=i(r,o=>{if(o){Jy("users",o.uid).then(a=>{if(!a){console.log("data is",a),US(o.uid,o.email,o.displayName,null,o.photoURL),Jy("users",o.uid).then(c=>n(fh(c)));return}n(fh(a))});return}n(ap([])),n(fh(o)),console.log(o)});return()=>s},[]),N.useEffect(()=>{if(!e)return;fb(e.userId).then(o=>{const l=o.jobs;n(ap(l))})},[e]),y.jsx(y.Fragment,{children:y.jsxs(JA,{children:[y.jsx(t6,{}),y.jsx("main",{className:"job-form-container",children:y.jsxs(WA,{children:[y.jsx(ao,{path:"/Jobchaser/",element:y.jsx(O6,{})}),y.jsx(ao,{path:"/Jobchaser/Find-job",element:y.jsx(v6,{})}),y.jsx(ao,{path:"/Jobchaser/Sign-in",element:e?y.jsx(VA,{to:"/Jobchaser/User-profile"}):y.jsx(T_,{})}),y.jsx(ao,{path:"/Jobchaser/User-profile",element:e?y.jsx(dM,{}):y.jsx(T_,{})})]})})]})})}const fM=Jb({reducer:{search:m6,sidemenu:TL,user:u6,background:ZL},middleware:e=>e({serializableCheck:!1})});Ch.createRoot(document.getElementById("root")).render(y.jsx(Vt.StrictMode,{children:y.jsx(HL,{store:fM,children:y.jsx(hM,{})})}));
