var b2=Object.defineProperty;var L2=(e,t,n)=>t in e?b2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var cd=(e,t,n)=>(L2(e,typeof t!="symbol"?t+"":t,n),n);function M2(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function N_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var x_={exports:{}},nc={},P_={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var El=Symbol.for("react.element"),F2=Symbol.for("react.portal"),j2=Symbol.for("react.fragment"),U2=Symbol.for("react.strict_mode"),V2=Symbol.for("react.profiler"),B2=Symbol.for("react.provider"),$2=Symbol.for("react.context"),z2=Symbol.for("react.forward_ref"),W2=Symbol.for("react.suspense"),H2=Symbol.for("react.memo"),G2=Symbol.for("react.lazy"),Qm=Symbol.iterator;function K2(e){return e===null||typeof e!="object"?null:(e=Qm&&e[Qm]||e["@@iterator"],typeof e=="function"?e:null)}var O_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D_=Object.assign,b_={};function xs(e,t,n){this.props=e,this.context=t,this.refs=b_,this.updater=n||O_}xs.prototype.isReactComponent={};xs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function L_(){}L_.prototype=xs.prototype;function gp(e,t,n){this.props=e,this.context=t,this.refs=b_,this.updater=n||O_}var mp=gp.prototype=new L_;mp.constructor=gp;D_(mp,xs.prototype);mp.isPureReactComponent=!0;var Jm=Array.isArray,M_=Object.prototype.hasOwnProperty,vp={current:null},F_={key:!0,ref:!0,__self:!0,__source:!0};function j_(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)M_.call(t,r)&&!F_.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:El,type:e,key:s,ref:o,props:i,_owner:vp.current}}function q2(e,t){return{$$typeof:El,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yp(e){return typeof e=="object"&&e!==null&&e.$$typeof===El}function Y2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xm=/\/+/g;function dd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Y2(""+e.key):t.toString(36)}function Sa(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case El:case F2:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+dd(o,0):r,Jm(i)?(n="",e!=null&&(n=e.replace(Xm,"$&/")+"/"),Sa(i,t,n,"",function(u){return u})):i!=null&&(yp(i)&&(i=q2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Xm,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Jm(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+dd(s,l);o+=Sa(s,t,n,a,i)}else if(a=K2(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+dd(s,l++),o+=Sa(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Jl(e,t,n){if(e==null)return e;var r=[],i=0;return Sa(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Q2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},Ia={transition:null},J2={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:Ia,ReactCurrentOwner:vp};X.Children={map:Jl,forEach:function(e,t,n){Jl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Jl(e,function(){t++}),t},toArray:function(e){return Jl(e,function(t){return t})||[]},only:function(e){if(!yp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=xs;X.Fragment=j2;X.Profiler=V2;X.PureComponent=gp;X.StrictMode=U2;X.Suspense=W2;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J2;X.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=D_({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=vp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)M_.call(t,a)&&!F_.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:El,type:e.type,key:i,ref:s,props:r,_owner:o}};X.createContext=function(e){return e={$$typeof:$2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:B2,_context:e},e.Consumer=e};X.createElement=j_;X.createFactory=function(e){var t=j_.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:z2,render:e}};X.isValidElement=yp;X.lazy=function(e){return{$$typeof:G2,_payload:{_status:-1,_result:e},_init:Q2}};X.memo=function(e,t){return{$$typeof:H2,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=Ia.transition;Ia.transition={};try{e()}finally{Ia.transition=t}};X.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};X.useCallback=function(e,t){return ht.current.useCallback(e,t)};X.useContext=function(e){return ht.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};X.useEffect=function(e,t){return ht.current.useEffect(e,t)};X.useId=function(){return ht.current.useId()};X.useImperativeHandle=function(e,t,n){return ht.current.useImperativeHandle(e,t,n)};X.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return ht.current.useMemo(e,t)};X.useReducer=function(e,t,n){return ht.current.useReducer(e,t,n)};X.useRef=function(e){return ht.current.useRef(e)};X.useState=function(e){return ht.current.useState(e)};X.useSyncExternalStore=function(e,t,n){return ht.current.useSyncExternalStore(e,t,n)};X.useTransition=function(){return ht.current.useTransition()};X.version="18.2.0";P_.exports=X;var T=P_.exports;const mt=N_(T),Ih=M2({__proto__:null,default:mt},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X2=T,Z2=Symbol.for("react.element"),ek=Symbol.for("react.fragment"),tk=Object.prototype.hasOwnProperty,nk=X2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rk={key:!0,ref:!0,__self:!0,__source:!0};function U_(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)tk.call(t,r)&&!rk.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Z2,type:e,key:s,ref:o,props:i,_owner:nk.current}}nc.Fragment=ek;nc.jsx=U_;nc.jsxs=U_;x_.exports=nc;var g=x_.exports,kh={},V_={exports:{}},jt={},B_={exports:{}},$_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,W){var K=b.length;b.push(W);e:for(;0<K;){var ge=K-1>>>1,Ie=b[ge];if(0<i(Ie,W))b[ge]=W,b[K]=Ie,K=ge;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var W=b[0],K=b.pop();if(K!==W){b[0]=K;e:for(var ge=0,Ie=b.length,Oi=Ie>>>1;ge<Oi;){var Zt=2*(ge+1)-1,$r=b[Zt],gn=Zt+1,Di=b[gn];if(0>i($r,K))gn<Ie&&0>i(Di,$r)?(b[ge]=Di,b[gn]=K,ge=gn):(b[ge]=$r,b[Zt]=K,ge=Zt);else if(gn<Ie&&0>i(Di,K))b[ge]=Di,b[gn]=K,ge=gn;else break e}}return W}function i(b,W){var K=b.sortIndex-W.sortIndex;return K!==0?K:b.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,h=3,p=!1,y=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(b){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=b)r(u),W.sortIndex=W.expirationTime,t(a,W);else break;W=n(u)}}function E(b){if(w=!1,v(b),!y)if(n(a)!==null)y=!0,Je(k);else{var W=n(u);W!==null&&On(E,W.startTime-b)}}function k(b,W){y=!1,w&&(w=!1,m(R),R=-1),p=!0;var K=h;try{for(v(W),d=n(a);d!==null&&(!(d.expirationTime>W)||b&&!V());){var ge=d.callback;if(typeof ge=="function"){d.callback=null,h=d.priorityLevel;var Ie=ge(d.expirationTime<=W);W=e.unstable_now(),typeof Ie=="function"?d.callback=Ie:d===n(a)&&r(a),v(W)}else r(a);d=n(a)}if(d!==null)var Oi=!0;else{var Zt=n(u);Zt!==null&&On(E,Zt.startTime-W),Oi=!1}return Oi}finally{d=null,h=K,p=!1}}var x=!1,O=null,R=-1,z=5,G=-1;function V(){return!(e.unstable_now()-G<z)}function J(){if(O!==null){var b=e.unstable_now();G=b;var W=!0;try{W=O(!0,b)}finally{W?ue():(x=!1,O=null)}}else x=!1}var ue;if(typeof f=="function")ue=function(){f(J)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,kt=Re.port2;Re.port1.onmessage=J,ue=function(){kt.postMessage(null)}}else ue=function(){C(J,0)};function Je(b){O=b,x||(x=!0,ue())}function On(b,W){R=C(function(){b(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,Je(k))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(b){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var K=h;h=W;try{return b()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,W){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var K=h;h=b;try{return W()}finally{h=K}},e.unstable_scheduleCallback=function(b,W,K){var ge=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ge+K:ge):K=ge,b){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=K+Ie,b={id:c++,callback:W,priorityLevel:b,startTime:K,expirationTime:Ie,sortIndex:-1},K>ge?(b.sortIndex=K,t(u,b),n(a)===null&&b===n(u)&&(w?(m(R),R=-1):w=!0,On(E,K-ge))):(b.sortIndex=Ie,t(a,b),y||p||(y=!0,Je(k))),b},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(b){var W=h;return function(){var K=h;h=W;try{return b.apply(this,arguments)}finally{h=K}}}})($_);B_.exports=$_;var ik=B_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_=T,Lt=ik;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var W_=new Set,Oo={};function Si(e,t){ps(e,t),ps(e+"Capture",t)}function ps(e,t){for(Oo[e]=t,e=0;e<t.length;e++)W_.add(t[e])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Th=Object.prototype.hasOwnProperty,sk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zm={},ev={};function ok(e){return Th.call(ev,e)?!0:Th.call(Zm,e)?!1:sk.test(e)?ev[e]=!0:(Zm[e]=!0,!1)}function lk(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ak(e,t,n,r){if(t===null||typeof t>"u"||lk(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ft(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var _p=/[\-:]([a-z])/g;function wp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_p,wp);qe[t]=new ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_p,wp);qe[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_p,wp);qe[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new ft(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ep(e,t,n,r){var i=qe.hasOwnProperty(t)?qe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ak(t,n,i,r)&&(n=null),r||i===null?ok(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var er=z_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xl=Symbol.for("react.element"),ji=Symbol.for("react.portal"),Ui=Symbol.for("react.fragment"),Cp=Symbol.for("react.strict_mode"),Ah=Symbol.for("react.profiler"),H_=Symbol.for("react.provider"),G_=Symbol.for("react.context"),Sp=Symbol.for("react.forward_ref"),Rh=Symbol.for("react.suspense"),Nh=Symbol.for("react.suspense_list"),Ip=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),K_=Symbol.for("react.offscreen"),tv=Symbol.iterator;function zs(e){return e===null||typeof e!="object"?null:(e=tv&&e[tv]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,hd;function so(e){if(hd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);hd=t&&t[1]||""}return`
`+hd+e}var fd=!1;function pd(e,t){if(!e||fd)return"";fd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{fd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?so(e):""}function uk(e){switch(e.tag){case 5:return so(e.type);case 16:return so("Lazy");case 13:return so("Suspense");case 19:return so("SuspenseList");case 0:case 2:case 15:return e=pd(e.type,!1),e;case 11:return e=pd(e.type.render,!1),e;case 1:return e=pd(e.type,!0),e;default:return""}}function xh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ui:return"Fragment";case ji:return"Portal";case Ah:return"Profiler";case Cp:return"StrictMode";case Rh:return"Suspense";case Nh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case G_:return(e.displayName||"Context")+".Consumer";case H_:return(e._context.displayName||"Context")+".Provider";case Sp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ip:return t=e.displayName||null,t!==null?t:xh(e.type)||"Memo";case sr:t=e._payload,e=e._init;try{return xh(e(t))}catch{}}return null}function ck(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xh(t);case 8:return t===Cp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function q_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dk(e){var t=q_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zl(e){e._valueTracker||(e._valueTracker=dk(e))}function Y_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $a(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ph(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function nv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=xr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Q_(e,t){t=t.checked,t!=null&&Ep(e,"checked",t,!1)}function Oh(e,t){Q_(e,t);var n=xr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Dh(e,t.type,n):t.hasOwnProperty("defaultValue")&&Dh(e,t.type,xr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Dh(e,t,n){(t!=="number"||$a(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var oo=Array.isArray;function ts(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function bh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function iv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(A(92));if(oo(n)){if(1<n.length)throw Error(A(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xr(n)}}function J_(e,t){var n=xr(t.value),r=xr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function sv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function X_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?X_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ea,Z_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ea=ea||document.createElement("div"),ea.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ea.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Do(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var mo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hk=["Webkit","ms","Moz","O"];Object.keys(mo).forEach(function(e){hk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mo[t]=mo[e]})});function ew(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||mo.hasOwnProperty(e)&&mo[e]?(""+t).trim():t+"px"}function tw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ew(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var fk=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mh(e,t){if(t){if(fk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function Fh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jh=null;function kp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Uh=null,ns=null,rs=null;function ov(e){if(e=Il(e)){if(typeof Uh!="function")throw Error(A(280));var t=e.stateNode;t&&(t=lc(t),Uh(e.stateNode,e.type,t))}}function nw(e){ns?rs?rs.push(e):rs=[e]:ns=e}function rw(){if(ns){var e=ns,t=rs;if(rs=ns=null,ov(e),t)for(e=0;e<t.length;e++)ov(t[e])}}function iw(e,t){return e(t)}function sw(){}var gd=!1;function ow(e,t,n){if(gd)return e(t,n);gd=!0;try{return iw(e,t,n)}finally{gd=!1,(ns!==null||rs!==null)&&(sw(),rw())}}function bo(e,t){var n=e.stateNode;if(n===null)return null;var r=lc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var Vh=!1;if(Gn)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){Vh=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{Vh=!1}function pk(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var vo=!1,za=null,Wa=!1,Bh=null,gk={onError:function(e){vo=!0,za=e}};function mk(e,t,n,r,i,s,o,l,a){vo=!1,za=null,pk.apply(gk,arguments)}function vk(e,t,n,r,i,s,o,l,a){if(mk.apply(this,arguments),vo){if(vo){var u=za;vo=!1,za=null}else throw Error(A(198));Wa||(Wa=!0,Bh=u)}}function Ii(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function lw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lv(e){if(Ii(e)!==e)throw Error(A(188))}function yk(e){var t=e.alternate;if(!t){if(t=Ii(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return lv(i),e;if(s===r)return lv(i),t;s=s.sibling}throw Error(A(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function aw(e){return e=yk(e),e!==null?uw(e):null}function uw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=uw(e);if(t!==null)return t;e=e.sibling}return null}var cw=Lt.unstable_scheduleCallback,av=Lt.unstable_cancelCallback,_k=Lt.unstable_shouldYield,wk=Lt.unstable_requestPaint,Ce=Lt.unstable_now,Ek=Lt.unstable_getCurrentPriorityLevel,Tp=Lt.unstable_ImmediatePriority,dw=Lt.unstable_UserBlockingPriority,Ha=Lt.unstable_NormalPriority,Ck=Lt.unstable_LowPriority,hw=Lt.unstable_IdlePriority,rc=null,Sn=null;function Sk(e){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(rc,e,void 0,(e.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:Tk,Ik=Math.log,kk=Math.LN2;function Tk(e){return e>>>=0,e===0?32:31-(Ik(e)/kk|0)|0}var ta=64,na=4194304;function lo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ga(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=lo(l):(s&=o,s!==0&&(r=lo(s)))}else o=n&~i,o!==0?r=lo(o):s!==0&&(r=lo(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-un(t),i=1<<n,r|=e[n],t&=~i;return r}function Ak(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rk(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-un(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=Ak(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function $h(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fw(){var e=ta;return ta<<=1,!(ta&4194240)&&(ta=64),e}function md(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Cl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-un(t),e[t]=n}function Nk(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-un(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Ap(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-un(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var re=0;function pw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gw,Rp,mw,vw,yw,zh=!1,ra=[],mr=null,vr=null,yr=null,Lo=new Map,Mo=new Map,lr=[],xk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uv(e,t){switch(e){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":Lo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(t.pointerId)}}function Hs(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Il(t),t!==null&&Rp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Pk(e,t,n,r,i){switch(t){case"focusin":return mr=Hs(mr,e,t,n,r,i),!0;case"dragenter":return vr=Hs(vr,e,t,n,r,i),!0;case"mouseover":return yr=Hs(yr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Lo.set(s,Hs(Lo.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Mo.set(s,Hs(Mo.get(s)||null,e,t,n,r,i)),!0}return!1}function _w(e){var t=Qr(e.target);if(t!==null){var n=Ii(t);if(n!==null){if(t=n.tag,t===13){if(t=lw(n),t!==null){e.blockedOn=t,yw(e.priority,function(){mw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ka(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);jh=r,n.target.dispatchEvent(r),jh=null}else return t=Il(n),t!==null&&Rp(t),e.blockedOn=n,!1;t.shift()}return!0}function cv(e,t,n){ka(e)&&n.delete(t)}function Ok(){zh=!1,mr!==null&&ka(mr)&&(mr=null),vr!==null&&ka(vr)&&(vr=null),yr!==null&&ka(yr)&&(yr=null),Lo.forEach(cv),Mo.forEach(cv)}function Gs(e,t){e.blockedOn===t&&(e.blockedOn=null,zh||(zh=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,Ok)))}function Fo(e){function t(i){return Gs(i,e)}if(0<ra.length){Gs(ra[0],e);for(var n=1;n<ra.length;n++){var r=ra[n];r.blockedOn===e&&(r.blockedOn=null)}}for(mr!==null&&Gs(mr,e),vr!==null&&Gs(vr,e),yr!==null&&Gs(yr,e),Lo.forEach(t),Mo.forEach(t),n=0;n<lr.length;n++)r=lr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<lr.length&&(n=lr[0],n.blockedOn===null);)_w(n),n.blockedOn===null&&lr.shift()}var is=er.ReactCurrentBatchConfig,Ka=!0;function Dk(e,t,n,r){var i=re,s=is.transition;is.transition=null;try{re=1,Np(e,t,n,r)}finally{re=i,is.transition=s}}function bk(e,t,n,r){var i=re,s=is.transition;is.transition=null;try{re=4,Np(e,t,n,r)}finally{re=i,is.transition=s}}function Np(e,t,n,r){if(Ka){var i=Wh(e,t,n,r);if(i===null)Td(e,t,r,qa,n),uv(e,r);else if(Pk(i,e,t,n,r))r.stopPropagation();else if(uv(e,r),t&4&&-1<xk.indexOf(e)){for(;i!==null;){var s=Il(i);if(s!==null&&gw(s),s=Wh(e,t,n,r),s===null&&Td(e,t,r,qa,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Td(e,t,r,null,n)}}var qa=null;function Wh(e,t,n,r){if(qa=null,e=kp(r),e=Qr(e),e!==null)if(t=Ii(e),t===null)e=null;else if(n=t.tag,n===13){if(e=lw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qa=e,null}function ww(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ek()){case Tp:return 1;case dw:return 4;case Ha:case Ck:return 16;case hw:return 536870912;default:return 16}default:return 16}}var hr=null,xp=null,Ta=null;function Ew(){if(Ta)return Ta;var e,t=xp,n=t.length,r,i="value"in hr?hr.value:hr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ta=i.slice(e,1<r?1-r:void 0)}function Aa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ia(){return!0}function dv(){return!1}function Ut(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ia:dv,this.isPropagationStopped=dv,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ia)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ia)},persist:function(){},isPersistent:ia}),t}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pp=Ut(Ps),Sl=ye({},Ps,{view:0,detail:0}),Lk=Ut(Sl),vd,yd,Ks,ic=ye({},Sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Op,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ks&&(Ks&&e.type==="mousemove"?(vd=e.screenX-Ks.screenX,yd=e.screenY-Ks.screenY):yd=vd=0,Ks=e),vd)},movementY:function(e){return"movementY"in e?e.movementY:yd}}),hv=Ut(ic),Mk=ye({},ic,{dataTransfer:0}),Fk=Ut(Mk),jk=ye({},Sl,{relatedTarget:0}),_d=Ut(jk),Uk=ye({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),Vk=Ut(Uk),Bk=ye({},Ps,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$k=Ut(Bk),zk=ye({},Ps,{data:0}),fv=Ut(zk),Wk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gk[e])?!!t[e]:!1}function Op(){return Kk}var qk=ye({},Sl,{key:function(e){if(e.key){var t=Wk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Aa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Op,charCode:function(e){return e.type==="keypress"?Aa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Aa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yk=Ut(qk),Qk=ye({},ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pv=Ut(Qk),Jk=ye({},Sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Op}),Xk=Ut(Jk),Zk=ye({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),eT=Ut(Zk),tT=ye({},ic,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nT=Ut(tT),rT=[9,13,27,32],Dp=Gn&&"CompositionEvent"in window,yo=null;Gn&&"documentMode"in document&&(yo=document.documentMode);var iT=Gn&&"TextEvent"in window&&!yo,Cw=Gn&&(!Dp||yo&&8<yo&&11>=yo),gv=" ",mv=!1;function Sw(e,t){switch(e){case"keyup":return rT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vi=!1;function sT(e,t){switch(e){case"compositionend":return Iw(t);case"keypress":return t.which!==32?null:(mv=!0,gv);case"textInput":return e=t.data,e===gv&&mv?null:e;default:return null}}function oT(e,t){if(Vi)return e==="compositionend"||!Dp&&Sw(e,t)?(e=Ew(),Ta=xp=hr=null,Vi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cw&&t.locale!=="ko"?null:t.data;default:return null}}var lT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lT[e.type]:t==="textarea"}function kw(e,t,n,r){nw(r),t=Ya(t,"onChange"),0<t.length&&(n=new Pp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _o=null,jo=null;function aT(e){Mw(e,0)}function sc(e){var t=zi(e);if(Y_(t))return e}function uT(e,t){if(e==="change")return t}var Tw=!1;if(Gn){var wd;if(Gn){var Ed="oninput"in document;if(!Ed){var yv=document.createElement("div");yv.setAttribute("oninput","return;"),Ed=typeof yv.oninput=="function"}wd=Ed}else wd=!1;Tw=wd&&(!document.documentMode||9<document.documentMode)}function _v(){_o&&(_o.detachEvent("onpropertychange",Aw),jo=_o=null)}function Aw(e){if(e.propertyName==="value"&&sc(jo)){var t=[];kw(t,jo,e,kp(e)),ow(aT,t)}}function cT(e,t,n){e==="focusin"?(_v(),_o=t,jo=n,_o.attachEvent("onpropertychange",Aw)):e==="focusout"&&_v()}function dT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sc(jo)}function hT(e,t){if(e==="click")return sc(t)}function fT(e,t){if(e==="input"||e==="change")return sc(t)}function pT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hn=typeof Object.is=="function"?Object.is:pT;function Uo(e,t){if(hn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Th.call(t,i)||!hn(e[i],t[i]))return!1}return!0}function wv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ev(e,t){var n=wv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wv(n)}}function Rw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nw(){for(var e=window,t=$a();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$a(e.document)}return t}function bp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gT(e){var t=Nw(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Rw(n.ownerDocument.documentElement,n)){if(r!==null&&bp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Ev(n,s);var o=Ev(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mT=Gn&&"documentMode"in document&&11>=document.documentMode,Bi=null,Hh=null,wo=null,Gh=!1;function Cv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gh||Bi==null||Bi!==$a(r)||(r=Bi,"selectionStart"in r&&bp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wo&&Uo(wo,r)||(wo=r,r=Ya(Hh,"onSelect"),0<r.length&&(t=new Pp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Bi)))}function sa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $i={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionend:sa("Transition","TransitionEnd")},Cd={},xw={};Gn&&(xw=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function oc(e){if(Cd[e])return Cd[e];if(!$i[e])return e;var t=$i[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xw)return Cd[e]=t[n];return e}var Pw=oc("animationend"),Ow=oc("animationiteration"),Dw=oc("animationstart"),bw=oc("transitionend"),Lw=new Map,Sv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(e,t){Lw.set(e,t),Si(t,[e])}for(var Sd=0;Sd<Sv.length;Sd++){var Id=Sv[Sd],vT=Id.toLowerCase(),yT=Id[0].toUpperCase()+Id.slice(1);Fr(vT,"on"+yT)}Fr(Pw,"onAnimationEnd");Fr(Ow,"onAnimationIteration");Fr(Dw,"onAnimationStart");Fr("dblclick","onDoubleClick");Fr("focusin","onFocus");Fr("focusout","onBlur");Fr(bw,"onTransitionEnd");ps("onMouseEnter",["mouseout","mouseover"]);ps("onMouseLeave",["mouseout","mouseover"]);ps("onPointerEnter",["pointerout","pointerover"]);ps("onPointerLeave",["pointerout","pointerover"]);Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Si("onBeforeInput",["compositionend","keypress","textInput","paste"]);Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_T=new Set("cancel close invalid load scroll toggle".split(" ").concat(ao));function Iv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,vk(r,t,void 0,e),e.currentTarget=null}function Mw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Iv(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Iv(i,l,u),s=a}}}if(Wa)throw e=Bh,Wa=!1,Bh=null,e}function ce(e,t){var n=t[Jh];n===void 0&&(n=t[Jh]=new Set);var r=e+"__bubble";n.has(r)||(Fw(t,e,2,!1),n.add(r))}function kd(e,t,n){var r=0;t&&(r|=4),Fw(n,e,r,t)}var oa="_reactListening"+Math.random().toString(36).slice(2);function Vo(e){if(!e[oa]){e[oa]=!0,W_.forEach(function(n){n!=="selectionchange"&&(_T.has(n)||kd(n,!1,e),kd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oa]||(t[oa]=!0,kd("selectionchange",!1,t))}}function Fw(e,t,n,r){switch(ww(t)){case 1:var i=Dk;break;case 4:i=bk;break;default:i=Np}n=i.bind(null,t,n,e),i=void 0,!Vh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Td(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Qr(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}ow(function(){var u=s,c=kp(n),d=[];e:{var h=Lw.get(e);if(h!==void 0){var p=Pp,y=e;switch(e){case"keypress":if(Aa(n)===0)break e;case"keydown":case"keyup":p=Yk;break;case"focusin":y="focus",p=_d;break;case"focusout":y="blur",p=_d;break;case"beforeblur":case"afterblur":p=_d;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=hv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Fk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Xk;break;case Pw:case Ow:case Dw:p=Vk;break;case bw:p=eT;break;case"scroll":p=Lk;break;case"wheel":p=nT;break;case"copy":case"cut":case"paste":p=$k;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=pv}var w=(t&4)!==0,C=!w&&e==="scroll",m=w?h!==null?h+"Capture":null:h;w=[];for(var f=u,v;f!==null;){v=f;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,m!==null&&(E=bo(f,m),E!=null&&w.push(Bo(f,E,v)))),C)break;f=f.return}0<w.length&&(h=new p(h,y,null,n,c),d.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==jh&&(y=n.relatedTarget||n.fromElement)&&(Qr(y)||y[Kn]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?Qr(y):null,y!==null&&(C=Ii(y),y!==C||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(w=hv,E="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=pv,E="onPointerLeave",m="onPointerEnter",f="pointer"),C=p==null?h:zi(p),v=y==null?h:zi(y),h=new w(E,f+"leave",p,n,c),h.target=C,h.relatedTarget=v,E=null,Qr(c)===u&&(w=new w(m,f+"enter",y,n,c),w.target=v,w.relatedTarget=C,E=w),C=E,p&&y)t:{for(w=p,m=y,f=0,v=w;v;v=bi(v))f++;for(v=0,E=m;E;E=bi(E))v++;for(;0<f-v;)w=bi(w),f--;for(;0<v-f;)m=bi(m),v--;for(;f--;){if(w===m||m!==null&&w===m.alternate)break t;w=bi(w),m=bi(m)}w=null}else w=null;p!==null&&kv(d,h,p,w,!1),y!==null&&C!==null&&kv(d,C,y,w,!0)}}e:{if(h=u?zi(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=uT;else if(vv(h))if(Tw)k=fT;else{k=dT;var x=cT}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=hT);if(k&&(k=k(e,u))){kw(d,k,n,c);break e}x&&x(e,h,u),e==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&Dh(h,"number",h.value)}switch(x=u?zi(u):window,e){case"focusin":(vv(x)||x.contentEditable==="true")&&(Bi=x,Hh=u,wo=null);break;case"focusout":wo=Hh=Bi=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Cv(d,n,c);break;case"selectionchange":if(mT)break;case"keydown":case"keyup":Cv(d,n,c)}var O;if(Dp)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Vi?Sw(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Cw&&n.locale!=="ko"&&(Vi||R!=="onCompositionStart"?R==="onCompositionEnd"&&Vi&&(O=Ew()):(hr=c,xp="value"in hr?hr.value:hr.textContent,Vi=!0)),x=Ya(u,R),0<x.length&&(R=new fv(R,e,null,n,c),d.push({event:R,listeners:x}),O?R.data=O:(O=Iw(n),O!==null&&(R.data=O)))),(O=iT?sT(e,n):oT(e,n))&&(u=Ya(u,"onBeforeInput"),0<u.length&&(c=new fv("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=O))}Mw(d,t)})}function Bo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ya(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=bo(e,n),s!=null&&r.unshift(Bo(e,s,i)),s=bo(e,t),s!=null&&r.push(Bo(e,s,i))),e=e.return}return r}function bi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kv(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=bo(n,s),a!=null&&o.unshift(Bo(n,a,l))):i||(a=bo(n,s),a!=null&&o.push(Bo(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var wT=/\r\n?/g,ET=/\u0000|\uFFFD/g;function Tv(e){return(typeof e=="string"?e:""+e).replace(wT,`
`).replace(ET,"")}function la(e,t,n){if(t=Tv(t),Tv(e)!==t&&n)throw Error(A(425))}function Qa(){}var Kh=null,qh=null;function Yh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qh=typeof setTimeout=="function"?setTimeout:void 0,CT=typeof clearTimeout=="function"?clearTimeout:void 0,Av=typeof Promise=="function"?Promise:void 0,ST=typeof queueMicrotask=="function"?queueMicrotask:typeof Av<"u"?function(e){return Av.resolve(null).then(e).catch(IT)}:Qh;function IT(e){setTimeout(function(){throw e})}function Ad(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Fo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fo(t)}function _r(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Rv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Os=Math.random().toString(36).slice(2),yn="__reactFiber$"+Os,$o="__reactProps$"+Os,Kn="__reactContainer$"+Os,Jh="__reactEvents$"+Os,kT="__reactListeners$"+Os,TT="__reactHandles$"+Os;function Qr(e){var t=e[yn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Kn]||n[yn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Rv(e);e!==null;){if(n=e[yn])return n;e=Rv(e)}return t}e=n,n=e.parentNode}return null}function Il(e){return e=e[yn]||e[Kn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function lc(e){return e[$o]||null}var Xh=[],Wi=-1;function jr(e){return{current:e}}function he(e){0>Wi||(e.current=Xh[Wi],Xh[Wi]=null,Wi--)}function ae(e,t){Wi++,Xh[Wi]=e.current,e.current=t}var Pr={},rt=jr(Pr),_t=jr(!1),ui=Pr;function gs(e,t){var n=e.type.contextTypes;if(!n)return Pr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function wt(e){return e=e.childContextTypes,e!=null}function Ja(){he(_t),he(rt)}function Nv(e,t,n){if(rt.current!==Pr)throw Error(A(168));ae(rt,t),ae(_t,n)}function jw(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(A(108,ck(e)||"Unknown",i));return ye({},n,r)}function Xa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pr,ui=rt.current,ae(rt,e),ae(_t,_t.current),!0}function xv(e,t,n){var r=e.stateNode;if(!r)throw Error(A(169));n?(e=jw(e,t,ui),r.__reactInternalMemoizedMergedChildContext=e,he(_t),he(rt),ae(rt,e)):he(_t),ae(_t,n)}var Ln=null,ac=!1,Rd=!1;function Uw(e){Ln===null?Ln=[e]:Ln.push(e)}function AT(e){ac=!0,Uw(e)}function Ur(){if(!Rd&&Ln!==null){Rd=!0;var e=0,t=re;try{var n=Ln;for(re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ln=null,ac=!1}catch(i){throw Ln!==null&&(Ln=Ln.slice(e+1)),cw(Tp,Ur),i}finally{re=t,Rd=!1}}return null}var Hi=[],Gi=0,Za=null,eu=0,Bt=[],$t=0,ci=null,Fn=1,jn="";function Wr(e,t){Hi[Gi++]=eu,Hi[Gi++]=Za,Za=e,eu=t}function Vw(e,t,n){Bt[$t++]=Fn,Bt[$t++]=jn,Bt[$t++]=ci,ci=e;var r=Fn;e=jn;var i=32-un(r)-1;r&=~(1<<i),n+=1;var s=32-un(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Fn=1<<32-un(t)+i|n<<i|r,jn=s+e}else Fn=1<<s|n<<i|r,jn=e}function Lp(e){e.return!==null&&(Wr(e,1),Vw(e,1,0))}function Mp(e){for(;e===Za;)Za=Hi[--Gi],Hi[Gi]=null,eu=Hi[--Gi],Hi[Gi]=null;for(;e===ci;)ci=Bt[--$t],Bt[$t]=null,jn=Bt[--$t],Bt[$t]=null,Fn=Bt[--$t],Bt[$t]=null}var Dt=null,xt=null,pe=!1,rn=null;function Bw(e,t){var n=Wt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Pv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dt=e,xt=_r(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dt=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ci!==null?{id:Fn,overflow:jn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Dt=e,xt=null,!0):!1;default:return!1}}function Zh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ef(e){if(pe){var t=xt;if(t){var n=t;if(!Pv(e,t)){if(Zh(e))throw Error(A(418));t=_r(n.nextSibling);var r=Dt;t&&Pv(e,t)?Bw(r,n):(e.flags=e.flags&-4097|2,pe=!1,Dt=e)}}else{if(Zh(e))throw Error(A(418));e.flags=e.flags&-4097|2,pe=!1,Dt=e}}}function Ov(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dt=e}function aa(e){if(e!==Dt)return!1;if(!pe)return Ov(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yh(e.type,e.memoizedProps)),t&&(t=xt)){if(Zh(e))throw $w(),Error(A(418));for(;t;)Bw(e,t),t=_r(t.nextSibling)}if(Ov(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xt=_r(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=Dt?_r(e.stateNode.nextSibling):null;return!0}function $w(){for(var e=xt;e;)e=_r(e.nextSibling)}function ms(){xt=Dt=null,pe=!1}function Fp(e){rn===null?rn=[e]:rn.push(e)}var RT=er.ReactCurrentBatchConfig;function tn(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var tu=jr(null),nu=null,Ki=null,jp=null;function Up(){jp=Ki=nu=null}function Vp(e){var t=tu.current;he(tu),e._currentValue=t}function tf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ss(e,t){nu=e,jp=Ki=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vt=!0),e.firstContext=null)}function Kt(e){var t=e._currentValue;if(jp!==e)if(e={context:e,memoizedValue:t,next:null},Ki===null){if(nu===null)throw Error(A(308));Ki=e,nu.dependencies={lanes:0,firstContext:e}}else Ki=Ki.next=e;return t}var Jr=null;function Bp(e){Jr===null?Jr=[e]:Jr.push(e)}function zw(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Bp(t)):(n.next=i.next,i.next=n),t.interleaved=n,qn(e,r)}function qn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var or=!1;function $p(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ww(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,qn(e,n)}return i=r.interleaved,i===null?(t.next=t,Bp(r)):(t.next=i.next,i.next=t),r.interleaved=t,qn(e,n)}function Ra(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ap(e,n)}}function Dv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ru(e,t,n,r){var i=e.updateQueue;or=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,c=u=a=null,l=s;do{var h=l.lane,p=l.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,w=l;switch(h=t,p=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(p,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(p,d,h):y,h==null)break e;d=ye({},d,h);break e;case 2:or=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=p,a=d):c=c.next=p,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);hi|=o,e.lanes=o,e.memoizedState=d}}function bv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(A(191,i));i.call(r)}}}var Hw=new z_.Component().refs;function nf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var uc={isMounted:function(e){return(e=e._reactInternals)?Ii(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ct(),i=Cr(e),s=zn(r,i);s.payload=t,n!=null&&(s.callback=n),t=wr(e,s,i),t!==null&&(cn(t,e,i,r),Ra(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ct(),i=Cr(e),s=zn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=wr(e,s,i),t!==null&&(cn(t,e,i,r),Ra(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ct(),r=Cr(e),i=zn(n,r);i.tag=2,t!=null&&(i.callback=t),t=wr(e,i,r),t!==null&&(cn(t,e,r,n),Ra(t,e,r))}};function Lv(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Uo(n,r)||!Uo(i,s):!0}function Gw(e,t,n){var r=!1,i=Pr,s=t.contextType;return typeof s=="object"&&s!==null?s=Kt(s):(i=wt(t)?ui:rt.current,r=t.contextTypes,s=(r=r!=null)?gs(e,i):Pr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=uc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Mv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&uc.enqueueReplaceState(t,t.state,null)}function rf(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Hw,$p(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Kt(s):(s=wt(t)?ui:rt.current,i.context=gs(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(nf(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&uc.enqueueReplaceState(i,i.state,null),ru(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function qs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;l===Hw&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function ua(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fv(e){var t=e._init;return t(e._payload)}function Kw(e){function t(m,f){if(e){var v=m.deletions;v===null?(m.deletions=[f],m.flags|=16):v.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function i(m,f){return m=Sr(m,f),m.index=0,m.sibling=null,m}function s(m,f,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<f?(m.flags|=2,f):v):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,f,v,E){return f===null||f.tag!==6?(f=Ld(v,m.mode,E),f.return=m,f):(f=i(f,v),f.return=m,f)}function a(m,f,v,E){var k=v.type;return k===Ui?c(m,f,v.props.children,E,v.key):f!==null&&(f.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===sr&&Fv(k)===f.type)?(E=i(f,v.props),E.ref=qs(m,f,v),E.return=m,E):(E=ba(v.type,v.key,v.props,null,m.mode,E),E.ref=qs(m,f,v),E.return=m,E)}function u(m,f,v,E){return f===null||f.tag!==4||f.stateNode.containerInfo!==v.containerInfo||f.stateNode.implementation!==v.implementation?(f=Md(v,m.mode,E),f.return=m,f):(f=i(f,v.children||[]),f.return=m,f)}function c(m,f,v,E,k){return f===null||f.tag!==7?(f=si(v,m.mode,E,k),f.return=m,f):(f=i(f,v),f.return=m,f)}function d(m,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ld(""+f,m.mode,v),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Xl:return v=ba(f.type,f.key,f.props,null,m.mode,v),v.ref=qs(m,null,f),v.return=m,v;case ji:return f=Md(f,m.mode,v),f.return=m,f;case sr:var E=f._init;return d(m,E(f._payload),v)}if(oo(f)||zs(f))return f=si(f,m.mode,v,null),f.return=m,f;ua(m,f)}return null}function h(m,f,v,E){var k=f!==null?f.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:l(m,f,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xl:return v.key===k?a(m,f,v,E):null;case ji:return v.key===k?u(m,f,v,E):null;case sr:return k=v._init,h(m,f,k(v._payload),E)}if(oo(v)||zs(v))return k!==null?null:c(m,f,v,E,null);ua(m,v)}return null}function p(m,f,v,E,k){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(v)||null,l(f,m,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Xl:return m=m.get(E.key===null?v:E.key)||null,a(f,m,E,k);case ji:return m=m.get(E.key===null?v:E.key)||null,u(f,m,E,k);case sr:var x=E._init;return p(m,f,v,x(E._payload),k)}if(oo(E)||zs(E))return m=m.get(v)||null,c(f,m,E,k,null);ua(f,E)}return null}function y(m,f,v,E){for(var k=null,x=null,O=f,R=f=0,z=null;O!==null&&R<v.length;R++){O.index>R?(z=O,O=null):z=O.sibling;var G=h(m,O,v[R],E);if(G===null){O===null&&(O=z);break}e&&O&&G.alternate===null&&t(m,O),f=s(G,f,R),x===null?k=G:x.sibling=G,x=G,O=z}if(R===v.length)return n(m,O),pe&&Wr(m,R),k;if(O===null){for(;R<v.length;R++)O=d(m,v[R],E),O!==null&&(f=s(O,f,R),x===null?k=O:x.sibling=O,x=O);return pe&&Wr(m,R),k}for(O=r(m,O);R<v.length;R++)z=p(O,m,R,v[R],E),z!==null&&(e&&z.alternate!==null&&O.delete(z.key===null?R:z.key),f=s(z,f,R),x===null?k=z:x.sibling=z,x=z);return e&&O.forEach(function(V){return t(m,V)}),pe&&Wr(m,R),k}function w(m,f,v,E){var k=zs(v);if(typeof k!="function")throw Error(A(150));if(v=k.call(v),v==null)throw Error(A(151));for(var x=k=null,O=f,R=f=0,z=null,G=v.next();O!==null&&!G.done;R++,G=v.next()){O.index>R?(z=O,O=null):z=O.sibling;var V=h(m,O,G.value,E);if(V===null){O===null&&(O=z);break}e&&O&&V.alternate===null&&t(m,O),f=s(V,f,R),x===null?k=V:x.sibling=V,x=V,O=z}if(G.done)return n(m,O),pe&&Wr(m,R),k;if(O===null){for(;!G.done;R++,G=v.next())G=d(m,G.value,E),G!==null&&(f=s(G,f,R),x===null?k=G:x.sibling=G,x=G);return pe&&Wr(m,R),k}for(O=r(m,O);!G.done;R++,G=v.next())G=p(O,m,R,G.value,E),G!==null&&(e&&G.alternate!==null&&O.delete(G.key===null?R:G.key),f=s(G,f,R),x===null?k=G:x.sibling=G,x=G);return e&&O.forEach(function(J){return t(m,J)}),pe&&Wr(m,R),k}function C(m,f,v,E){if(typeof v=="object"&&v!==null&&v.type===Ui&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Xl:e:{for(var k=v.key,x=f;x!==null;){if(x.key===k){if(k=v.type,k===Ui){if(x.tag===7){n(m,x.sibling),f=i(x,v.props.children),f.return=m,m=f;break e}}else if(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===sr&&Fv(k)===x.type){n(m,x.sibling),f=i(x,v.props),f.ref=qs(m,x,v),f.return=m,m=f;break e}n(m,x);break}else t(m,x);x=x.sibling}v.type===Ui?(f=si(v.props.children,m.mode,E,v.key),f.return=m,m=f):(E=ba(v.type,v.key,v.props,null,m.mode,E),E.ref=qs(m,f,v),E.return=m,m=E)}return o(m);case ji:e:{for(x=v.key;f!==null;){if(f.key===x)if(f.tag===4&&f.stateNode.containerInfo===v.containerInfo&&f.stateNode.implementation===v.implementation){n(m,f.sibling),f=i(f,v.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=Md(v,m.mode,E),f.return=m,m=f}return o(m);case sr:return x=v._init,C(m,f,x(v._payload),E)}if(oo(v))return y(m,f,v,E);if(zs(v))return w(m,f,v,E);ua(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,f!==null&&f.tag===6?(n(m,f.sibling),f=i(f,v),f.return=m,m=f):(n(m,f),f=Ld(v,m.mode,E),f.return=m,m=f),o(m)):n(m,f)}return C}var vs=Kw(!0),qw=Kw(!1),kl={},In=jr(kl),zo=jr(kl),Wo=jr(kl);function Xr(e){if(e===kl)throw Error(A(174));return e}function zp(e,t){switch(ae(Wo,t),ae(zo,e),ae(In,kl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lh(t,e)}he(In),ae(In,t)}function ys(){he(In),he(zo),he(Wo)}function Yw(e){Xr(Wo.current);var t=Xr(In.current),n=Lh(t,e.type);t!==n&&(ae(zo,e),ae(In,n))}function Wp(e){zo.current===e&&(he(In),he(zo))}var me=jr(0);function iu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nd=[];function Hp(){for(var e=0;e<Nd.length;e++)Nd[e]._workInProgressVersionPrimary=null;Nd.length=0}var Na=er.ReactCurrentDispatcher,xd=er.ReactCurrentBatchConfig,di=0,ve=null,Ne=null,Le=null,su=!1,Eo=!1,Ho=0,NT=0;function Xe(){throw Error(A(321))}function Gp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hn(e[n],t[n]))return!1;return!0}function Kp(e,t,n,r,i,s){if(di=s,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Na.current=e===null||e.memoizedState===null?DT:bT,e=n(r,i),Eo){s=0;do{if(Eo=!1,Ho=0,25<=s)throw Error(A(301));s+=1,Le=Ne=null,t.updateQueue=null,Na.current=LT,e=n(r,i)}while(Eo)}if(Na.current=ou,t=Ne!==null&&Ne.next!==null,di=0,Le=Ne=ve=null,su=!1,t)throw Error(A(300));return e}function qp(){var e=Ho!==0;return Ho=0,e}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?ve.memoizedState=Le=e:Le=Le.next=e,Le}function qt(){if(Ne===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Le===null?ve.memoizedState:Le.next;if(t!==null)Le=t,Ne=e;else{if(e===null)throw Error(A(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Le===null?ve.memoizedState=Le=e:Le=Le.next=e}return Le}function Go(e,t){return typeof t=="function"?t(e):t}function Pd(e){var t=qt(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=Ne,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((di&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,ve.lanes|=c,hi|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,hn(r,t.memoizedState)||(vt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ve.lanes|=s,hi|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Od(e){var t=qt(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);hn(s,t.memoizedState)||(vt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Qw(){}function Jw(e,t){var n=ve,r=qt(),i=t(),s=!hn(r.memoizedState,i);if(s&&(r.memoizedState=i,vt=!0),r=r.queue,Yp(e1.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,Ko(9,Zw.bind(null,n,r,i,t),void 0,null),je===null)throw Error(A(349));di&30||Xw(n,t,i)}return i}function Xw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Zw(e,t,n,r){t.value=n,t.getSnapshot=r,t1(t)&&n1(e)}function e1(e,t,n){return n(function(){t1(t)&&n1(e)})}function t1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hn(e,n)}catch{return!0}}function n1(e){var t=qn(e,1);t!==null&&cn(t,e,1,-1)}function jv(e){var t=vn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:e},t.queue=e,e=e.dispatch=OT.bind(null,ve,e),[t.memoizedState,e]}function Ko(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function r1(){return qt().memoizedState}function xa(e,t,n,r){var i=vn();ve.flags|=e,i.memoizedState=Ko(1|t,n,void 0,r===void 0?null:r)}function cc(e,t,n,r){var i=qt();r=r===void 0?null:r;var s=void 0;if(Ne!==null){var o=Ne.memoizedState;if(s=o.destroy,r!==null&&Gp(r,o.deps)){i.memoizedState=Ko(t,n,s,r);return}}ve.flags|=e,i.memoizedState=Ko(1|t,n,s,r)}function Uv(e,t){return xa(8390656,8,e,t)}function Yp(e,t){return cc(2048,8,e,t)}function i1(e,t){return cc(4,2,e,t)}function s1(e,t){return cc(4,4,e,t)}function o1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function l1(e,t,n){return n=n!=null?n.concat([e]):null,cc(4,4,o1.bind(null,t,e),n)}function Qp(){}function a1(e,t){var n=qt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function u1(e,t){var n=qt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function c1(e,t,n){return di&21?(hn(n,t)||(n=fw(),ve.lanes|=n,hi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=n)}function xT(e,t){var n=re;re=n!==0&&4>n?n:4,e(!0);var r=xd.transition;xd.transition={};try{e(!1),t()}finally{re=n,xd.transition=r}}function d1(){return qt().memoizedState}function PT(e,t,n){var r=Cr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},h1(e))f1(t,n);else if(n=zw(e,t,n,r),n!==null){var i=ct();cn(n,e,r,i),p1(n,t,r)}}function OT(e,t,n){var r=Cr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(h1(e))f1(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,hn(l,o)){var a=t.interleaved;a===null?(i.next=i,Bp(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=zw(e,t,i,r),n!==null&&(i=ct(),cn(n,e,r,i),p1(n,t,r))}}function h1(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function f1(e,t){Eo=su=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function p1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ap(e,n)}}var ou={readContext:Kt,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},DT={readContext:Kt,useCallback:function(e,t){return vn().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:Uv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,xa(4194308,4,o1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xa(4194308,4,e,t)},useInsertionEffect:function(e,t){return xa(4,2,e,t)},useMemo:function(e,t){var n=vn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=PT.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=vn();return e={current:e},t.memoizedState=e},useState:jv,useDebugValue:Qp,useDeferredValue:function(e){return vn().memoizedState=e},useTransition:function(){var e=jv(!1),t=e[0];return e=xT.bind(null,e[1]),vn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ve,i=vn();if(pe){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),je===null)throw Error(A(349));di&30||Xw(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Uv(e1.bind(null,r,s,e),[e]),r.flags|=2048,Ko(9,Zw.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vn(),t=je.identifierPrefix;if(pe){var n=jn,r=Fn;n=(r&~(1<<32-un(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ho++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=NT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bT={readContext:Kt,useCallback:a1,useContext:Kt,useEffect:Yp,useImperativeHandle:l1,useInsertionEffect:i1,useLayoutEffect:s1,useMemo:u1,useReducer:Pd,useRef:r1,useState:function(){return Pd(Go)},useDebugValue:Qp,useDeferredValue:function(e){var t=qt();return c1(t,Ne.memoizedState,e)},useTransition:function(){var e=Pd(Go)[0],t=qt().memoizedState;return[e,t]},useMutableSource:Qw,useSyncExternalStore:Jw,useId:d1,unstable_isNewReconciler:!1},LT={readContext:Kt,useCallback:a1,useContext:Kt,useEffect:Yp,useImperativeHandle:l1,useInsertionEffect:i1,useLayoutEffect:s1,useMemo:u1,useReducer:Od,useRef:r1,useState:function(){return Od(Go)},useDebugValue:Qp,useDeferredValue:function(e){var t=qt();return Ne===null?t.memoizedState=e:c1(t,Ne.memoizedState,e)},useTransition:function(){var e=Od(Go)[0],t=qt().memoizedState;return[e,t]},useMutableSource:Qw,useSyncExternalStore:Jw,useId:d1,unstable_isNewReconciler:!1};function _s(e,t){try{var n="",r=t;do n+=uk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Dd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var MT=typeof WeakMap=="function"?WeakMap:Map;function g1(e,t,n){n=zn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){au||(au=!0,gf=r),sf(e,t)},n}function m1(e,t,n){n=zn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){sf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){sf(e,t),typeof r!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Vv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new MT;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=QT.bind(null,e,t,n),t.then(e,e))}function Bv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $v(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zn(-1,1),t.tag=2,wr(n,t,1))),n.lanes|=1),e)}var FT=er.ReactCurrentOwner,vt=!1;function ot(e,t,n,r){t.child=e===null?qw(t,null,n,r):vs(t,e.child,n,r)}function zv(e,t,n,r,i){n=n.render;var s=t.ref;return ss(t,i),r=Kp(e,t,n,r,s,i),n=qp(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yn(e,t,i)):(pe&&n&&Lp(t),t.flags|=1,ot(e,t,r,i),t.child)}function Wv(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!ig(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,v1(e,t,s,r,i)):(e=ba(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Uo,n(o,r)&&e.ref===t.ref)return Yn(e,t,i)}return t.flags|=1,e=Sr(s,r),e.ref=t.ref,e.return=t,t.child=e}function v1(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Uo(s,r)&&e.ref===t.ref)if(vt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,Yn(e,t,i)}return of(e,t,n,r,i)}function y1(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(Yi,At),At|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ae(Yi,At),At|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ae(Yi,At),At|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ae(Yi,At),At|=r;return ot(e,t,i,n),t.child}function _1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function of(e,t,n,r,i){var s=wt(n)?ui:rt.current;return s=gs(t,s),ss(t,i),n=Kp(e,t,n,r,s,i),r=qp(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yn(e,t,i)):(pe&&r&&Lp(t),t.flags|=1,ot(e,t,n,i),t.child)}function Hv(e,t,n,r,i){if(wt(n)){var s=!0;Xa(t)}else s=!1;if(ss(t,i),t.stateNode===null)Pa(e,t),Gw(t,n,r),rf(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Kt(u):(u=wt(n)?ui:rt.current,u=gs(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Mv(t,o,r,u),or=!1;var h=t.memoizedState;o.state=h,ru(t,r,o,i),a=t.memoizedState,l!==r||h!==a||_t.current||or?(typeof c=="function"&&(nf(t,n,c,r),a=t.memoizedState),(l=or||Lv(t,n,l,r,h,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ww(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:tn(t.type,l),o.props=u,d=t.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Kt(a):(a=wt(n)?ui:rt.current,a=gs(t,a));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==a)&&Mv(t,o,r,a),or=!1,h=t.memoizedState,o.state=h,ru(t,r,o,i);var y=t.memoizedState;l!==d||h!==y||_t.current||or?(typeof p=="function"&&(nf(t,n,p,r),y=t.memoizedState),(u=or||Lv(t,n,u,r,h,y,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return lf(e,t,n,r,s,i)}function lf(e,t,n,r,i,s){_1(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&xv(t,n,!1),Yn(e,t,s);r=t.stateNode,FT.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=vs(t,e.child,null,s),t.child=vs(t,null,l,s)):ot(e,t,l,s),t.memoizedState=r.state,i&&xv(t,n,!0),t.child}function w1(e){var t=e.stateNode;t.pendingContext?Nv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nv(e,t.context,!1),zp(e,t.containerInfo)}function Gv(e,t,n,r,i){return ms(),Fp(i),t.flags|=256,ot(e,t,n,r),t.child}var af={dehydrated:null,treeContext:null,retryLane:0};function uf(e){return{baseLanes:e,cachePool:null,transitions:null}}function E1(e,t,n){var r=t.pendingProps,i=me.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ae(me,i&1),e===null)return ef(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=fc(o,r,0,null),e=si(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=uf(n),t.memoizedState=af,e):Jp(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return jT(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Sr(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Sr(l,s):(s=si(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?uf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=af,r}return s=e.child,e=s.sibling,r=Sr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Jp(e,t){return t=fc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ca(e,t,n,r){return r!==null&&Fp(r),vs(t,e.child,null,n),e=Jp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jT(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Dd(Error(A(422))),ca(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=fc({mode:"visible",children:r.children},i,0,null),s=si(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&vs(t,e.child,null,o),t.child.memoizedState=uf(o),t.memoizedState=af,s);if(!(t.mode&1))return ca(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(A(419)),r=Dd(s,r,void 0),ca(e,t,o,r)}if(l=(o&e.childLanes)!==0,vt||l){if(r=je,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qn(e,i),cn(r,e,i,-1))}return rg(),r=Dd(Error(A(421))),ca(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=JT.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,xt=_r(i.nextSibling),Dt=t,pe=!0,rn=null,e!==null&&(Bt[$t++]=Fn,Bt[$t++]=jn,Bt[$t++]=ci,Fn=e.id,jn=e.overflow,ci=t),t=Jp(t,r.children),t.flags|=4096,t)}function Kv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),tf(e.return,t,n)}function bd(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function C1(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ot(e,t,r.children,n),r=me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kv(e,n,t);else if(e.tag===19)Kv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ae(me,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&iu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),bd(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&iu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}bd(t,!0,n,null,s);break;case"together":bd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=Sr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Sr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function UT(e,t,n){switch(t.tag){case 3:w1(t),ms();break;case 5:Yw(t);break;case 1:wt(t.type)&&Xa(t);break;case 4:zp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ae(tu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ae(me,me.current&1),t.flags|=128,null):n&t.child.childLanes?E1(e,t,n):(ae(me,me.current&1),e=Yn(e,t,n),e!==null?e.sibling:null);ae(me,me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return C1(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ae(me,me.current),r)break;return null;case 22:case 23:return t.lanes=0,y1(e,t,n)}return Yn(e,t,n)}var S1,cf,I1,k1;S1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cf=function(){};I1=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xr(In.current);var s=null;switch(n){case"input":i=Ph(e,i),r=Ph(e,r),s=[];break;case"select":i=ye({},i,{value:void 0}),r=ye({},r,{value:void 0}),s=[];break;case"textarea":i=bh(e,i),r=bh(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Qa)}Mh(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Oo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Oo.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ce("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};k1=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ys(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function VT(e,t,n){var r=t.pendingProps;switch(Mp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return wt(t.type)&&Ja(),Ze(t),null;case 3:return r=t.stateNode,ys(),he(_t),he(rt),Hp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(aa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rn!==null&&(yf(rn),rn=null))),cf(e,t),Ze(t),null;case 5:Wp(t);var i=Xr(Wo.current);if(n=t.type,e!==null&&t.stateNode!=null)I1(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(A(166));return Ze(t),null}if(e=Xr(In.current),aa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[yn]=t,r[$o]=s,e=(t.mode&1)!==0,n){case"dialog":ce("cancel",r),ce("close",r);break;case"iframe":case"object":case"embed":ce("load",r);break;case"video":case"audio":for(i=0;i<ao.length;i++)ce(ao[i],r);break;case"source":ce("error",r);break;case"img":case"image":case"link":ce("error",r),ce("load",r);break;case"details":ce("toggle",r);break;case"input":nv(r,s),ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ce("invalid",r);break;case"textarea":iv(r,s),ce("invalid",r)}Mh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&la(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&la(r.textContent,l,e),i=["children",""+l]):Oo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ce("scroll",r)}switch(n){case"input":Zl(r),rv(r,s,!0);break;case"textarea":Zl(r),sv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Qa)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=X_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[yn]=t,e[$o]=r,S1(e,t,!1,!1),t.stateNode=e;e:{switch(o=Fh(n,r),n){case"dialog":ce("cancel",e),ce("close",e),i=r;break;case"iframe":case"object":case"embed":ce("load",e),i=r;break;case"video":case"audio":for(i=0;i<ao.length;i++)ce(ao[i],e);i=r;break;case"source":ce("error",e),i=r;break;case"img":case"image":case"link":ce("error",e),ce("load",e),i=r;break;case"details":ce("toggle",e),i=r;break;case"input":nv(e,r),i=Ph(e,r),ce("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ye({},r,{value:void 0}),ce("invalid",e);break;case"textarea":iv(e,r),i=bh(e,r),ce("invalid",e);break;default:i=r}Mh(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?tw(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Z_(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Do(e,a):typeof a=="number"&&Do(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Oo.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ce("scroll",e):a!=null&&Ep(e,s,a,o))}switch(n){case"input":Zl(e),rv(e,r,!1);break;case"textarea":Zl(e),sv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+xr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ts(e,!!r.multiple,s,!1):r.defaultValue!=null&&ts(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Qa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ze(t),null;case 6:if(e&&t.stateNode!=null)k1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(A(166));if(n=Xr(Wo.current),Xr(In.current),aa(t)){if(r=t.stateNode,n=t.memoizedProps,r[yn]=t,(s=r.nodeValue!==n)&&(e=Dt,e!==null))switch(e.tag){case 3:la(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&la(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yn]=t,t.stateNode=r}return Ze(t),null;case 13:if(he(me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&xt!==null&&t.mode&1&&!(t.flags&128))$w(),ms(),t.flags|=98560,s=!1;else if(s=aa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(A(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(A(317));s[yn]=t}else ms(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ze(t),s=!1}else rn!==null&&(yf(rn),rn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?Oe===0&&(Oe=3):rg())),t.updateQueue!==null&&(t.flags|=4),Ze(t),null);case 4:return ys(),cf(e,t),e===null&&Vo(t.stateNode.containerInfo),Ze(t),null;case 10:return Vp(t.type._context),Ze(t),null;case 17:return wt(t.type)&&Ja(),Ze(t),null;case 19:if(he(me),s=t.memoizedState,s===null)return Ze(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Ys(s,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=iu(e),o!==null){for(t.flags|=128,Ys(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ae(me,me.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ce()>ws&&(t.flags|=128,r=!0,Ys(s,!1),t.lanes=4194304)}else{if(!r)if(e=iu(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ys(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pe)return Ze(t),null}else 2*Ce()-s.renderingStartTime>ws&&n!==1073741824&&(t.flags|=128,r=!0,Ys(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ce(),t.sibling=null,n=me.current,ae(me,r?n&1|2:n&1),t):(Ze(t),null);case 22:case 23:return ng(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?At&1073741824&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function BT(e,t){switch(Mp(t),t.tag){case 1:return wt(t.type)&&Ja(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ys(),he(_t),he(rt),Hp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wp(t),null;case 13:if(he(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));ms()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(me),null;case 4:return ys(),null;case 10:return Vp(t.type._context),null;case 22:case 23:return ng(),null;case 24:return null;default:return null}}var da=!1,et=!1,$T=typeof WeakSet=="function"?WeakSet:Set,M=null;function qi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_e(e,t,r)}else n.current=null}function df(e,t,n){try{n()}catch(r){_e(e,t,r)}}var qv=!1;function zT(e,t){if(Kh=Ka,e=Nw(),bp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++u===i&&(l=o),h===s&&++c===r&&(a=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(qh={focusedElem:e,selectionRange:n},Ka=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,C=y.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:tn(t.type,w),C);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(E){_e(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return y=qv,qv=!1,y}function Co(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&df(t,n,s)}i=i.next}while(i!==r)}}function dc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function T1(e){var t=e.alternate;t!==null&&(e.alternate=null,T1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yn],delete t[$o],delete t[Jh],delete t[kT],delete t[TT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function A1(e){return e.tag===5||e.tag===3||e.tag===4}function Yv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||A1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ff(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Qa));else if(r!==4&&(e=e.child,e!==null))for(ff(e,t,n),e=e.sibling;e!==null;)ff(e,t,n),e=e.sibling}function pf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(pf(e,t,n),e=e.sibling;e!==null;)pf(e,t,n),e=e.sibling}var $e=null,nn=!1;function rr(e,t,n){for(n=n.child;n!==null;)R1(e,t,n),n=n.sibling}function R1(e,t,n){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(rc,n)}catch{}switch(n.tag){case 5:et||qi(n,t);case 6:var r=$e,i=nn;$e=null,rr(e,t,n),$e=r,nn=i,$e!==null&&(nn?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(nn?(e=$e,n=n.stateNode,e.nodeType===8?Ad(e.parentNode,n):e.nodeType===1&&Ad(e,n),Fo(e)):Ad($e,n.stateNode));break;case 4:r=$e,i=nn,$e=n.stateNode.containerInfo,nn=!0,rr(e,t,n),$e=r,nn=i;break;case 0:case 11:case 14:case 15:if(!et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&df(n,t,o),i=i.next}while(i!==r)}rr(e,t,n);break;case 1:if(!et&&(qi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){_e(n,t,l)}rr(e,t,n);break;case 21:rr(e,t,n);break;case 22:n.mode&1?(et=(r=et)||n.memoizedState!==null,rr(e,t,n),et=r):rr(e,t,n);break;default:rr(e,t,n)}}function Qv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $T),t.forEach(function(r){var i=XT.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function en(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:$e=l.stateNode,nn=!1;break e;case 3:$e=l.stateNode.containerInfo,nn=!0;break e;case 4:$e=l.stateNode.containerInfo,nn=!0;break e}l=l.return}if($e===null)throw Error(A(160));R1(s,o,i),$e=null,nn=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){_e(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)N1(t,e),t=t.sibling}function N1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(en(t,e),mn(e),r&4){try{Co(3,e,e.return),dc(3,e)}catch(w){_e(e,e.return,w)}try{Co(5,e,e.return)}catch(w){_e(e,e.return,w)}}break;case 1:en(t,e),mn(e),r&512&&n!==null&&qi(n,n.return);break;case 5:if(en(t,e),mn(e),r&512&&n!==null&&qi(n,n.return),e.flags&32){var i=e.stateNode;try{Do(i,"")}catch(w){_e(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Q_(i,s),Fh(l,o);var u=Fh(l,s);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?tw(i,d):c==="dangerouslySetInnerHTML"?Z_(i,d):c==="children"?Do(i,d):Ep(i,c,d,u)}switch(l){case"input":Oh(i,s);break;case"textarea":J_(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ts(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?ts(i,!!s.multiple,s.defaultValue,!0):ts(i,!!s.multiple,s.multiple?[]:"",!1))}i[$o]=s}catch(w){_e(e,e.return,w)}}break;case 6:if(en(t,e),mn(e),r&4){if(e.stateNode===null)throw Error(A(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(w){_e(e,e.return,w)}}break;case 3:if(en(t,e),mn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fo(t.containerInfo)}catch(w){_e(e,e.return,w)}break;case 4:en(t,e),mn(e);break;case 13:en(t,e),mn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(eg=Ce())),r&4&&Qv(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(et=(u=et)||c,en(t,e),et=u):en(t,e),mn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(M=e,c=e.child;c!==null;){for(d=M=c;M!==null;){switch(h=M,p=h.child,h.tag){case 0:case 11:case 14:case 15:Co(4,h,h.return);break;case 1:qi(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){_e(r,n,w)}}break;case 5:qi(h,h.return);break;case 22:if(h.memoizedState!==null){Xv(d);continue}}p!==null?(p.return=h,M=p):Xv(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=ew("display",o))}catch(w){_e(e,e.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){_e(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:en(t,e),mn(e),r&4&&Qv(e);break;case 21:break;default:en(t,e),mn(e)}}function mn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(A1(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Do(i,""),r.flags&=-33);var s=Yv(e);pf(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Yv(e);ff(e,l,o);break;default:throw Error(A(161))}}catch(a){_e(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function WT(e,t,n){M=e,x1(e)}function x1(e,t,n){for(var r=(e.mode&1)!==0;M!==null;){var i=M,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||da;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||et;l=da;var u=et;if(da=o,(et=a)&&!u)for(M=i;M!==null;)o=M,a=o.child,o.tag===22&&o.memoizedState!==null?Zv(i):a!==null?(a.return=o,M=a):Zv(i);for(;s!==null;)M=s,x1(s),s=s.sibling;M=i,da=l,et=u}Jv(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,M=s):Jv(e)}}function Jv(e){for(;M!==null;){var t=M;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||dc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!et)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:tn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&bv(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}bv(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Fo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}et||t.flags&512&&hf(t)}catch(h){_e(t,t.return,h)}}if(t===e){M=null;break}if(n=t.sibling,n!==null){n.return=t.return,M=n;break}M=t.return}}function Xv(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var n=t.sibling;if(n!==null){n.return=t.return,M=n;break}M=t.return}}function Zv(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{dc(4,t)}catch(a){_e(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){_e(t,i,a)}}var s=t.return;try{hf(t)}catch(a){_e(t,s,a)}break;case 5:var o=t.return;try{hf(t)}catch(a){_e(t,o,a)}}}catch(a){_e(t,t.return,a)}if(t===e){M=null;break}var l=t.sibling;if(l!==null){l.return=t.return,M=l;break}M=t.return}}var HT=Math.ceil,lu=er.ReactCurrentDispatcher,Xp=er.ReactCurrentOwner,Gt=er.ReactCurrentBatchConfig,ee=0,je=null,Te=null,He=0,At=0,Yi=jr(0),Oe=0,qo=null,hi=0,hc=0,Zp=0,So=null,gt=null,eg=0,ws=1/0,bn=null,au=!1,gf=null,Er=null,ha=!1,fr=null,uu=0,Io=0,mf=null,Oa=-1,Da=0;function ct(){return ee&6?Ce():Oa!==-1?Oa:Oa=Ce()}function Cr(e){return e.mode&1?ee&2&&He!==0?He&-He:RT.transition!==null?(Da===0&&(Da=fw()),Da):(e=re,e!==0||(e=window.event,e=e===void 0?16:ww(e.type)),e):1}function cn(e,t,n,r){if(50<Io)throw Io=0,mf=null,Error(A(185));Cl(e,n,r),(!(ee&2)||e!==je)&&(e===je&&(!(ee&2)&&(hc|=n),Oe===4&&ar(e,He)),Et(e,r),n===1&&ee===0&&!(t.mode&1)&&(ws=Ce()+500,ac&&Ur()))}function Et(e,t){var n=e.callbackNode;Rk(e,t);var r=Ga(e,e===je?He:0);if(r===0)n!==null&&av(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&av(n),t===1)e.tag===0?AT(ey.bind(null,e)):Uw(ey.bind(null,e)),ST(function(){!(ee&6)&&Ur()}),n=null;else{switch(pw(r)){case 1:n=Tp;break;case 4:n=dw;break;case 16:n=Ha;break;case 536870912:n=hw;break;default:n=Ha}n=j1(n,P1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function P1(e,t){if(Oa=-1,Da=0,ee&6)throw Error(A(327));var n=e.callbackNode;if(os()&&e.callbackNode!==n)return null;var r=Ga(e,e===je?He:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=cu(e,r);else{t=r;var i=ee;ee|=2;var s=D1();(je!==e||He!==t)&&(bn=null,ws=Ce()+500,ii(e,t));do try{qT();break}catch(l){O1(e,l)}while(!0);Up(),lu.current=s,ee=i,Te!==null?t=0:(je=null,He=0,t=Oe)}if(t!==0){if(t===2&&(i=$h(e),i!==0&&(r=i,t=vf(e,i))),t===1)throw n=qo,ii(e,0),ar(e,r),Et(e,Ce()),n;if(t===6)ar(e,r);else{if(i=e.current.alternate,!(r&30)&&!GT(i)&&(t=cu(e,r),t===2&&(s=$h(e),s!==0&&(r=s,t=vf(e,s))),t===1))throw n=qo,ii(e,0),ar(e,r),Et(e,Ce()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(A(345));case 2:Hr(e,gt,bn);break;case 3:if(ar(e,r),(r&130023424)===r&&(t=eg+500-Ce(),10<t)){if(Ga(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ct(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Qh(Hr.bind(null,e,gt,bn),t);break}Hr(e,gt,bn);break;case 4:if(ar(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-un(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*HT(r/1960))-r,10<r){e.timeoutHandle=Qh(Hr.bind(null,e,gt,bn),r);break}Hr(e,gt,bn);break;case 5:Hr(e,gt,bn);break;default:throw Error(A(329))}}}return Et(e,Ce()),e.callbackNode===n?P1.bind(null,e):null}function vf(e,t){var n=So;return e.current.memoizedState.isDehydrated&&(ii(e,t).flags|=256),e=cu(e,t),e!==2&&(t=gt,gt=n,t!==null&&yf(t)),e}function yf(e){gt===null?gt=e:gt.push.apply(gt,e)}function GT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!hn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ar(e,t){for(t&=~Zp,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-un(t),r=1<<n;e[n]=-1,t&=~r}}function ey(e){if(ee&6)throw Error(A(327));os();var t=Ga(e,0);if(!(t&1))return Et(e,Ce()),null;var n=cu(e,t);if(e.tag!==0&&n===2){var r=$h(e);r!==0&&(t=r,n=vf(e,r))}if(n===1)throw n=qo,ii(e,0),ar(e,t),Et(e,Ce()),n;if(n===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hr(e,gt,bn),Et(e,Ce()),null}function tg(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(ws=Ce()+500,ac&&Ur())}}function fi(e){fr!==null&&fr.tag===0&&!(ee&6)&&os();var t=ee;ee|=1;var n=Gt.transition,r=re;try{if(Gt.transition=null,re=1,e)return e()}finally{re=r,Gt.transition=n,ee=t,!(ee&6)&&Ur()}}function ng(){At=Yi.current,he(Yi)}function ii(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,CT(n)),Te!==null)for(n=Te.return;n!==null;){var r=n;switch(Mp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ja();break;case 3:ys(),he(_t),he(rt),Hp();break;case 5:Wp(r);break;case 4:ys();break;case 13:he(me);break;case 19:he(me);break;case 10:Vp(r.type._context);break;case 22:case 23:ng()}n=n.return}if(je=e,Te=e=Sr(e.current,null),He=At=t,Oe=0,qo=null,Zp=hc=hi=0,gt=So=null,Jr!==null){for(t=0;t<Jr.length;t++)if(n=Jr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Jr=null}return e}function O1(e,t){do{var n=Te;try{if(Up(),Na.current=ou,su){for(var r=ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}su=!1}if(di=0,Le=Ne=ve=null,Eo=!1,Ho=0,Xp.current=null,n===null||n.return===null){Oe=1,qo=t,Te=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=He,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Bv(o);if(p!==null){p.flags&=-257,$v(p,o,l,s,t),p.mode&1&&Vv(s,u,t),t=p,a=u;var y=t.updateQueue;if(y===null){var w=new Set;w.add(a),t.updateQueue=w}else y.add(a);break e}else{if(!(t&1)){Vv(s,u,t),rg();break e}a=Error(A(426))}}else if(pe&&l.mode&1){var C=Bv(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),$v(C,o,l,s,t),Fp(_s(a,l));break e}}s=a=_s(a,l),Oe!==4&&(Oe=2),So===null?So=[s]:So.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=g1(s,a,t);Dv(s,m);break e;case 1:l=a;var f=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Er===null||!Er.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=m1(s,l,t);Dv(s,E);break e}}s=s.return}while(s!==null)}L1(n)}catch(k){t=k,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(!0)}function D1(){var e=lu.current;return lu.current=ou,e===null?ou:e}function rg(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),je===null||!(hi&268435455)&&!(hc&268435455)||ar(je,He)}function cu(e,t){var n=ee;ee|=2;var r=D1();(je!==e||He!==t)&&(bn=null,ii(e,t));do try{KT();break}catch(i){O1(e,i)}while(!0);if(Up(),ee=n,lu.current=r,Te!==null)throw Error(A(261));return je=null,He=0,Oe}function KT(){for(;Te!==null;)b1(Te)}function qT(){for(;Te!==null&&!_k();)b1(Te)}function b1(e){var t=F1(e.alternate,e,At);e.memoizedProps=e.pendingProps,t===null?L1(e):Te=t,Xp.current=null}function L1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=BT(n,t),n!==null){n.flags&=32767,Te=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,Te=null;return}}else if(n=VT(n,t,At),n!==null){Te=n;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Oe===0&&(Oe=5)}function Hr(e,t,n){var r=re,i=Gt.transition;try{Gt.transition=null,re=1,YT(e,t,n,r)}finally{Gt.transition=i,re=r}return null}function YT(e,t,n,r){do os();while(fr!==null);if(ee&6)throw Error(A(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Nk(e,s),e===je&&(Te=je=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ha||(ha=!0,j1(Ha,function(){return os(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Gt.transition,Gt.transition=null;var o=re;re=1;var l=ee;ee|=4,Xp.current=null,zT(e,n),N1(n,e),gT(qh),Ka=!!Kh,qh=Kh=null,e.current=n,WT(n),wk(),ee=l,re=o,Gt.transition=s}else e.current=n;if(ha&&(ha=!1,fr=e,uu=i),s=e.pendingLanes,s===0&&(Er=null),Sk(n.stateNode),Et(e,Ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(au)throw au=!1,e=gf,gf=null,e;return uu&1&&e.tag!==0&&os(),s=e.pendingLanes,s&1?e===mf?Io++:(Io=0,mf=e):Io=0,Ur(),null}function os(){if(fr!==null){var e=pw(uu),t=Gt.transition,n=re;try{if(Gt.transition=null,re=16>e?16:e,fr===null)var r=!1;else{if(e=fr,fr=null,uu=0,ee&6)throw Error(A(331));var i=ee;for(ee|=4,M=e.current;M!==null;){var s=M,o=s.child;if(M.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(M=u;M!==null;){var c=M;switch(c.tag){case 0:case 11:case 15:Co(8,c,s)}var d=c.child;if(d!==null)d.return=c,M=d;else for(;M!==null;){c=M;var h=c.sibling,p=c.return;if(T1(c),c===u){M=null;break}if(h!==null){h.return=p,M=h;break}M=p}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}M=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,M=o;else e:for(;M!==null;){if(s=M,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Co(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,M=m;break e}M=s.return}}var f=e.current;for(M=f;M!==null;){o=M;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,M=v;else e:for(o=f;M!==null;){if(l=M,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:dc(9,l)}}catch(k){_e(l,l.return,k)}if(l===o){M=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,M=E;break e}M=l.return}}if(ee=i,Ur(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(rc,e)}catch{}r=!0}return r}finally{re=n,Gt.transition=t}}return!1}function ty(e,t,n){t=_s(n,t),t=g1(e,t,1),e=wr(e,t,1),t=ct(),e!==null&&(Cl(e,1,t),Et(e,t))}function _e(e,t,n){if(e.tag===3)ty(e,e,n);else for(;t!==null;){if(t.tag===3){ty(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Er===null||!Er.has(r))){e=_s(n,e),e=m1(t,e,1),t=wr(t,e,1),e=ct(),t!==null&&(Cl(t,1,e),Et(t,e));break}}t=t.return}}function QT(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ct(),e.pingedLanes|=e.suspendedLanes&n,je===e&&(He&n)===n&&(Oe===4||Oe===3&&(He&130023424)===He&&500>Ce()-eg?ii(e,0):Zp|=n),Et(e,t)}function M1(e,t){t===0&&(e.mode&1?(t=na,na<<=1,!(na&130023424)&&(na=4194304)):t=1);var n=ct();e=qn(e,t),e!==null&&(Cl(e,t,n),Et(e,n))}function JT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),M1(e,n)}function XT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(t),M1(e,n)}var F1;F1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_t.current)vt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vt=!1,UT(e,t,n);vt=!!(e.flags&131072)}else vt=!1,pe&&t.flags&1048576&&Vw(t,eu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Pa(e,t),e=t.pendingProps;var i=gs(t,rt.current);ss(t,n),i=Kp(null,t,r,e,i,n);var s=qp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(r)?(s=!0,Xa(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$p(t),i.updater=uc,t.stateNode=i,i._reactInternals=t,rf(t,r,e,n),t=lf(null,t,r,!0,s,n)):(t.tag=0,pe&&s&&Lp(t),ot(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Pa(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=eA(r),e=tn(r,e),i){case 0:t=of(null,t,r,e,n);break e;case 1:t=Hv(null,t,r,e,n);break e;case 11:t=zv(null,t,r,e,n);break e;case 14:t=Wv(null,t,r,tn(r.type,e),n);break e}throw Error(A(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tn(r,i),of(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tn(r,i),Hv(e,t,r,i,n);case 3:e:{if(w1(t),e===null)throw Error(A(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Ww(e,t),ru(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=_s(Error(A(423)),t),t=Gv(e,t,r,n,i);break e}else if(r!==i){i=_s(Error(A(424)),t),t=Gv(e,t,r,n,i);break e}else for(xt=_r(t.stateNode.containerInfo.firstChild),Dt=t,pe=!0,rn=null,n=qw(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ms(),r===i){t=Yn(e,t,n);break e}ot(e,t,r,n)}t=t.child}return t;case 5:return Yw(t),e===null&&ef(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Yh(r,i)?o=null:s!==null&&Yh(r,s)&&(t.flags|=32),_1(e,t),ot(e,t,o,n),t.child;case 6:return e===null&&ef(t),null;case 13:return E1(e,t,n);case 4:return zp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vs(t,null,r,n):ot(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tn(r,i),zv(e,t,r,i,n);case 7:return ot(e,t,t.pendingProps,n),t.child;case 8:return ot(e,t,t.pendingProps.children,n),t.child;case 12:return ot(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ae(tu,r._currentValue),r._currentValue=o,s!==null)if(hn(s.value,o)){if(s.children===i.children&&!_t.current){t=Yn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=zn(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),tf(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(A(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),tf(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ot(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ss(t,n),i=Kt(i),r=r(i),t.flags|=1,ot(e,t,r,n),t.child;case 14:return r=t.type,i=tn(r,t.pendingProps),i=tn(r.type,i),Wv(e,t,r,i,n);case 15:return v1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tn(r,i),Pa(e,t),t.tag=1,wt(r)?(e=!0,Xa(t)):e=!1,ss(t,n),Gw(t,r,i),rf(t,r,i,n),lf(null,t,r,!0,e,n);case 19:return C1(e,t,n);case 22:return y1(e,t,n)}throw Error(A(156,t.tag))};function j1(e,t){return cw(e,t)}function ZT(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,n,r){return new ZT(e,t,n,r)}function ig(e){return e=e.prototype,!(!e||!e.isReactComponent)}function eA(e){if(typeof e=="function")return ig(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sp)return 11;if(e===Ip)return 14}return 2}function Sr(e,t){var n=e.alternate;return n===null?(n=Wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ba(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")ig(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ui:return si(n.children,i,s,t);case Cp:o=8,i|=8;break;case Ah:return e=Wt(12,n,t,i|2),e.elementType=Ah,e.lanes=s,e;case Rh:return e=Wt(13,n,t,i),e.elementType=Rh,e.lanes=s,e;case Nh:return e=Wt(19,n,t,i),e.elementType=Nh,e.lanes=s,e;case K_:return fc(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H_:o=10;break e;case G_:o=9;break e;case Sp:o=11;break e;case Ip:o=14;break e;case sr:o=16,r=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=Wt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function si(e,t,n,r){return e=Wt(7,e,r,t),e.lanes=n,e}function fc(e,t,n,r){return e=Wt(22,e,r,t),e.elementType=K_,e.lanes=n,e.stateNode={isHidden:!1},e}function Ld(e,t,n){return e=Wt(6,e,null,t),e.lanes=n,e}function Md(e,t,n){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tA(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=md(0),this.expirationTimes=md(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=md(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sg(e,t,n,r,i,s,o,l,a){return e=new tA(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Wt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$p(s),e}function nA(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ji,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function U1(e){if(!e)return Pr;e=e._reactInternals;e:{if(Ii(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var n=e.type;if(wt(n))return jw(e,n,t)}return t}function V1(e,t,n,r,i,s,o,l,a){return e=sg(n,r,!0,e,i,s,o,l,a),e.context=U1(null),n=e.current,r=ct(),i=Cr(n),s=zn(r,i),s.callback=t??null,wr(n,s,i),e.current.lanes=i,Cl(e,i,r),Et(e,r),e}function pc(e,t,n,r){var i=t.current,s=ct(),o=Cr(i);return n=U1(n),t.context===null?t.context=n:t.pendingContext=n,t=zn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=wr(i,t,o),e!==null&&(cn(e,i,o,s),Ra(e,i,o)),o}function du(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ny(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function og(e,t){ny(e,t),(e=e.alternate)&&ny(e,t)}function rA(){return null}var B1=typeof reportError=="function"?reportError:function(e){console.error(e)};function lg(e){this._internalRoot=e}gc.prototype.render=lg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));pc(e,t,null,null)};gc.prototype.unmount=lg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fi(function(){pc(null,e,null,null)}),t[Kn]=null}};function gc(e){this._internalRoot=e}gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=vw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<lr.length&&t!==0&&t<lr[n].priority;n++);lr.splice(n,0,e),n===0&&_w(e)}};function ag(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ry(){}function iA(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=du(o);s.call(u)}}var o=V1(t,r,e,0,null,!1,!1,"",ry);return e._reactRootContainer=o,e[Kn]=o.current,Vo(e.nodeType===8?e.parentNode:e),fi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=du(a);l.call(u)}}var a=sg(e,0,!1,null,null,!1,!1,"",ry);return e._reactRootContainer=a,e[Kn]=a.current,Vo(e.nodeType===8?e.parentNode:e),fi(function(){pc(t,a,n,r)}),a}function vc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=du(o);l.call(a)}}pc(t,o,e,i)}else o=iA(n,t,e,i,r);return du(o)}gw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=lo(t.pendingLanes);n!==0&&(Ap(t,n|1),Et(t,Ce()),!(ee&6)&&(ws=Ce()+500,Ur()))}break;case 13:fi(function(){var r=qn(e,1);if(r!==null){var i=ct();cn(r,e,1,i)}}),og(e,1)}};Rp=function(e){if(e.tag===13){var t=qn(e,134217728);if(t!==null){var n=ct();cn(t,e,134217728,n)}og(e,134217728)}};mw=function(e){if(e.tag===13){var t=Cr(e),n=qn(e,t);if(n!==null){var r=ct();cn(n,e,t,r)}og(e,t)}};vw=function(){return re};yw=function(e,t){var n=re;try{return re=e,t()}finally{re=n}};Uh=function(e,t,n){switch(t){case"input":if(Oh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=lc(r);if(!i)throw Error(A(90));Y_(r),Oh(r,i)}}}break;case"textarea":J_(e,n);break;case"select":t=n.value,t!=null&&ts(e,!!n.multiple,t,!1)}};iw=tg;sw=fi;var sA={usingClientEntryPoint:!1,Events:[Il,zi,lc,nw,rw,tg]},Qs={findFiberByHostInstance:Qr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},oA={bundleType:Qs.bundleType,version:Qs.version,rendererPackageName:Qs.rendererPackageName,rendererConfig:Qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:er.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=aw(e),e===null?null:e.stateNode},findFiberByHostInstance:Qs.findFiberByHostInstance||rA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fa.isDisabled&&fa.supportsFiber)try{rc=fa.inject(oA),Sn=fa}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sA;jt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ag(t))throw Error(A(200));return nA(e,t,null,n)};jt.createRoot=function(e,t){if(!ag(e))throw Error(A(299));var n=!1,r="",i=B1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=sg(e,1,!1,null,null,n,!1,r,i),e[Kn]=t.current,Vo(e.nodeType===8?e.parentNode:e),new lg(t)};jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=aw(t),e=e===null?null:e.stateNode,e};jt.flushSync=function(e){return fi(e)};jt.hydrate=function(e,t,n){if(!mc(t))throw Error(A(200));return vc(null,e,t,!0,n)};jt.hydrateRoot=function(e,t,n){if(!ag(e))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=B1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=V1(t,null,e,1,n??null,i,!1,s,o),e[Kn]=t.current,Vo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new gc(t)};jt.render=function(e,t,n){if(!mc(t))throw Error(A(200));return vc(null,e,t,!1,n)};jt.unmountComponentAtNode=function(e){if(!mc(e))throw Error(A(40));return e._reactRootContainer?(fi(function(){vc(null,null,e,!1,function(){e._reactRootContainer=null,e[Kn]=null})}),!0):!1};jt.unstable_batchedUpdates=tg;jt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!mc(n))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return vc(e,t,n,!1,r)};jt.version="18.2.0-next-9e3b772b8-20220608";function $1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($1)}catch(e){console.error(e)}}$1(),V_.exports=jt;var z1=V_.exports;const lA=N_(z1);var iy=z1;kh.createRoot=iy.createRoot,kh.hydrateRoot=iy.hydrateRoot;const W1="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='-5.5%200%2026%2026'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xmlns:sketch='http://www.bohemiancoding.com/sketch/ns'%20fill='%23000000'%20stroke='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3echevron-right%3c/title%3e%3cdesc%3eCreated%20with%20Sketch%20Beta.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%20sketch:type='MSPage'%3e%3cg%20id='Icon-Set-Filled'%20sketch:type='MSLayerGroup'%20transform='translate(-474.000000,%20-1196.000000)'%20fill='%23ffffff'%3e%3cpath%20d='M488.404,1207.36%20L477.637,1197.6%20C476.806,1196.76%20475.459,1196.76%20474.629,1197.6%20C473.798,1198.43%20473.798,1199.77%20474.629,1200.6%20L483.885,1209%20L474.629,1217.4%20C473.798,1218.23%20473.798,1219.57%20474.629,1220.4%20C475.459,1221.24%20476.806,1221.24%20477.637,1220.4%20L488.404,1210.64%20C488.854,1210.19%20489.052,1209.59%20489.015,1209%20C489.052,1208.41%20488.854,1207.81%20488.404,1207.36'%20id='chevron-right'%20sketch:type='MSShapeGroup'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",H1="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='-5.5%200%2026%2026'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xmlns:sketch='http://www.bohemiancoding.com/sketch/ns'%3e%3ctitle%3echevron-right%3c/title%3e%3cdesc%3eCreated%20with%20Sketch%20Beta.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%20sketch:type='MSPage'%3e%3cg%20id='Icon-Set-Filled'%20sketch:type='MSLayerGroup'%20transform='translate(-474.000000,%20-1196.000000)'%20fill='%23000000'%3e%3cpath%20d='M488.404,1207.36%20L477.637,1197.6%20C476.806,1196.76%20475.459,1196.76%20474.629,1197.6%20C473.798,1198.43%20473.798,1199.77%20474.629,1200.6%20L483.885,1209%20L474.629,1217.4%20C473.798,1218.23%20473.798,1219.57%20474.629,1220.4%20C475.459,1221.24%20476.806,1221.24%20477.637,1220.4%20L488.404,1210.64%20C488.854,1210.19%20489.052,1209.59%20489.015,1209%20C489.052,1208.41%20488.854,1207.81%20488.404,1207.36'%20id='chevron-right'%20sketch:type='MSShapeGroup'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/svg%3e",aA="data:image/svg+xml,%3csvg%20width='84'%20height='80'%20viewBox='0%200%2084%2080'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20y='36.0624'%20width='51'%20height='11'%20transform='rotate(-45%200%2036.0624)'%20fill='%2306CBAD'/%3e%3crect%20x='75.4827'%20y='44.2609'%20width='51'%20height='11'%20transform='rotate(-135%2075.4827%2044.2609)'%20fill='%23866BFA'/%3e%3crect%20x='36.0625'%20y='79.8406'%20width='51'%20height='11'%20transform='rotate(-135%2036.0625%2079.8406)'%20fill='%23FD456B'/%3e%3crect%20x='79.8406'%20y='43.7782'%20width='51'%20height='11'%20transform='rotate(135%2079.8406%2043.7782)'%20fill='%23F5CC00'/%3e%3c/svg%3e",G1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFkAAABZCAYAAABVC4ivAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAcaSURBVHgB7Z1pjBRFFMf/KOKB4dogoqLrFQ8UlfVA8YjGKyofjBrFCMQjGq8Y7wOFRPCjkZhoPKLfNJpoEGMiKrpeRMTghTfKrByiAQ/QVVbB5f2p7c0wOzv1qqe6u3qmf8k/fKCmt/ptTdWrV+/VDkDY7Ck6TjRCNEY0UrSTaLPoL9EaUUfPv0tEf6PAynDR+aI5opWibgf9I2oXzRAdjYI+jBY9JloBN8P2p/9Fi0RXiHZAk7O36FGYr393QvpSdLVoAJqQG0S/IznjVup90SFoEvYQLUB6xi3Xv6Lb0eAcIVqFbAxcrkdEu6IBOV60HtkbONKboh3RQJwJs+KHYuBIr4qGIWHSWHEPE82H2Vi48qvodRgP4VOYqYabkIEwPvWBogmicaITRNvBnZdEl4i6kFO4yJXgNro2wYywi0TbQ89eMItaB9xH9CzkmOfg9rIfiU5DfewiukW0weHnciqbiBxyDdxGL0ehz+mrFWbXp+0D4x8jkCPY2bXQvRyDOqcjGQaJnobe0A8iR8yE7qW44zsRyfOUsj/8Ro1CDmBIkqPT9kKdorORHi9AZ+jnkQNuRJgreovoZ9j79YdodwQMA+ol2F9kKdzcM1+cAd0AuAcBQ/dL8xL1umlxoffyIuz9a0fAPAD7C3yIbJkI3QLYgkDhOZvtBaYhez6BvZ9XwhNx9vr9wdjEWEubdaJ5yJ5nFG3GwRO+jWwLHX4Ns3pnjWbK2h+e8GnkkYo2nyEMPofZCNXiYHja5vs08r6KNksQBjw8+NHShnHmIfCATyNrgt+rEA4/Wf5/MExEr258Gnmgos0mhMNvlv8f1KO68WlkzclCSGdqtkFBN24zPODTyH8q2oxGONjiE13wdCTl08i2OY4cgDBg3GQ/SxueJW6AB3wauaRoE0oi4D4w54+1oPcR3EjmyfJ/ljaHwkTqsuZU2OfkL+AJ39PFSksbBvRDOLA8T9FmGQKFGZq2wMuzyJZWmJw4Wz8nIFCYK6EJI3qLC8TgXtj7yFGs8fszgbukjbC/hCYKlgT0KDph798TCJyHoRvN5yB95sHeNya6HInAYX4ajWh7GR5qjkF63AHd0dg7yAk8Vte80GKkkFUpTIK+ZCLNNIW6YCZnt1IMfw5HckyGPi96EXIG8yq0hv4WJkjuE3oHzAHRTF0Ut9AHIWfwpOR76A3NWMHN8BOpY4xEs8iVawZyyjEwW22Xl+UvhiVhcQLmPMh9CO4la5wmcl2Cdi10O6xKcZv+pOhimATvajAswKATR+GCmD9neY3n54r74P7ylVot+hjGxfoAZh7vqvOZrIA9HA3EbNRvaJ9i/nSW2/vEuAthGLiEFA3sM9Rpg7s7ulUhVBnRb2bh5mA0CCySZIFOnEUpaXGevxVhnT06wVWf2+sQiyQr9QtMYVCwmZyVcIv8OMzpdejGrRTduSkI3GeeinjFiiGJ3zwWa6YZIVTBBW0u8jE1aMXT6inwgI+vBZ15zr0+Luyg5/EDTAiUGaAsYOQpOBcoxp8Z32DAh14RU6gYH2FJGOsGW3r6wK38eOiyTG3Q2Nym34kMU8xY6LIO9Y0Ybgp4msKCSW5vfZytMe7RJrpK9Bp0R2K1xCL6JMOx/cJ0f815WTXxc3TrTkI6B5a8QIRBp6+A2IbmopiaoTnFXId4HeWonYWMRkUPJ8OEQV2jg1QHdHnYdXN9jA7y68rKqN0QDixzY6DJ1dDfIeFiyskxOvUyzHFUiDDxkHfHMazq8k5M4UrExeNC4nLFGEc7p5WdET6tML6xi6Ffgack8QhWNq126AAXiTbkC3ok0+Fm6DnwiMtvmYWIIc29rlwKfUiAm69J8MBM6A3cDk8VQxnDZEPt4s5Fva4oHrOBNHdXUHT6G+k+TOYwaxfEuaiD+cof8g1yFCZ0gN6UdkSfixhcpnw4F8SGOO3tBwb1NXYowfFqSiaYaBNTssjOTBNOgdqF/zY4MFX50NloDhgG0Fytw2CZ6lJsOtiaUdyBbGMQaTMNuoE33efDLkdzwcHHGxg1a5Q1n+9dxYPeQ3NeX34KdKc/F9R6SJvyIbHclQaBAXybfWreTnO/4gFL0dycBbuN6FtXDYfyhGKZ4gE3oaAEu53urvbBoxQfZBJII8Qm6kWzQemdMspz4Y6FnYXwVDmfcxhu2Ghpw5vJ+7i4ml3NhSggPFF5G3Z7bd0NRyOZ7pjtil1+6A0UEJZLLFa023pPXmRk/nkgW3CDl/evR0HEW4o2XOd6jawpc12IgnK4abNlFTGvpNfI42GnMPK28DDDtmdgCHhYZGRNoWIotxOGhObikbGRkTUXMK1AQSVrFG1GRUbWXN9VLHp9Wa5oMyQysq1AJfpzFgXbormmrSUysu2Gq7UoqIbGLkMjI9vSjTpRUA3NFDq0fMdXCy93VjYgmsGXh1zA/LMFVZZvx993EP4AAAAASUVORK5CYII=",sy="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20stroke='%23ffff'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6%203C4.34315%203%203%204.34315%203%206V18C3%2019.6569%204.34315%2021%206%2021H17C17.5523%2021%2018%2020.5523%2018%2020C18%2019.4477%2017.5523%2019%2017%2019H6C5.44772%2019%205%2018.5523%205%2018V6C5%205.44772%205.44772%205%206%205H17C17.5523%205%2018%204.55228%2018%204C18%203.44772%2017.5523%203%2017%203H6ZM15.7071%207.29289C15.3166%206.90237%2014.6834%206.90237%2014.2929%207.29289C13.9024%207.68342%2013.9024%208.31658%2014.2929%208.70711L16.5858%2011H8C7.44772%2011%207%2011.4477%207%2012C7%2012.5523%207.44772%2013%208%2013H16.5858L14.2929%2015.2929C13.9024%2015.6834%2013.9024%2016.3166%2014.2929%2016.7071C14.6834%2017.0976%2015.3166%2017.0976%2015.7071%2016.7071L19.7071%2012.7071C20.0976%2012.3166%2020.0976%2011.6834%2019.7071%2011.2929L15.7071%207.29289Z'%20fill='%23ffff'/%3e%3c/g%3e%3c/svg%3e",oy="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6%203C4.34315%203%203%204.34315%203%206V18C3%2019.6569%204.34315%2021%206%2021H17C17.5523%2021%2018%2020.5523%2018%2020C18%2019.4477%2017.5523%2019%2017%2019H6C5.44772%2019%205%2018.5523%205%2018V6C5%205.44772%205.44772%205%206%205H17C17.5523%205%2018%204.55228%2018%204C18%203.44772%2017.5523%203%2017%203H6ZM15.7071%207.29289C15.3166%206.90237%2014.6834%206.90237%2014.2929%207.29289C13.9024%207.68342%2013.9024%208.31658%2014.2929%208.70711L16.5858%2011H8C7.44772%2011%207%2011.4477%207%2012C7%2012.5523%207.44772%2013%208%2013H16.5858L14.2929%2015.2929C13.9024%2015.6834%2013.9024%2016.3166%2014.2929%2016.7071C14.6834%2017.0976%2015.3166%2017.0976%2015.7071%2016.7071L19.7071%2012.7071C20.0976%2012.3166%2020.0976%2011.6834%2019.7071%2011.2929L15.7071%207.29289Z'%20fill='%23000000'/%3e%3c/svg%3e";/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yo.apply(this,arguments)}var pr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(pr||(pr={}));const ly="popstate";function uA(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:l}=r.location;return _f("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:hu(i)}return dA(t,n,null,e)}function Ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function K1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function cA(){return Math.random().toString(36).substr(2,8)}function ay(e,t){return{usr:e.state,key:e.key,idx:t}}function _f(e,t,n,r){return n===void 0&&(n=null),Yo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ds(t):t,{state:n,key:t&&t.key||r||cA()})}function hu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ds(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function dA(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=pr.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(Yo({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){l=pr.Pop;let C=c(),m=C==null?null:C-u;u=C,a&&a({action:l,location:w.location,delta:m})}function h(C,m){l=pr.Push;let f=_f(w.location,C,m);n&&n(f,C),u=c()+1;let v=ay(f,u),E=w.createHref(f);try{o.pushState(v,"",E)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(E)}s&&a&&a({action:l,location:w.location,delta:1})}function p(C,m){l=pr.Replace;let f=_f(w.location,C,m);n&&n(f,C),u=c();let v=ay(f,u),E=w.createHref(f);o.replaceState(v,"",E),s&&a&&a({action:l,location:w.location,delta:0})}function y(C){let m=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof C=="string"?C:hu(C);return f=f.replace(/ $/,"%20"),Ae(m,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,m)}let w={get action(){return l},get location(){return e(i,o)},listen(C){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(ly,d),a=C,()=>{i.removeEventListener(ly,d),a=null}},createHref(C){return t(i,C)},createURL:y,encodeLocation(C){let m=y(C);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:p,go(C){return o.go(C)}};return w}var uy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(uy||(uy={}));function hA(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Ds(t):t,i=ug(r.pathname||"/",n);if(i==null)return null;let s=q1(e);fA(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let a=kA(i);o=CA(s[l],a)}return o}function q1(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(Ae(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=Ir([r,a.relativePath]),c=n.concat(a);s.children&&s.children.length>0&&(Ae(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),q1(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:wA(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of Y1(s.path))i(s,o,a)}),t}function Y1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Y1(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function fA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:EA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pA=/^:[\w-]+$/,gA=3,mA=2,vA=1,yA=10,_A=-2,cy=e=>e==="*";function wA(e,t){let n=e.split("/"),r=n.length;return n.some(cy)&&(r+=_A),t&&(r+=mA),n.filter(i=>!cy(i)).reduce((i,s)=>i+(pA.test(s)?gA:s===""?vA:yA),r)}function EA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function CA(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],a=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=SA({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},u);if(!c)return null;Object.assign(r,c.params);let d=l.route;s.push({params:r,pathname:Ir([i,c.pathname]),pathnameBase:NA(Ir([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Ir([i,c.pathnameBase]))}return s}function SA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=IA(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let w=l[d]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[d];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function IA(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),K1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function kA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return K1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ug(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function TA(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ds(e):e;return{pathname:n?n.startsWith("/")?n:AA(n,t):t,search:xA(r),hash:PA(i)}}function AA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Fd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RA(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Q1(e,t){let n=RA(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function J1(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ds(e):(i=Yo({},e),Ae(!i.pathname||!i.pathname.includes("?"),Fd("?","pathname","search",i)),Ae(!i.pathname||!i.pathname.includes("#"),Fd("#","pathname","hash",i)),Ae(!i.search||!i.search.includes("#"),Fd("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}l=d>=0?t[d]:"/"}let a=TA(i,l),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const Ir=e=>e.join("/").replace(/\/\/+/g,"/"),NA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,PA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function OA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const X1=["post","put","patch","delete"];new Set(X1);const DA=["get",...X1];new Set(DA);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qo.apply(this,arguments)}const cg=T.createContext(null),bA=T.createContext(null),ki=T.createContext(null),yc=T.createContext(null),Ti=T.createContext({outlet:null,matches:[],isDataRoute:!1}),Z1=T.createContext(null);function LA(e,t){let{relative:n}=t===void 0?{}:t;Tl()||Ae(!1);let{basename:r,navigator:i}=T.useContext(ki),{hash:s,pathname:o,search:l}=tE(e,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:Ir([r,o])),i.createHref({pathname:a,search:l,hash:s})}function Tl(){return T.useContext(yc)!=null}function _c(){return Tl()||Ae(!1),T.useContext(yc).location}function eE(e){T.useContext(ki).static||T.useLayoutEffect(e)}function dg(){let{isDataRoute:e}=T.useContext(Ti);return e?qA():MA()}function MA(){Tl()||Ae(!1);let e=T.useContext(cg),{basename:t,future:n,navigator:r}=T.useContext(ki),{matches:i}=T.useContext(Ti),{pathname:s}=_c(),o=JSON.stringify(Q1(i,n.v7_relativeSplatPath)),l=T.useRef(!1);return eE(()=>{l.current=!0}),T.useCallback(function(u,c){if(c===void 0&&(c={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let d=J1(u,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ir([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,o,s,e])}function tE(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=T.useContext(ki),{matches:i}=T.useContext(Ti),{pathname:s}=_c(),o=JSON.stringify(Q1(i,r.v7_relativeSplatPath));return T.useMemo(()=>J1(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function FA(e,t){return jA(e,t)}function jA(e,t,n,r){Tl()||Ae(!1);let{navigator:i}=T.useContext(ki),{matches:s}=T.useContext(Ti),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let u=_c(),c;if(t){var d;let C=typeof t=="string"?Ds(t):t;a==="/"||(d=C.pathname)!=null&&d.startsWith(a)||Ae(!1),c=C}else c=u;let h=c.pathname||"/",p=h;if(a!=="/"){let C=a.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(C.length).join("/")}let y=hA(e,{pathname:p}),w=zA(y&&y.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:Ir([a,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?a:Ir([a,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return t&&w?T.createElement(yc.Provider,{value:{location:Qo({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:pr.Pop}},w):w}function UA(){let e=KA(),t=OA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:i},n):null,null)}const VA=T.createElement(UA,null);class BA extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?T.createElement(Ti.Provider,{value:this.props.routeContext},T.createElement(Z1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $A(e){let{routeContext:t,match:n,children:r}=e,i=T.useContext(cg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Ti.Provider,{value:t},r)}function zA(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let c=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id]));c>=0||Ae(!1),o=o.slice(0,Math.min(o.length,c+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:p}=n,y=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||y){a=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let p,y=!1,w=null,C=null;n&&(p=l&&d.route.id?l[d.route.id]:void 0,w=d.route.errorElement||VA,a&&(u<0&&h===0?(YA("route-fallback",!1),y=!0,C=null):u===h&&(y=!0,C=d.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,h+1)),f=()=>{let v;return p?v=w:y?v=C:d.route.Component?v=T.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=c,T.createElement($A,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?T.createElement(BA,{location:n.location,revalidation:n.revalidation,component:w,error:p,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}var nE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(nE||{}),fu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fu||{});function WA(e){let t=T.useContext(cg);return t||Ae(!1),t}function HA(e){let t=T.useContext(bA);return t||Ae(!1),t}function GA(e){let t=T.useContext(Ti);return t||Ae(!1),t}function rE(e){let t=GA(),n=t.matches[t.matches.length-1];return n.route.id||Ae(!1),n.route.id}function KA(){var e;let t=T.useContext(Z1),n=HA(fu.UseRouteError),r=rE(fu.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function qA(){let{router:e}=WA(nE.UseNavigateStable),t=rE(fu.UseNavigateStable),n=T.useRef(!1);return eE(()=>{n.current=!0}),T.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Qo({fromRouteId:t},s)))},[e,t])}const dy={};function YA(e,t,n){!t&&!dy[e]&&(dy[e]=!0)}function uo(e){Ae(!1)}function QA(e){let{basename:t="/",children:n=null,location:r,navigationType:i=pr.Pop,navigator:s,static:o=!1,future:l}=e;Tl()&&Ae(!1);let a=t.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:a,navigator:s,static:o,future:Qo({v7_relativeSplatPath:!1},l)}),[a,l,s,o]);typeof r=="string"&&(r=Ds(r));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:y="default"}=r,w=T.useMemo(()=>{let C=ug(c,a);return C==null?null:{location:{pathname:C,search:d,hash:h,state:p,key:y},navigationType:i}},[a,c,d,h,p,y,i]);return w==null?null:T.createElement(ki.Provider,{value:u},T.createElement(yc.Provider,{children:n,value:w}))}function JA(e){let{children:t,location:n}=e;return FA(wf(t),n)}new Promise(()=>{});function wf(e,t){t===void 0&&(t=[]);let n=[];return T.Children.forEach(e,(r,i)=>{if(!T.isValidElement(r))return;let s=[...t,i];if(r.type===T.Fragment){n.push.apply(n,wf(r.props.children,s));return}r.type!==uo&&Ae(!1),!r.props.index||!r.props.children||Ae(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=wf(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ef(){return Ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ef.apply(this,arguments)}function XA(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function ZA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function eR(e,t){return e.button===0&&(!t||t==="_self")&&!ZA(e)}const tR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],nR="6";try{window.__reactRouterVersion=nR}catch{}const rR="startTransition",hy=Ih[rR];function iR(e){let{basename:t,children:n,future:r,window:i}=e,s=T.useRef();s.current==null&&(s.current=uA({window:i,v5Compat:!0}));let o=s.current,[l,a]=T.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=T.useCallback(d=>{u&&hy?hy(()=>a(d)):a(d)},[a,u]);return T.useLayoutEffect(()=>o.listen(c),[o,c]),T.createElement(QA,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const sR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iE=T.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:a,to:u,preventScrollReset:c,unstable_viewTransition:d}=t,h=XA(t,tR),{basename:p}=T.useContext(ki),y,w=!1;if(typeof u=="string"&&oR.test(u)&&(y=u,sR))try{let v=new URL(window.location.href),E=u.startsWith("//")?new URL(v.protocol+u):new URL(u),k=ug(E.pathname,p);E.origin===v.origin&&k!=null?u=k+E.search+E.hash:w=!0}catch{}let C=LA(u,{relative:i}),m=lR(u,{replace:o,state:l,target:a,preventScrollReset:c,relative:i,unstable_viewTransition:d});function f(v){r&&r(v),v.defaultPrevented||m(v)}return T.createElement("a",Ef({},h,{href:y||C,onClick:w||s?r:f,ref:n,target:a}))});var fy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fy||(fy={}));var py;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(py||(py={}));function lR(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=t===void 0?{}:t,a=dg(),u=_c(),c=tE(e,{relative:o});return T.useCallback(d=>{if(eR(d,n)){d.preventDefault();let h=r!==void 0?r:hu(u)===hu(c);a(e,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[u,a,c,r,i,n,e,s,o,l])}var gy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P=function(e,t){if(!e)throw bs(t)},bs=function(e){return new Error("Firebase Database ("+sE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},aR=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],l=e[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},hg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,l=o?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,c=s>>2,d=(s&3)<<4|l>>4;let h=(l&15)<<2|u>>6,p=u&63;a||(p=64,o||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(oE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):aR(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||u==null||d==null)throw new uR;const h=s<<2|l>>4;if(r.push(h),u!==64){const p=l<<4&240|u>>2;if(r.push(p),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class uR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lE=function(e){const t=oE(e);return hg.encodeByteArray(t,!0)},pu=function(e){return lE(e).replace(/\./g,"")},gu=function(e){try{return hg.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(e){return aE(void 0,e)}function aE(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!dR(n)||(e[n]=aE(e[n],t[n]));return e}function dR(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=()=>hR().__FIREBASE_DEFAULTS__,pR=()=>{if(typeof process>"u"||typeof gy>"u")return;const e=gy.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},gR=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&gu(e[1]);return t&&JSON.parse(t)},fg=()=>{try{return fR()||pR()||gR()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},uE=e=>{var t,n;return(n=(t=fg())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},mR=e=>{const t=uE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},cE=()=>{var e;return(e=fg())===null||e===void 0?void 0:e.config},dE=e=>{var t;return(t=fg())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[pu(JSON.stringify(n)),pu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function hE(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function fE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yR(){const e=it();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function pE(){return sE.NODE_ADMIN===!0}function gE(){try{return typeof indexedDB=="object"}catch{return!1}}function mE(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function _R(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="FirebaseError";class pn extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=wR,Object.setPrototypeOf(this,pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ai.prototype.create)}}class Ai{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?ER(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new pn(i,l,r)}}function ER(e,t){return e.replace(CR,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const CR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(e){return JSON.parse(e)}function Pe(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Jo(gu(s[0])||""),n=Jo(gu(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},SR=function(e){const t=vE(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},IR=function(e){const t=vE(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Es(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Cf(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function mu(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Xo(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(my(s)&&my(o)){if(!Xo(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function my(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function co(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function ho(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=l^s&(o^l),c=1518500249):(u=s^o^l,c=1859775393):d<60?(u=s&o|l&(s|o),c=2400959708):(u=s^o^l,c=3395469782);const h=(i<<5|i>>>27)+u+a+c+r[d]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function TR(e,t){const n=new AR(e,t);return n.subscribe.bind(n)}class AR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");RR(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=jd),i.error===void 0&&(i.error=jd),i.complete===void 0&&(i.complete=jd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RR(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function jd(){}function wc(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,P(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Ec=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=1e3,PR=2,OR=4*60*60*1e3,DR=.5;function vy(e,t=xR,n=PR){const r=t*Math.pow(n,e),i=Math.round(DR*r*(Math.random()-.5)*2);return Math.min(OR,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(e){return e&&e._delegate?e._delegate:e}class Yt{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bR=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Al;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(MR(t))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Gr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gr){return this.instances.has(t)}getOptions(t=Gr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LR(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Gr){return this.component?this.component.multipleInstances?t:Gr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function LR(e){return e===Gr?void 0:e}function MR(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new bR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ne||(ne={}));const jR={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},UR=ne.INFO,VR={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},BR=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=VR[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rl{constructor(t){this.name=t,this._logLevel=UR,this._logHandler=BR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?jR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...t),this._logHandler(this,ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...t),this._logHandler(this,ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...t),this._logHandler(this,ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...t),this._logHandler(this,ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...t),this._logHandler(this,ne.ERROR,...t)}}const $R=(e,t)=>t.some(n=>e instanceof n);let yy,_y;function zR(){return yy||(yy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WR(){return _y||(_y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yE=new WeakMap,Sf=new WeakMap,_E=new WeakMap,Ud=new WeakMap,gg=new WeakMap;function HR(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(kr(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&yE.set(n,e)}).catch(()=>{}),gg.set(t,e),t}function GR(e){if(Sf.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Sf.set(e,t)}let If={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Sf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||_E.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function KR(e){If=e(If)}function qR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Vd(this),t,...n);return _E.set(r,t.sort?t.sort():[t]),kr(r)}:WR().includes(e)?function(...t){return e.apply(Vd(this),t),kr(yE.get(this))}:function(...t){return kr(e.apply(Vd(this),t))}}function YR(e){return typeof e=="function"?qR(e):(e instanceof IDBTransaction&&GR(e),$R(e,zR())?new Proxy(e,If):e)}function kr(e){if(e instanceof IDBRequest)return HR(e);if(Ud.has(e))return Ud.get(e);const t=YR(e);return t!==e&&(Ud.set(e,t),gg.set(t,e)),t}const Vd=e=>gg.get(e);function QR(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=kr(o);return r&&o.addEventListener("upgradeneeded",a=>{r(kr(o.result),a.oldVersion,a.newVersion,kr(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const JR=["get","getKey","getAll","getAllKeys","count"],XR=["put","add","delete","clear"],Bd=new Map;function wy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Bd.get(t))return Bd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=XR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JR.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return Bd.set(t,s),s}KR(e=>({...e,get:(t,n,r)=>wy(t,n)||e.get(t,n,r),has:(t,n)=>!!wy(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eN(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const kf="@firebase/app",Ey="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new Rl("@firebase/app"),tN="@firebase/app-compat",nN="@firebase/analytics-compat",rN="@firebase/analytics",iN="@firebase/app-check-compat",sN="@firebase/app-check",oN="@firebase/auth",lN="@firebase/auth-compat",aN="@firebase/database",uN="@firebase/database-compat",cN="@firebase/functions",dN="@firebase/functions-compat",hN="@firebase/installations",fN="@firebase/installations-compat",pN="@firebase/messaging",gN="@firebase/messaging-compat",mN="@firebase/performance",vN="@firebase/performance-compat",yN="@firebase/remote-config",_N="@firebase/remote-config-compat",wN="@firebase/storage",EN="@firebase/storage-compat",CN="@firebase/firestore",SN="@firebase/firestore-compat",IN="firebase",kN="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="[DEFAULT]",TN={[kf]:"fire-core",[tN]:"fire-core-compat",[rN]:"fire-analytics",[nN]:"fire-analytics-compat",[sN]:"fire-app-check",[iN]:"fire-app-check-compat",[oN]:"fire-auth",[lN]:"fire-auth-compat",[aN]:"fire-rtdb",[uN]:"fire-rtdb-compat",[cN]:"fire-fn",[dN]:"fire-fn-compat",[hN]:"fire-iid",[fN]:"fire-iid-compat",[pN]:"fire-fcm",[gN]:"fire-fcm-compat",[mN]:"fire-perf",[vN]:"fire-perf-compat",[yN]:"fire-rc",[_N]:"fire-rc-compat",[wN]:"fire-gcs",[EN]:"fire-gcs-compat",[CN]:"fire-fst",[SN]:"fire-fst-compat","fire-js":"fire-js",[IN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=new Map,Af=new Map;function AN(e,t){try{e.container.addComponent(t)}catch(n){pi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function fn(e){const t=e.name;if(Af.has(t))return pi.debug(`There were multiple attempts to register component ${t}.`),!1;Af.set(t,e);for(const n of vu.values())AN(n,e);return!0}function Ri(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Tr=new Ai("app","Firebase",RN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=kN;function wE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Tf,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Tr.create("bad-app-name",{appName:String(i)});if(n||(n=cE()),!n)throw Tr.create("no-options");const s=vu.get(i);if(s){if(Xo(n,s.options)&&Xo(r,s.config))return s;throw Tr.create("duplicate-app",{appName:i})}const o=new FR(i);for(const a of Af.values())o.addComponent(a);const l=new NN(n,r,o);return vu.set(i,l),l}function mg(e=Tf){const t=vu.get(e);if(!t&&e===Tf&&cE())return wE();if(!t)throw Tr.create("no-app",{appName:e});return t}function Ct(e,t,n){var r;let i=(r=TN[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pi.warn(l.join(" "));return}fn(new Yt(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="firebase-heartbeat-database",PN=1,Zo="firebase-heartbeat-store";let $d=null;function EE(){return $d||($d=QR(xN,PN,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Zo)}}}).catch(e=>{throw Tr.create("idb-open",{originalErrorMessage:e.message})})),$d}async function ON(e){try{return await(await EE()).transaction(Zo).objectStore(Zo).get(CE(e))}catch(t){if(t instanceof pn)pi.warn(t.message);else{const n=Tr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});pi.warn(n.message)}}}async function Cy(e,t){try{const r=(await EE()).transaction(Zo,"readwrite");await r.objectStore(Zo).put(t,CE(e)),await r.done}catch(n){if(n instanceof pn)pi.warn(n.message);else{const r=Tr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pi.warn(r.message)}}}function CE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=1024,bN=30*24*60*60*1e3;class LN{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Sy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=bN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sy(),{heartbeatsToSend:r,unsentEntries:i}=MN(this._heartbeatsCache.heartbeats),s=pu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Sy(){return new Date().toISOString().substring(0,10)}function MN(e,t=DN){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Iy(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Iy(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gE()?mE().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await ON(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Iy(e){return pu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(e){fn(new Yt("platform-logger",t=>new ZR(t),"PRIVATE")),fn(new Yt("heartbeat",t=>new LN(t),"PRIVATE")),Ct(kf,Ey,e),Ct(kf,Ey,"esm2017"),Ct("fire-js","")}jN("");var UN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D,vg=vg||{},H=UN||self;function Cc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Nl(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function VN(e){return Object.prototype.hasOwnProperty.call(e,zd)&&e[zd]||(e[zd]=++BN)}var zd="closure_uid_"+(1e9*Math.random()>>>0),BN=0;function $N(e,t,n){return e.call.apply(e.bind,arguments)}function zN(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function tt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?tt=$N:tt=zN,tt.apply(null,arguments)}function pa(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Ve(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return t.prototype[i].apply(r,o)}}function Vr(){this.s=this.s,this.o=this.o}var WN=0;Vr.prototype.s=!1;Vr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),WN!=0)&&VN(this)};Vr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const SE=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function yg(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function ky(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Cc(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function nt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var HN=function(){if(!H.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{H.addEventListener("test",()=>{},t),H.removeEventListener("test",()=>{},t)}catch{}return e}();function el(e){return/^[\s\xa0]*$/.test(e)}function Sc(){var e=H.navigator;return e&&(e=e.userAgent)?e:""}function _n(e){return Sc().indexOf(e)!=-1}function _g(e){return _g[" "](e),e}_g[" "]=function(){};function GN(e,t){var n=Ux;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var KN=_n("Opera"),tl=_n("Trident")||_n("MSIE"),IE=_n("Edge"),Rf=IE||tl,kE=_n("Gecko")&&!(Sc().toLowerCase().indexOf("webkit")!=-1&&!_n("Edge"))&&!(_n("Trident")||_n("MSIE"))&&!_n("Edge"),qN=Sc().toLowerCase().indexOf("webkit")!=-1&&!_n("Edge");function TE(){var e=H.document;return e?e.documentMode:void 0}e:{var Ty="",Wd=function(){var e=Sc();if(kE)return/rv:([^\);]+)(\)|;)/.exec(e);if(IE)return/Edge\/([\d\.]+)/.exec(e);if(tl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(qN)return/WebKit\/(\S+)/.exec(e);if(KN)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Wd&&(Ty=Wd?Wd[1]:""),tl){var Ay=TE();if(Ay!=null&&Ay>parseFloat(Ty))break e}}H.document&&tl&&TE();function nl(e,t){if(nt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(kE){e:{try{_g(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:YN[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&nl.$.h.call(this)}}Ve(nl,nt);var YN={2:"touch",3:"pen",4:"mouse"};nl.prototype.h=function(){nl.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var xl="closure_listenable_"+(1e6*Math.random()|0),QN=0;function JN(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++QN,this.fa=this.ia=!1}function Ic(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function wg(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function XN(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function AE(e){const t={};for(const n in e)t[n]=e[n];return t}const Ry="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function RE(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<Ry.length;s++)n=Ry[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function kc(e){this.src=e,this.g={},this.h=0}kc.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=xf(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new JN(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function Nf(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=SE(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ic(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function xf(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var Eg="closure_lm_"+(1e6*Math.random()|0),Hd={};function NE(e,t,n,r,i){if(r&&r.once)return PE(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)NE(e,t[s],n,r,i);return null}return n=Ig(n),e&&e[xl]?e.O(t,n,Nl(r)?!!r.capture:!!r,i):xE(e,t,n,!1,r,i)}function xE(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Nl(i)?!!i.capture:!!i,l=Sg(e);if(l||(e[Eg]=l=new kc(e)),n=l.add(t,n,r,o,s),n.proxy)return n;if(r=ZN(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)HN||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(DE(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ZN(){function e(n){return t.call(e.src,e.listener,n)}const t=ex;return e}function PE(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)PE(e,t[s],n,r,i);return null}return n=Ig(n),e&&e[xl]?e.P(t,n,Nl(r)?!!r.capture:!!r,i):xE(e,t,n,!0,r,i)}function OE(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)OE(e,t[s],n,r,i);else r=Nl(r)?!!r.capture:!!r,n=Ig(n),e&&e[xl]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=xf(s,n,r,i),-1<n&&(Ic(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Sg(e))&&(t=e.g[t.toString()],e=-1,t&&(e=xf(t,n,r,i)),(n=-1<e?t[e]:null)&&Cg(n))}function Cg(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[xl])Nf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(DE(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Sg(t))?(Nf(n,e),n.h==0&&(n.src=null,t[Eg]=null)):Ic(e)}}}function DE(e){return e in Hd?Hd[e]:Hd[e]="on"+e}function ex(e,t){if(e.fa)e=!0;else{t=new nl(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Cg(e),e=n.call(r,t)}return e}function Sg(e){return e=e[Eg],e instanceof kc?e:null}var Gd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ig(e){return typeof e=="function"?e:(e[Gd]||(e[Gd]=function(t){return e.handleEvent(t)}),e[Gd])}function Ue(){Vr.call(this),this.i=new kc(this),this.S=this,this.J=null}Ve(Ue,Vr);Ue.prototype[xl]=!0;Ue.prototype.removeEventListener=function(e,t,n,r){OE(this,e,t,n,r)};function Ge(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new nt(t,e);else if(t instanceof nt)t.target=t.target||e;else{var i=t;t=new nt(r,e),RE(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ga(o,r,!0,t)&&i}if(o=t.g=e,i=ga(o,r,!0,t)&&i,i=ga(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=ga(o,r,!1,t)&&i}Ue.prototype.N=function(){if(Ue.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Ic(n[r]);delete e.g[t],e.h--}}this.J=null};Ue.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Ue.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function ga(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var l=o.listener,a=o.la||o.src;o.ia&&Nf(e.i,o),i=l.call(a,r)!==!1&&i}}return i&&!r.defaultPrevented}var kg=H.JSON.stringify;class tx{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function nx(){var e=Tg;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class rx{constructor(){this.h=this.g=null}add(t,n){const r=bE.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var bE=new tx(()=>new ix,e=>e.reset());class ix{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function sx(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ox(e){H.setTimeout(()=>{throw e},0)}let rl,il=!1,Tg=new rx,LE=()=>{const e=H.Promise.resolve(void 0);rl=()=>{e.then(lx)}};var lx=()=>{for(var e;e=nx();){try{e.h.call(e.g)}catch(n){ox(n)}var t=bE;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}il=!1};function Tc(e,t){Ue.call(this),this.h=e||1,this.g=t||H,this.j=tt(this.qb,this),this.l=Date.now()}Ve(Tc,Ue);D=Tc.prototype;D.ga=!1;D.T=null;D.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ge(this,"tick"),this.ga&&(Ag(this),this.start()))}};D.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ag(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}D.N=function(){Tc.$.N.call(this),Ag(this),delete this.g};function Rg(e,t,n){if(typeof e=="function")n&&(e=tt(e,n));else if(e&&typeof e.handleEvent=="function")e=tt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:H.setTimeout(e,t||0)}function ME(e){e.g=Rg(()=>{e.g=null,e.i&&(e.i=!1,ME(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class ax extends Vr{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:ME(this)}N(){super.N(),this.g&&(H.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sl(e){Vr.call(this),this.h=e,this.g={}}Ve(sl,Vr);var Ny=[];function FE(e,t,n,r){Array.isArray(n)||(n&&(Ny[0]=n.toString()),n=Ny);for(var i=0;i<n.length;i++){var s=NE(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function jE(e){wg(e.g,function(t,n){this.g.hasOwnProperty(n)&&Cg(t)},e),e.g={}}sl.prototype.N=function(){sl.$.N.call(this),jE(this)};sl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ac(){this.g=!0}Ac.prototype.Ea=function(){this.g=!1};function ux(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",l=s.split("&"),a=0;a<l.length;a++){var u=l[a].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function cx(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function Qi(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+hx(e,n)+(r?" "+r:"")})}function dx(e,t){e.info(function(){return"TIMEOUT: "+t})}Ac.prototype.info=function(){};function hx(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return kg(n)}catch{return t}}var Ms={},xy=null;function Ng(){return xy=xy||new Ue}Ms.Ta="serverreachability";function UE(e){nt.call(this,Ms.Ta,e)}Ve(UE,nt);function ol(e){const t=Ng();Ge(t,new UE(t))}Ms.STAT_EVENT="statevent";function VE(e,t){nt.call(this,Ms.STAT_EVENT,e),this.stat=t}Ve(VE,nt);function at(e){const t=Ng();Ge(t,new VE(t,e))}Ms.Ua="timingevent";function BE(e,t){nt.call(this,Ms.Ua,e),this.size=t}Ve(BE,nt);function Pl(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return H.setTimeout(function(){e()},t)}var xg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},fx={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Pg(){}Pg.prototype.h=null;function Py(e){return e.h||(e.h=e.i())}function px(){}var Ol={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Og(){nt.call(this,"d")}Ve(Og,nt);function Dg(){nt.call(this,"c")}Ve(Dg,nt);var Pf;function Rc(){}Ve(Rc,Pg);Rc.prototype.g=function(){return new XMLHttpRequest};Rc.prototype.i=function(){return{}};Pf=new Rc;function Dl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new sl(this),this.P=gx,e=Rf?125:void 0,this.V=new Tc(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new $E}function $E(){this.i=null,this.g="",this.h=!1}var gx=45e3,Of={},yu={};D=Dl.prototype;D.setTimeout=function(e){this.P=e};function Df(e,t,n){e.L=1,e.v=xc(Qn(t)),e.s=n,e.S=!0,zE(e,null)}function zE(e,t){e.G=Date.now(),bl(e),e.A=Qn(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),JE(n.i,"t",r),e.C=0,n=e.l.J,e.h=new $E,e.g=yC(e.l,n?t:null,!e.s),0<e.O&&(e.M=new ax(tt(e.Pa,e,e.g),e.O)),FE(e.U,e.g,"readystatechange",e.nb),t=e.I?AE(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ol(),ux(e.j,e.u,e.A,e.m,e.W,e.s)}D.nb=function(e){e=e.target;const t=this.M;t&&wn(e)==3?t.l():this.Pa(e)};D.Pa=function(e){try{if(e==this.g)e:{const c=wn(this.g);var t=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Rf||this.g&&(this.h.h||this.g.ja()||Ly(this.g)))){this.J||c!=4||t==7||(t==8||0>=d?ol(3):ol(2)),Nc(this);var n=this.g.da();this.ca=n;t:if(WE(this)){var r=Ly(this.g);e="";var i=r.length,s=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zr(this),ko(this);var o="";break t}this.h.i=new H.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,cx(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,a=this.g;if((l=a.g?a.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!el(l)){var u=l;break t}}u=null}if(n=u)Qi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bf(this,n);else{this.i=!1,this.o=3,at(12),Zr(this),ko(this);break e}}this.S?(HE(this,c,o),Rf&&this.i&&c==3&&(FE(this.U,this.V,"tick",this.mb),this.V.start())):(Qi(this.j,this.m,o,null),bf(this,o)),c==4&&Zr(this),this.i&&!this.J&&(c==4?pC(this.l,this):(this.i=!1,bl(this)))}else Mx(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,at(12)):(this.o=0,at(13)),Zr(this),ko(this)}}}catch{}finally{}};function WE(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function HE(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=mx(e,n),i==yu){t==4&&(e.o=4,at(14),r=!1),Qi(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Of){e.o=4,at(15),Qi(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Qi(e.j,e.m,i,null),bf(e,i);WE(e)&&i!=yu&&i!=Of&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,at(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ug(t),t.M=!0,at(11))):(Qi(e.j,e.m,n,"[Invalid Chunked Response]"),Zr(e),ko(e))}D.mb=function(){if(this.g){var e=wn(this.g),t=this.g.ja();this.C<t.length&&(Nc(this),HE(this,e,t),this.i&&e!=4&&bl(this))}};function mx(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?yu:(n=Number(t.substring(n,r)),isNaN(n)?Of:(r+=1,r+n>t.length?yu:(t=t.slice(r,r+n),e.C=r+n,t)))}D.cancel=function(){this.J=!0,Zr(this)};function bl(e){e.Y=Date.now()+e.P,GE(e,e.P)}function GE(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Pl(tt(e.lb,e),t)}function Nc(e){e.B&&(H.clearTimeout(e.B),e.B=null)}D.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(dx(this.j,this.A),this.L!=2&&(ol(),at(17)),Zr(this),this.o=2,ko(this)):GE(this,this.Y-e)};function ko(e){e.l.H==0||e.J||pC(e.l,e)}function Zr(e){Nc(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Ag(e.V),jE(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function bf(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Lf(n.i,e))){if(!e.K&&Lf(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Eu(n),bc(n);else break e;jg(n),at(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Pl(tt(n.ib,n),6e3));if(1>=eC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ei(n,11)}else if((e.K||n.g==e)&&Eu(n),!el(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=e.g;if(p){const y=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(bg(s,s.h),s.h=null))}if(r.F){const w=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,de(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=vC(r,r.J?r.pa:null,r.Y),o.K){tC(r.i,o);var l=o,a=r.L;a&&l.setTimeout(a),l.B&&(Nc(l),bl(l)),r.g=o}else hC(r);0<n.j.length&&Lc(n)}else u[0]!="stop"&&u[0]!="close"||ei(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ei(n,7):Fg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ol(4)}catch{}}function vx(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Cc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function yx(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Cc(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function KE(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Cc(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=yx(e),r=vx(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var qE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _x(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function oi(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof oi){this.h=e.h,_u(this,e.j),this.s=e.s,this.g=e.g,wu(this,e.m),this.l=e.l;var t=e.i,n=new ll;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Oy(this,n),this.o=e.o}else e&&(t=String(e).match(qE))?(this.h=!1,_u(this,t[1]||"",!0),this.s=fo(t[2]||""),this.g=fo(t[3]||"",!0),wu(this,t[4]),this.l=fo(t[5]||"",!0),Oy(this,t[6]||"",!0),this.o=fo(t[7]||"")):(this.h=!1,this.i=new ll(null,this.h))}oi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(po(t,Dy,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(po(t,Dy,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(po(n,n.charAt(0)=="/"?Cx:Ex,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",po(n,Ix)),e.join("")};function Qn(e){return new oi(e)}function _u(e,t,n){e.j=n?fo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function wu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Oy(e,t,n){t instanceof ll?(e.i=t,kx(e.i,e.h)):(n||(t=po(t,Sx)),e.i=new ll(t,e.h))}function de(e,t,n){e.i.set(t,n)}function xc(e){return de(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function fo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function po(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,wx),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function wx(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Dy=/[#\/\?@]/g,Ex=/[#\?:]/g,Cx=/[#\?]/g,Sx=/[#\?@]/g,Ix=/#/g;function ll(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Br(e){e.g||(e.g=new Map,e.h=0,e.i&&_x(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}D=ll.prototype;D.add=function(e,t){Br(this),this.i=null,e=Fs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function YE(e,t){Br(e),t=Fs(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function QE(e,t){return Br(e),t=Fs(e,t),e.g.has(t)}D.forEach=function(e,t){Br(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};D.ta=function(){Br(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};D.Z=function(e){Br(this);let t=[];if(typeof e=="string")QE(this,e)&&(t=t.concat(this.g.get(Fs(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};D.set=function(e,t){return Br(this),this.i=null,e=Fs(this,e),QE(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};D.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function JE(e,t,n){YE(e,t),0<n.length&&(e.i=null,e.g.set(Fs(e,t),yg(n)),e.h+=n.length)}D.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Fs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function kx(e,t){t&&!e.j&&(Br(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(YE(this,r),JE(this,i,n))},e)),e.j=t}var Tx=class{constructor(e,t){this.g=e,this.map=t}};function XE(e){this.l=e||Ax,H.PerformanceNavigationTiming?(e=H.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(H.g&&H.g.Ka&&H.g.Ka()&&H.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ax=10;function ZE(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function eC(e){return e.h?1:e.g?e.g.size:0}function Lf(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function bg(e,t){e.g?e.g.add(t):e.h=t}function tC(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}XE.prototype.cancel=function(){if(this.i=nC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function nC(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return yg(e.i)}var Rx=class{stringify(e){return H.JSON.stringify(e,void 0)}parse(e){return H.JSON.parse(e,void 0)}};function Nx(){this.g=new Rx}function xx(e,t,n){const r=n||"";try{KE(e,function(i,s){let o=i;Nl(i)&&(o=kg(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Px(e,t){const n=new Ac;if(H.Image){const r=new Image;r.onload=pa(ma,n,r,"TestLoadImage: loaded",!0,t),r.onerror=pa(ma,n,r,"TestLoadImage: error",!1,t),r.onabort=pa(ma,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=pa(ma,n,r,"TestLoadImage: timeout",!1,t),H.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function ma(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Pc(e){this.l=e.ec||null,this.j=e.ob||!1}Ve(Pc,Pg);Pc.prototype.g=function(){return new Oc(this.l,this.j)};Pc.prototype.i=function(e){return function(){return e}}({});function Oc(e,t){Ue.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Lg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ve(Oc,Ue);var Lg=0;D=Oc.prototype;D.open=function(e,t){if(this.readyState!=Lg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,al(this)};D.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||H).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};D.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ll(this)),this.readyState=Lg};D.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,al(this)),this.g&&(this.readyState=3,al(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof H.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rC(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function rC(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}D.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ll(this):al(this),this.readyState==3&&rC(this)}};D.Za=function(e){this.g&&(this.response=this.responseText=e,Ll(this))};D.Ya=function(e){this.g&&(this.response=e,Ll(this))};D.ka=function(){this.g&&Ll(this)};function Ll(e){e.readyState=4,e.l=null,e.j=null,e.A=null,al(e)}D.setRequestHeader=function(e,t){this.v.append(e,t)};D.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};D.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function al(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Oc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Ox=H.JSON.parse;function Se(e){Ue.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=iC,this.L=this.M=!1}Ve(Se,Ue);var iC="",Dx=/^https?$/i,bx=["POST","PUT"];D=Se.prototype;D.Oa=function(e){this.M=e};D.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Pf.g(),this.C=this.u?Py(this.u):Py(Pf),this.g.onreadystatechange=tt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){by(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=H.FormData&&e instanceof H.FormData,!(0<=SE(bx,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{lC(this),0<this.B&&((this.L=Lx(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tt(this.ua,this)):this.A=Rg(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){by(this,s)}};function Lx(e){return tl&&typeof e.timeout=="number"&&e.ontimeout!==void 0}D.ua=function(){typeof vg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ge(this,"timeout"),this.abort(8))};function by(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,sC(e),Dc(e)}function sC(e){e.F||(e.F=!0,Ge(e,"complete"),Ge(e,"error"))}D.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ge(this,"complete"),Ge(this,"abort"),Dc(this))};D.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dc(this,!0)),Se.$.N.call(this)};D.La=function(){this.s||(this.G||this.v||this.l?oC(this):this.kb())};D.kb=function(){oC(this)};function oC(e){if(e.h&&typeof vg<"u"&&(!e.C[1]||wn(e)!=4||e.da()!=2)){if(e.v&&wn(e)==4)Rg(e.La,0,e);else if(Ge(e,"readystatechange"),wn(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(qE)[1]||null;!i&&H.self&&H.self.location&&(i=H.self.location.protocol.slice(0,-1)),r=!Dx.test(i?i.toLowerCase():"")}n=r}if(n)Ge(e,"complete"),Ge(e,"success");else{e.m=6;try{var s=2<wn(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",sC(e)}}finally{Dc(e)}}}}function Dc(e,t){if(e.g){lC(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ge(e,"ready");try{n.onreadystatechange=r}catch{}}}function lC(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(H.clearTimeout(e.A),e.A=null)}D.isActive=function(){return!!this.g};function wn(e){return e.g?e.g.readyState:0}D.da=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}};D.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};D.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Ox(t)}};function Ly(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case iC:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Mx(e){const t={};e=(e.g&&2<=wn(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(el(e[r]))continue;var n=sx(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}XN(t,function(r){return r.join(", ")})}D.Ia=function(){return this.m};D.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function aC(e){let t="";return wg(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Mg(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=aC(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):de(e,t,n))}function Js(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function uC(e){this.Ga=0,this.j=[],this.l=new Ac,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Js("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Js("baseRetryDelayMs",5e3,e),this.hb=Js("retryDelaySeedMs",1e4,e),this.eb=Js("forwardChannelMaxRetries",2,e),this.xa=Js("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new XE(e&&e.concurrentRequestLimit),this.Ja=new Nx,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}D=uC.prototype;D.ra=8;D.H=1;function Fg(e){if(cC(e),e.H==3){var t=e.W++,n=Qn(e.I);if(de(n,"SID",e.K),de(n,"RID",t),de(n,"TYPE","terminate"),Ml(e,n),t=new Dl(e,e.l,t),t.L=2,t.v=xc(Qn(n)),n=!1,H.navigator&&H.navigator.sendBeacon)try{n=H.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&H.Image&&(new Image().src=t.v,n=!0),n||(t.g=yC(t.l,null),t.g.ha(t.v)),t.G=Date.now(),bl(t)}mC(e)}function bc(e){e.g&&(Ug(e),e.g.cancel(),e.g=null)}function cC(e){bc(e),e.u&&(H.clearTimeout(e.u),e.u=null),Eu(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&H.clearTimeout(e.m),e.m=null)}function Lc(e){if(!ZE(e.i)&&!e.m){e.m=!0;var t=e.Na;rl||LE(),il||(rl(),il=!0),Tg.add(t,e),e.C=0}}function Fx(e,t){return eC(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Pl(tt(e.Na,e,t),gC(e,e.C)),e.C++,!0)}D.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Dl(this,this.l,e);let s=this.s;if(this.U&&(s?(s=AE(s),RE(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=dC(this,i,t),n=Qn(this.I),de(n,"RID",e),de(n,"CVER",22),this.F&&de(n,"X-HTTP-Session-Id",this.F),Ml(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(aC(s)))+"&"+t:this.o&&Mg(n,this.o,s)),bg(this.i,i),this.bb&&de(n,"TYPE","init"),this.P?(de(n,"$req",t),de(n,"SID","null"),i.aa=!0,Df(i,n,null)):Df(i,n,t),this.H=2}}else this.H==3&&(e?My(this,e):this.j.length==0||ZE(this.i)||My(this))};function My(e,t){var n;t?n=t.m:n=e.W++;const r=Qn(e.I);de(r,"SID",e.K),de(r,"RID",n),de(r,"AID",e.V),Ml(e,r),e.o&&e.s&&Mg(r,e.o,e.s),n=new Dl(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=dC(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),bg(e.i,n),Df(n,r,t)}function Ml(e,t){e.na&&wg(e.na,function(n,r){de(t,r,n)}),e.h&&KE({},function(n,r){de(t,r,n)})}function dC(e,t,n){n=Math.min(e.j.length,n);var r=e.h?tt(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let a=0;a<n;a++){let u=i[a].g;const c=i[a].map;if(u-=s,0>u)s=Math.max(0,i[a].g-100),l=!1;else try{xx(c,o,"req"+u+"_")}catch{r&&r(c)}}if(l){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function hC(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;rl||LE(),il||(rl(),il=!0),Tg.add(t,e),e.A=0}}function jg(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Pl(tt(e.Ma,e),gC(e,e.A)),e.A++,!0)}D.Ma=function(){if(this.u=null,fC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Pl(tt(this.jb,this),e)}};D.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,at(10),bc(this),fC(this))};function Ug(e){e.B!=null&&(H.clearTimeout(e.B),e.B=null)}function fC(e){e.g=new Dl(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Qn(e.wa);de(t,"RID","rpc"),de(t,"SID",e.K),de(t,"AID",e.V),de(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&de(t,"TO",e.qa),de(t,"TYPE","xmlhttp"),Ml(e,t),e.o&&e.s&&Mg(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=xc(Qn(t)),n.s=null,n.S=!0,zE(n,e)}D.ib=function(){this.v!=null&&(this.v=null,bc(this),jg(this),at(19))};function Eu(e){e.v!=null&&(H.clearTimeout(e.v),e.v=null)}function pC(e,t){var n=null;if(e.g==t){Eu(e),Ug(e),e.g=null;var r=2}else if(Lf(e.i,t))n=t.F,tC(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=Ng(),Ge(r,new BE(r,n)),Lc(e)}else hC(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&Fx(e,t)||r==2&&jg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ei(e,5);break;case 4:ei(e,10);break;case 3:ei(e,6);break;default:ei(e,2)}}}function gC(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ei(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=tt(e.pb,e);n||(n=new oi("//www.google.com/images/cleardot.gif"),H.location&&H.location.protocol=="http"||_u(n,"https"),xc(n)),Px(n.toString(),r)}else at(2);e.H=0,e.h&&e.h.za(t),mC(e),cC(e)}D.pb=function(e){e?(this.l.info("Successfully pinged google.com"),at(2)):(this.l.info("Failed to ping google.com"),at(1))};function mC(e){if(e.H=0,e.ma=[],e.h){const t=nC(e.i);(t.length!=0||e.j.length!=0)&&(ky(e.ma,t),ky(e.ma,e.j),e.i.i.length=0,yg(e.j),e.j.length=0),e.h.ya()}}function vC(e,t,n){var r=n instanceof oi?Qn(n):new oi(n);if(r.g!="")t&&(r.g=t+"."+r.g),wu(r,r.m);else{var i=H.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new oi(null);r&&_u(s,r),t&&(s.g=t),i&&wu(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&de(r,n,t),de(r,"VER",e.ra),Ml(e,r),r}function yC(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new Se(new Pc({ob:!0})):new Se(e.va),t.Oa(e.J),t}D.isActive=function(){return!!this.h&&this.h.isActive(this)};function _C(){}D=_C.prototype;D.Ba=function(){};D.Aa=function(){};D.za=function(){};D.ya=function(){};D.isActive=function(){return!0};D.Va=function(){};function Qt(e,t){Ue.call(this),this.g=new uC(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!el(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!el(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new js(this)}Ve(Qt,Ue);Qt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;at(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=vC(e,null,e.Y),Lc(e)};Qt.prototype.close=function(){Fg(this.g)};Qt.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=kg(e),e=n);t.j.push(new Tx(t.fb++,e)),t.H==3&&Lc(t)};Qt.prototype.N=function(){this.g.h=null,delete this.j,Fg(this.g),delete this.g,Qt.$.N.call(this)};function wC(e){Og.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Ve(wC,Og);function EC(){Dg.call(this),this.status=1}Ve(EC,Dg);function js(e){this.g=e}Ve(js,_C);js.prototype.Ba=function(){Ge(this.g,"a")};js.prototype.Aa=function(e){Ge(this.g,new wC(e))};js.prototype.za=function(e){Ge(this.g,new EC)};js.prototype.ya=function(){Ge(this.g,"b")};function jx(){this.blockSize=-1}function An(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ve(An,jx);An.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Kd(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}An.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)Kd(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Kd(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Kd(this,r),i=0;break}}this.h=i,this.i+=t};An.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function ie(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var Ux={};function Vg(e){return-128<=e&&128>e?GN(e,function(t){return new ie([t|0],0>t?-1:0)}):new ie([e|0],0>e?-1:0)}function En(e){if(isNaN(e)||!isFinite(e))return ls;if(0>e)return ze(En(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Mf;return new ie(t,0)}function CC(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return ze(CC(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=En(Math.pow(t,8)),r=ls,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=En(Math.pow(t,s)),r=r.R(s).add(En(o))):(r=r.R(n),r=r.add(En(o)))}return r}var Mf=4294967296,ls=Vg(0),Ff=Vg(1),Fy=Vg(16777216);D=ie.prototype;D.ea=function(){if(zt(this))return-ze(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Mf+r)*t,t*=Mf}return e};D.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Un(this))return"0";if(zt(this))return"-"+ze(this).toString(e);for(var t=En(Math.pow(e,6)),n=this,r="";;){var i=Su(n,t).g;n=Cu(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Un(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};D.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Un(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function zt(e){return e.h==-1}D.X=function(e){return e=Cu(this,e),zt(e)?-1:Un(e)?0:1};function ze(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new ie(n,~e.h).add(Ff)}D.abs=function(){return zt(this)?ze(this):this};D.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ie(n,n[n.length-1]&-2147483648?-1:0)};function Cu(e,t){return e.add(ze(t))}D.R=function(e){if(Un(this)||Un(e))return ls;if(zt(this))return zt(e)?ze(this).R(ze(e)):ze(ze(this).R(e));if(zt(e))return ze(this.R(ze(e)));if(0>this.X(Fy)&&0>e.X(Fy))return En(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,l=e.D(i)>>>16,a=e.D(i)&65535;n[2*r+2*i]+=o*a,va(n,2*r+2*i),n[2*r+2*i+1]+=s*a,va(n,2*r+2*i+1),n[2*r+2*i+1]+=o*l,va(n,2*r+2*i+1),n[2*r+2*i+2]+=s*l,va(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new ie(n,0)};function va(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Xs(e,t){this.g=e,this.h=t}function Su(e,t){if(Un(t))throw Error("division by zero");if(Un(e))return new Xs(ls,ls);if(zt(e))return t=Su(ze(e),t),new Xs(ze(t.g),ze(t.h));if(zt(t))return t=Su(e,ze(t)),new Xs(ze(t.g),t.h);if(30<e.g.length){if(zt(e)||zt(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ff,r=t;0>=r.X(e);)n=jy(n),r=jy(r);var i=Li(n,1),s=Li(r,1);for(r=Li(r,2),n=Li(n,2);!Un(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Li(r,1),n=Li(n,1)}return t=Cu(e,i.R(t)),new Xs(i,t)}for(i=ls;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=En(n),o=s.R(t);zt(o)||0<o.X(e);)n-=r,s=En(n),o=s.R(t);Un(s)&&(s=Ff),i=i.add(s),e=Cu(e,o)}return new Xs(i,e)}D.gb=function(e){return Su(this,e).h};D.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new ie(n,this.h&e.h)};D.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new ie(n,this.h|e.h)};D.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new ie(n,this.h^e.h)};function jy(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new ie(n,e.h)}function Li(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new ie(i,e.h)}Qt.prototype.send=Qt.prototype.u;Qt.prototype.open=Qt.prototype.m;Qt.prototype.close=Qt.prototype.close;xg.NO_ERROR=0;xg.TIMEOUT=8;xg.HTTP_ERROR=6;fx.COMPLETE="complete";px.EventType=Ol;Ol.OPEN="a";Ol.CLOSE="b";Ol.ERROR="c";Ol.MESSAGE="d";Ue.prototype.listen=Ue.prototype.O;Se.prototype.listenOnce=Se.prototype.P;Se.prototype.getLastError=Se.prototype.Sa;Se.prototype.getLastErrorCode=Se.prototype.Ia;Se.prototype.getStatus=Se.prototype.da;Se.prototype.getResponseJson=Se.prototype.Wa;Se.prototype.getResponseText=Se.prototype.ja;Se.prototype.send=Se.prototype.ha;Se.prototype.setWithCredentials=Se.prototype.Oa;An.prototype.digest=An.prototype.l;An.prototype.reset=An.prototype.reset;An.prototype.update=An.prototype.j;ie.prototype.add=ie.prototype.add;ie.prototype.multiply=ie.prototype.R;ie.prototype.modulo=ie.prototype.gb;ie.prototype.compare=ie.prototype.X;ie.prototype.toNumber=ie.prototype.ea;ie.prototype.toString=ie.prototype.toString;ie.prototype.getBits=ie.prototype.D;ie.fromNumber=En;ie.fromString=CC;var Vx=ie;const Uy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=new Rl("@firebase/firestore");function Pt(e,...t){if(Iu.logLevel<=ne.DEBUG){const n=t.map(SC);Iu.debug(`Firestore (${Mc}): ${e}`,...n)}}function Bg(e,...t){if(Iu.logLevel<=ne.ERROR){const n=t.map(SC);Iu.error(`Firestore (${Mc}): ${e}`,...n)}}function SC(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(e="Unexpected state"){const t=`FIRESTORE (${Mc}) INTERNAL ASSERTION FAILED: `+e;throw Bg(t),new Error(t)}function jf(e,t){e||IC()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nt extends pn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class $x{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}}class zx{constructor(t){this.t=t,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve();let s=new as;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new as,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const a=s;t.enqueueRetryable(async()=>{await a.promise,await i(this.currentUser)})},l=a=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(a=>l(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?l(a):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new as)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(jf(typeof r.accessToken=="string"),new Bx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return jf(t===null||typeof t=="string"),new pt(t)}}class Wx{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Hx{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new Wx(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kx{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Pt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(jf(typeof n.token=="string"),this.R=n.token,new Gx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=qx(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function kC(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(t,n,r,i,s,o,l,a,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=a,this.useFetchStreams=u}}class ku{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new ku("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof ku&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vy,Z;(Z=Vy||(Vy={}))[Z.OK=0]="OK",Z[Z.CANCELLED=1]="CANCELLED",Z[Z.UNKNOWN=2]="UNKNOWN",Z[Z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Z[Z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Z[Z.NOT_FOUND=5]="NOT_FOUND",Z[Z.ALREADY_EXISTS=6]="ALREADY_EXISTS",Z[Z.PERMISSION_DENIED=7]="PERMISSION_DENIED",Z[Z.UNAUTHENTICATED=16]="UNAUTHENTICATED",Z[Z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Z[Z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Z[Z.ABORTED=10]="ABORTED",Z[Z.OUT_OF_RANGE=11]="OUT_OF_RANGE",Z[Z.UNIMPLEMENTED=12]="UNIMPLEMENTED",Z[Z.INTERNAL=13]="INTERNAL",Z[Z.UNAVAILABLE=14]="UNAVAILABLE",Z[Z.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Vx([4294967295,4294967295],0);function qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&Pt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,l=new $g(t,n,o,i,s);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Nt(Rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xx(e,t){if(Bg("AsyncQueue",`${t}: ${e}`),kC(e))return new Nt(Rt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pt.UNAUTHENTICATED,this.clientId=Yx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Pt("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Pt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nt(Rt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Xx(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=new Map;function eP(e,t,n,r){if(t===!0&&r===!0)throw new Nt(Rt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Nt(Rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Nt(Rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}eP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TC((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Nt(Rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Nt(Rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Nt(Rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class tP{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $y({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Nt(Rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Nt(Rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $y(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $x;switch(r.type){case"firstParty":return new Hx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Nt(Rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=By.get(n);r&&(Pt("ComponentProvider","Removing Datastore"),By.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Jx(this,"async_queue_retry"),this.iu=()=>{const n=qd();n&&Pt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=qd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=qd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new as;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!kC(t))throw t;Pt("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Bg("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=$g.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&IC()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}class rP extends tP{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new nP}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||iP(this),this._firestoreClient.terminate()}}function iP(e){var t,n,r;const i=e._freezeSettings(),s=function(l,a,u,c){return new Qx(l,a,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,TC(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Zx(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}(function(t,n=!0){(function(i){Mc=i})(Ni),fn(new Yt("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new rP(new zx(r.getProvider("auth-internal")),new Kx(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Nt(Rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ku(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Ct(Uy,"4.3.2",t),Ct(Uy,"4.3.2","esm2017")})();function zg(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function AC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sP=AC,RC=new Ai("auth","Firebase",AC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=new Rl("@firebase/auth");function oP(e,...t){Tu.logLevel<=ne.WARN&&Tu.warn(`Auth (${Ni}): ${e}`,...t)}function La(e,...t){Tu.logLevel<=ne.ERROR&&Tu.error(`Auth (${Ni}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(e,...t){throw Wg(e,...t)}function kn(e,...t){return Wg(e,...t)}function NC(e,t,n){const r=Object.assign(Object.assign({},sP()),{[t]:n});return new Ai("auth","Firebase",r).create(t,{appName:e.name})}function xC(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Jt(e,"argument-error"),NC(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wg(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return RC.create(e,...t)}function B(e,t,...n){if(!e)throw Wg(t,...n)}function Vn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw La(t),new Error(t)}function Jn(e,t){e||Vn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function lP(){return zy()==="http:"||zy()==="https:"}function zy(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lP()||hE()||"connection"in navigator)?navigator.onLine:!0}function uP(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Jn(n>t,"Short delay should be less than long delay!"),this.isMobile=pg()||fE()}get(){return aP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(e,t){Jn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=new Fl(3e4,6e4);function tr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Nn(e,t,n,r,i={}){return OC(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const l=Ls(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),PC.fetch()(DC(e,e.config.apiHost,n,l),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},s))})}async function OC(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},cP),t);try{const i=new fP(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ya(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[a,u]=l.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw ya(e,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw ya(e,"email-already-in-use",o);if(a==="USER_DISABLED")throw ya(e,"user-disabled",o);const c=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw NC(e,c,u);Jt(e,c)}}catch(i){if(i instanceof pn)throw i;Jt(e,"network-request-failed",{message:String(i)})}}async function jl(e,t,n,r,i={}){const s=await Nn(e,t,n,r,i);return"mfaPendingCredential"in s&&Jt(e,"multi-factor-auth-required",{_serverResponse:s}),s}function DC(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Hg(e.config,i):`${e.config.apiScheme}://${i}`}function hP(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fP{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kn(this.auth,"network-request-failed")),dP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ya(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=kn(e,t,r);return i.customData._tokenResponse=n,i}function Wy(e){return e!==void 0&&e.enterprise!==void 0}class pP{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return hP(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function gP(e,t){return Nn(e,"GET","/v2/recaptchaConfig",tr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mP(e,t){return Nn(e,"POST","/v1/accounts:delete",t)}async function vP(e,t){return Nn(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yP(e,t=!1){const n=De(e),r=await n.getIdToken(t),i=Gg(r);B(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:To(Yd(i.auth_time)),issuedAtTime:To(Yd(i.iat)),expirationTime:To(Yd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Yd(e){return Number(e)*1e3}function Gg(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return La("JWT malformed, contained fewer than 3 sections"),null;try{const i=gu(n);return i?JSON.parse(i):(La("Failed to decode base64 JWT payload"),null)}catch(i){return La("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _P(e){const t=Gg(e);return B(t,"internal-error"),B(typeof t.exp<"u","internal-error"),B(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cs(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof pn&&wP(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function wP({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=To(this.lastLoginAt),this.creationTime=To(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Cs(e,vP(n,{idToken:r}));B(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?IP(s.providerUserInfo):[],l=SP(e.providerData,o),a=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),c=a?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new bC(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function CP(e){const t=De(e);await Au(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function SP(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function IP(e){return e.map(t=>{var{providerId:n}=t,r=zg(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(e,t){const n=await OC(e,{},async()=>{const r=Ls({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=DC(e,i,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",PC.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TP(e,t){return Nn(e,"POST","/v2/accounts:revokeToken",tr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){B(t.idToken,"internal-error"),B(typeof t.idToken<"u","internal-error"),B(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):_P(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return B(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await kP(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ul;return r&&(B(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(B(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(B(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return Vn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(e,t){B(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class li{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=zg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new bC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Cs(this,this.stsTokenManager.getToken(this.auth,t));return B(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return yP(this,t)}reload(){return CP(this)}_assign(t){this!==t&&(B(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new li(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Au(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Cs(this,mP(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,l,a,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(l=n.tenantId)!==null&&l!==void 0?l:void 0,C=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,f=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:E,isAnonymous:k,providerData:x,stsTokenManager:O}=n;B(v&&O,t,"internal-error");const R=ul.fromJSON(this.name,O);B(typeof v=="string",t,"internal-error"),ir(d,t.name),ir(h,t.name),B(typeof E=="boolean",t,"internal-error"),B(typeof k=="boolean",t,"internal-error"),ir(p,t.name),ir(y,t.name),ir(w,t.name),ir(C,t.name),ir(m,t.name),ir(f,t.name);const z=new li({uid:v,auth:t,email:h,emailVerified:E,displayName:d,isAnonymous:k,photoURL:y,phoneNumber:p,tenantId:w,stsTokenManager:R,createdAt:m,lastLoginAt:f});return x&&Array.isArray(x)&&(z.providerData=x.map(G=>Object.assign({},G))),C&&(z._redirectEventId=C),z}static async _fromIdTokenResponse(t,n,r=!1){const i=new ul;i.updateFromServerResponse(n);const s=new li({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Au(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=new Map;function Bn(e){Jn(e instanceof Function,"Expected a class definition");let t=Hy.get(e);return t?(Jn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Hy.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}LC.type="NONE";const Gy=LC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(e,t,n){return`firebase:${e}:${t}:${n}`}class us{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ma(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ma("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?li._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new us(Bn(Gy),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Bn(Gy);const o=Ma(r,t.config.apiKey,t.name);let l=null;for(const u of n)try{const c=await u._get(o);if(c){const d=li._fromJSON(t,c);u!==s&&(l=d),s=u;break}}catch{}const a=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new us(s,t,r):(s=a[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new us(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(jC(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(MC(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(VC(t))return"Blackberry";if(BC(t))return"Webos";if(Kg(t))return"Safari";if((t.includes("chrome/")||FC(t))&&!t.includes("edge/"))return"Chrome";if(UC(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function MC(e=it()){return/firefox\//i.test(e)}function Kg(e=it()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function FC(e=it()){return/crios\//i.test(e)}function jC(e=it()){return/iemobile/i.test(e)}function UC(e=it()){return/android/i.test(e)}function VC(e=it()){return/blackberry/i.test(e)}function BC(e=it()){return/webos/i.test(e)}function Fc(e=it()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function AP(e=it()){var t;return Fc(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function RP(){return yR()&&document.documentMode===10}function $C(e=it()){return Fc(e)||UC(e)||BC(e)||VC(e)||/windows phone/i.test(e)||jC(e)}function NP(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(e,t=[]){let n;switch(e){case"Browser":n=Ky(it());break;case"Worker":n=`${Ky(it())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ni}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,l)=>{try{const a=t(s);o(a)}catch(a){l(a)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(e,t={}){return Nn(e,"GET","/v2/passwordPolicy",tr(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=6;class DP{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:OP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,l;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,a),this.validatePasswordCharacterOptions(t,a),a.isValid&&(a.isValid=(n=a.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(r=a.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(i=a.containsLowercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(s=a.containsUppercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(l=a.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),a}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qy(this),this.idTokenSubscription=new qy(this),this.beforeStateQueue=new xP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Bn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await us.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(t);(!o||o===l)&&(a!=null&&a.user)&&(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return B(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Au(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=uP()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?De(t):null;return n&&B(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&B(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Bn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await PP(this),n=new DP(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ai("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await TP(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Bn(t)||this._popupRedirectResolver;B(n,this,"argument-error"),this.redirectPersistenceManager=await us.create(this,[Bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(B(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const a=t.addObserver(n,r,i);return()=>{o=!0,a()}}else{const a=t.addObserver(n);return()=>{o=!0,a()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=zC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&oP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function nr(e){return De(e)}class qy{constructor(t){this.auth=t,this.observer=null,this.addObserver=TR(n=>this.observer=n)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function WC(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=kn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",LP().appendChild(r)})}function MP(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const FP="https://www.google.com/recaptcha/enterprise.js?render=",jP="recaptcha-enterprise",UP="NO_RECAPTCHA";class VP{constructor(t){this.type=jP,this.auth=nr(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{gP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new pP(a);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(a=>{l(a)})})}function i(s,o,l){const a=window.grecaptcha;Wy(a)?a.enterprise.ready(()=>{a.enterprise.execute(s,{action:t}).then(u=>{o(u)}).catch(()=>{o(UP)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&Wy(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}WC(FP+l).then(()=>{i(l,s,o)}).catch(a=>{o(a)})}}).catch(l=>{o(l)})})}}async function Yy(e,t,n,r=!1){const i=new VP(e);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Vf(e,t,n,r){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Yy(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Yy(e,t,n,n==="getOobCode");return r(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(e,t){const n=Ri(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Xo(s,t??{}))return i;Jt(i,"already-initialized")}return n.initialize({options:t})}function $P(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function zP(e,t,n){const r=nr(e);B(r._canInitEmulator,r,"emulator-config-failed"),B(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=HC(t),{host:o,port:l}=WP(t),a=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${a}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||HP()}function HC(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function WP(e){const t=HC(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Qy(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Qy(o)}}}function Qy(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function HP(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Vn("not implemented")}_getIdTokenResponse(t){return Vn("not implemented")}_linkToIdToken(t,n){return Vn("not implemented")}_getReauthenticationResolver(t){return Vn("not implemented")}}async function GP(e,t){return Nn(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP(e,t){return jl(e,"POST","/v1/accounts:signInWithPassword",tr(e,t))}async function qP(e,t){return Nn(e,"POST","/v1/accounts:sendOobCode",tr(e,t))}async function YP(e,t){return qP(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(e,t){return jl(e,"POST","/v1/accounts:signInWithEmailLink",tr(e,t))}async function JP(e,t){return jl(e,"POST","/v1/accounts:signInWithEmailLink",tr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends qg{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new cl(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new cl(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vf(t,n,"signInWithPassword",KP);case"emailLink":return QP(t,{email:this._email,oobCode:this._password});default:Jt(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vf(t,r,"signUpPassword",GP);case"emailLink":return JP(t,{idToken:n,email:this._email,oobCode:this._password});default:Jt(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cs(e,t){return jl(e,"POST","/v1/accounts:signInWithIdp",tr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP="http://localhost";class gi extends qg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new gi(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Jt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=zg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new gi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return cs(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,cs(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,cs(t,n)}buildRequest(){const t={requestUri:XP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ls(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eO(e){const t=co(ho(e)).link,n=t?co(ho(t)).deep_link_id:null,r=co(ho(e)).deep_link_id;return(r?co(ho(r)).link:null)||r||n||t||e}class Yg{constructor(t){var n,r,i,s,o,l;const a=co(ho(t)),u=(n=a.apiKey)!==null&&n!==void 0?n:null,c=(r=a.oobCode)!==null&&r!==void 0?r:null,d=ZP((i=a.mode)!==null&&i!==void 0?i:null);B(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=a.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=a.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=a.tenantId)!==null&&l!==void 0?l:null}static parseLink(t){const n=eO(t);try{return new Yg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.providerId=Us.PROVIDER_ID}static credential(t,n){return cl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Yg.parseLink(n);return B(r,"argument-error"),cl._fromEmailAndCode(t,r.code,r.tenantId)}}Us.PROVIDER_ID="password";Us.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Us.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends jc{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Ul{constructor(){super("facebook.com")}static credential(t){return gi._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ur.credential(t.oauthAccessToken)}catch{return null}}}ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return gi._fromParams({providerId:Mn.PROVIDER_ID,signInMethod:Mn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Mn.credentialFromTaggedObject(t)}static credentialFromError(t){return Mn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Mn.credential(n,r)}catch{return null}}}Mn.GOOGLE_SIGN_IN_METHOD="google.com";Mn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Ul{constructor(){super("github.com")}static credential(t){return gi._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cr.credentialFromTaggedObject(t)}static credentialFromError(t){return cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cr.credential(t.oauthAccessToken)}catch{return null}}}cr.GITHUB_SIGN_IN_METHOD="github.com";cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends Ul{constructor(){super("twitter.com")}static credential(t,n){return gi._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return dr.credentialFromTaggedObject(t)}static credentialFromError(t){return dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return dr.credential(n,r)}catch{return null}}}dr.TWITTER_SIGN_IN_METHOD="twitter.com";dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(e,t){return jl(e,"POST","/v1/accounts:signUp",tr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await li._fromIdTokenResponse(t,r,i),o=Jy(r);return new mi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=Jy(r);return new mi({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function Jy(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends pn{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ru.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Ru(t,n,r,i)}}function GC(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ru._fromErrorAndOperation(e,s,t,r):s})}async function nO(e,t,n=!1){const r=await Cs(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return mi._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rO(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await Cs(e,GC(r,i,t,e),n);B(s.idToken,r,"internal-error");const o=Gg(s.idToken);B(o,r,"internal-error");const{sub:l}=o;return B(e.uid===l,r,"user-mismatch"),mi._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Jt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(e,t,n=!1){const r="signIn",i=await GC(e,r,t),s=await mi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function iO(e,t){return KC(nr(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(e,t,n){var r;B(((r=n.url)===null||r===void 0?void 0:r.length)>0,e,"invalid-continue-uri"),B(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(B(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(B(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(e){const t=nr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function oO(e,t,n){const r=nr(e),o=await Vf(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tO).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&qC(e),a}),l=await mi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function lO(e,t,n){return iO(De(e),Us.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&qC(e),r})}async function aO(e,t){const n=De(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&sO(n.auth,i,t);const{email:s}=await YP(n.auth,i);s!==e.email&&await e.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(e,t){return Nn(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const r=De(e),s={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await Cs(r,uO(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:a})=>a==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function YC(e,t,n,r){return De(e).onIdTokenChanged(t,n,r)}function dO(e,t,n){return De(e).beforeAuthStateChanged(t,n)}function QC(e,t,n,r){return De(e).onAuthStateChanged(t,n,r)}function hO(e){return De(e).signOut()}const Nu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nu,"1"),this.storage.removeItem(Nu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(){const e=it();return Kg(e)||Fc(e)}const pO=1e3,gO=10;class XC extends JC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=fO()&&NP(),this.fallbackToPolling=$C(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,l,a)=>{this.notifyListeners(o,a)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);RP()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,gO):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},pO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}XC.type="LOCAL";const mO=XC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC extends JC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}ZC.type="SESSION";const eS=ZC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Uc(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),a=await vO(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:a})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,a)=>{const u=Qg("",20);i.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(h.data.response);break;default:clearTimeout(c),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return window}function _O(e){Tn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}async function wO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EO(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function CO(){return tS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="firebaseLocalStorageDb",SO=1,xu="firebaseLocalStorage",rS="fbase_key";class Vl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vc(e,t){return e.transaction([xu],t?"readwrite":"readonly").objectStore(xu)}function IO(){const e=indexedDB.deleteDatabase(nS);return new Vl(e).toPromise()}function Bf(){const e=indexedDB.open(nS,SO);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(xu,{keyPath:rS})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(xu)?t(r):(r.close(),await IO(),t(await Bf()))})})}async function Xy(e,t,n){const r=Vc(e,!0).put({[rS]:t,value:n});return new Vl(r).toPromise()}async function kO(e,t){const n=Vc(e,!1).get(t),r=await new Vl(n).toPromise();return r===void 0?null:r.value}function Zy(e,t){const n=Vc(e,!0).delete(t);return new Vl(n).toPromise()}const TO=800,AO=3;class iS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bf(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>AO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uc._getInstance(CO()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await wO(),!this.activeServiceWorker)return;this.sender=new yO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||EO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Bf();return await Xy(t,Nu,"1"),await Zy(t,Nu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xy(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>kO(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zy(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=Vc(i,!1).getAll();return new Vl(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iS.type="LOCAL";const RO=iS;new Fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(e,t){return t?Bn(t):(B(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg extends qg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return cs(t,this._buildIdpRequest())}_linkToIdToken(t,n){return cs(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return cs(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function NO(e){return KC(e.auth,new Xg(e),e.bypassAuthState)}function xO(e){const{auth:t,user:n}=e;return B(n,t,"internal-error"),rO(n,new Xg(e),e.bypassAuthState)}async function PO(e){const{auth:t,user:n}=e;return B(n,t,"internal-error"),nO(n,new Xg(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=t;if(o){this.reject(o);return}const a={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(a))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return NO;case"linkViaPopup":case"linkViaRedirect":return PO;case"reauthViaPopup":case"reauthViaRedirect":return xO;default:Jt(this.auth,"internal-error")}}resolve(t){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=new Fl(2e3,1e4);async function DO(e,t,n){const r=nr(e);xC(e,t,jc);const i=Jg(r,n);return new ti(r,"signInViaPopup",t,i).executeNotNull()}class ti extends sS{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ti.currentPopupAction&&ti.currentPopupAction.cancel(),ti.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return B(t,this.auth,"internal-error"),t}async onExecution(){Jn(this.filter.length===1,"Popup operations only handle one event");const t=Qg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ti.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,OO.get())};t()}}ti.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="pendingRedirect",Fa=new Map;class LO extends sS{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Fa.get(this.auth._key());if(!t){try{const r=await MO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Fa.set(this.auth._key(),t)}return this.bypassAuthState||Fa.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MO(e,t){const n=lS(t),r=oS(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function FO(e,t){return oS(e)._set(lS(t),"true")}function jO(e,t){Fa.set(e._key(),t)}function oS(e){return Bn(e._redirectPersistence)}function lS(e){return Ma(bO,e.config.apiKey,e.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(e,t,n){return VO(e,t,n)}async function VO(e,t,n){const r=nr(e);xC(e,t,jc),await r._initializationPromise;const i=Jg(r,n);return await FO(i,r),i._openRedirect(r,t,"signInViaRedirect")}async function BO(e,t,n=!1){const r=nr(e),i=Jg(r,t),o=await new LO(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=10*60*1e3;class zO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!WO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!aS(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kn(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=$O&&this.cachedEventUids.clear(),this.cachedEventUids.has(e0(t))}saveEventToCache(t){this.cachedEventUids.add(e0(t)),this.lastProcessedEventTime=Date.now()}}function e0(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function aS({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function WO(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aS(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(e,t={}){return Nn(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KO=/^https?/;async function qO(e){if(e.config.emulator)return;const{authorizedDomains:t}=await HO(e);for(const n of t)try{if(YO(n))return}catch{}Jt(e,"unauthorized-domain")}function YO(e){const t=Uf(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!KO.test(n))return!1;if(GO.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=new Fl(3e4,6e4);function t0(){const e=Tn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function JO(e){return new Promise((t,n)=>{var r,i,s;function o(){t0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{t0(),n(kn(e,"network-request-failed"))},timeout:QO.get()})}if(!((i=(r=Tn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=Tn().gapi)===null||s===void 0)&&s.load)o();else{const l=MP("iframefcb");return Tn()[l]=()=>{gapi.load?o():n(kn(e,"network-request-failed"))},WC(`https://apis.google.com/js/api.js?onload=${l}`).catch(a=>n(a))}}).catch(t=>{throw ja=null,t})}let ja=null;function XO(e){return ja=ja||JO(e),ja}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=new Fl(5e3,15e3),eD="__/auth/iframe",tD="emulator/auth/iframe",nD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iD(e){const t=e.config;B(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Hg(t,tD):`https://${e.config.authDomain}/${eD}`,r={apiKey:t.apiKey,appName:e.name,v:Ni},i=rD.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ls(r).slice(1)}`}async function sD(e){const t=await XO(e),n=Tn().gapi;return B(n,e,"internal-error"),t.open({where:document.body,url:iD(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nD,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=kn(e,"network-request-failed"),l=Tn().setTimeout(()=>{s(o)},ZO.get());function a(){Tn().clearTimeout(l),i(r)}r.ping(a).then(a,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lD=500,aD=600,uD="_blank",cD="http://localhost";class n0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dD(e,t,n,r=lD,i=aD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const a=Object.assign(Object.assign({},oD),{width:r.toString(),height:i.toString(),top:s,left:o}),u=it().toLowerCase();n&&(l=FC(u)?uD:n),MC(u)&&(t=t||cD,a.scrollbars="yes");const c=Object.entries(a).reduce((h,[p,y])=>`${h}${p}=${y},`,"");if(AP(u)&&l!=="_self")return hD(t||"",l),new n0(null);const d=window.open(t||"",l,c);B(d,e,"popup-blocked");try{d.focus()}catch{}return new n0(d)}function hD(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="__/auth/handler",pD="emulator/auth/handler",gD=encodeURIComponent("fac");async function r0(e,t,n,r,i,s){B(e.config.authDomain,e,"auth-domain-config-required"),B(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ni,eventId:i};if(t instanceof jc){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Cf(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(t instanceof Ul){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const l=o;for(const c of Object.keys(l))l[c]===void 0&&delete l[c];const a=await e._getAppCheckToken(),u=a?`#${gD}=${encodeURIComponent(a)}`:"";return`${mD(e)}?${Ls(l).slice(1)}${u}`}function mD({config:e}){return e.emulator?Hg(e,pD):`https://${e.authDomain}/${fD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="webStorageSupport";class vD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eS,this._completeRedirectFn=BO,this._overrideRedirectResult=jO}async _openPopup(t,n,r,i){var s;Jn((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await r0(t,n,r,Uf(),i);return dD(t,o,Qg())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await r0(t,n,r,Uf(),i);return _O(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Jn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await sD(t),r=new zO(t);return n.register("authEvent",i=>(B(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Qd,{type:Qd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Qd];o!==void 0&&n(!!o),Jt(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return $C()||Kg()||Fc()}}const yD=vD;var i0="@firebase/auth",s0="1.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function ED(e){fn(new Yt("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;B(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const a={apiKey:o,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zC(e)},u=new bP(r,i,s,a);return $P(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),fn(new Yt("auth-internal",t=>{const n=nr(t.getProvider("auth").getImmediate());return(r=>new _D(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ct(i0,s0,wD(e)),Ct(i0,s0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=5*60,SD=dE("authIdTokenMaxAge")||CD;let o0=null;const ID=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SD)return;const i=n==null?void 0:n.token;o0!==i&&(o0=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function kD(e=mg()){const t=Ri(e,"auth");if(t.isInitialized())return t.getImmediate();const n=BP(e,{popupRedirectResolver:yD,persistence:[RO,mO,eS]}),r=dE("authTokenSyncURL");if(r){const s=ID(r);dO(n,s,()=>s(n.currentUser)),YC(n,o=>s(o))}const i=uE("auth");return i&&zP(n,`http://${i}`),n}ED("Browser");var TD="firebase",AD="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ct(TD,AD,"app");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function RD(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})}function ND(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(c){return a([u,c])}}function a(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ji=function(){return Ji=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ji.apply(this,arguments)},uS=function(e){return{loading:e==null,value:e}},xD=function(){return function(e,t){switch(t.type){case"error":return Ji(Ji({},e),{error:t.error,loading:!1,value:void 0});case"reset":return uS(t.defaultValue);case"value":return Ji(Ji({},e),{error:void 0,loading:!1,value:t.value});default:return e}}},PD=function(e){var t=e?e():void 0,n=T.useReducer(xD(),uS(t)),r=n[0],i=n[1],s=T.useCallback(function(){var a=e?e():void 0;i({type:"reset",defaultValue:a})},[e]),o=T.useCallback(function(a){i({type:"error",error:a})},[]),l=T.useCallback(function(a){i({type:"value",value:a})},[]);return T.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:l,value:r.value}},[r.error,r.loading,s,o,l,r.value])},OD=function(e,t){var n=PD(function(){return e.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,l=n.value;return T.useEffect(function(){var a=QC(e,function(u){return RD(void 0,void 0,void 0,function(){var c;return ND(this,function(d){switch(d.label){case 0:if(!(t!=null&&t.onUserChanged))return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,t.onUserChanged(u)];case 2:return d.sent(),[3,4];case 3:return c=d.sent(),s(c),[3,4];case 4:return o(u),[2]}})})},s);return function(){a()}},[e]),[l,i,r]};const DD=(e,t)=>t.some(n=>e instanceof n);let l0,a0;function bD(){return l0||(l0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LD(){return a0||(a0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cS=new WeakMap,$f=new WeakMap,dS=new WeakMap,Jd=new WeakMap,Zg=new WeakMap;function MD(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Ar(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&cS.set(n,e)}).catch(()=>{}),Zg.set(t,e),t}function FD(e){if($f.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});$f.set(e,t)}let zf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return $f.get(e);if(t==="objectStoreNames")return e.objectStoreNames||dS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ar(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function jD(e){zf=e(zf)}function UD(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Xd(this),t,...n);return dS.set(r,t.sort?t.sort():[t]),Ar(r)}:LD().includes(e)?function(...t){return e.apply(Xd(this),t),Ar(cS.get(this))}:function(...t){return Ar(e.apply(Xd(this),t))}}function VD(e){return typeof e=="function"?UD(e):(e instanceof IDBTransaction&&FD(e),DD(e,bD())?new Proxy(e,zf):e)}function Ar(e){if(e instanceof IDBRequest)return MD(e);if(Jd.has(e))return Jd.get(e);const t=VD(e);return t!==e&&(Jd.set(e,t),Zg.set(t,e)),t}const Xd=e=>Zg.get(e);function BD(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=Ar(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Ar(o.result),a.oldVersion,a.newVersion,Ar(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",()=>i())}).catch(()=>{}),l}const $D=["get","getKey","getAll","getAllKeys","count"],zD=["put","add","delete","clear"],Zd=new Map;function u0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Zd.get(t))return Zd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=zD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$D.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return Zd.set(t,s),s}jD(e=>({...e,get:(t,n,r)=>u0(t,n)||e.get(t,n,r),has:(t,n)=>!!u0(t,n)||e.has(t,n)}));const hS="@firebase/installations",em="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=1e4,pS=`w:${em}`,gS="FIS_v2",WD="https://firebaseinstallations.googleapis.com/v1",HD=60*60*1e3,GD="installations",KD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},vi=new Ai(GD,KD,qD);function mS(e){return e instanceof pn&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS({projectId:e}){return`${WD}/projects/${e}/installations`}function yS(e){return{token:e.token,requestStatus:2,expiresIn:QD(e.expiresIn),creationTime:Date.now()}}async function _S(e,t){const r=(await t.json()).error;return vi.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function wS({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function YD(e,{refreshToken:t}){const n=wS(e);return n.append("Authorization",JD(t)),n}async function ES(e){const t=await e();return t.status>=500&&t.status<600?e():t}function QD(e){return Number(e.replace("s","000"))}function JD(e){return`${gS} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=vS(e),i=wS(e),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:gS,appId:e.appId,sdkVersion:pS},l={method:"POST",headers:i,body:JSON.stringify(o)},a=await ES(()=>fetch(r,l));if(a.ok){const u=await a.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:yS(u.authToken)}}else throw await _S("Create Installation",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=/^[cdef][\w-]{21}$/,Wf="";function tb(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=nb(e);return eb.test(n)?n:Wf}catch{return Wf}}function nb(e){return ZD(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=new Map;function IS(e,t){const n=Bc(e);kS(n,t),rb(n,t)}function kS(e,t){const n=SS.get(e);if(n)for(const r of n)r(t)}function rb(e,t){const n=ib();n&&n.postMessage({key:e,fid:t}),sb()}let ni=null;function ib(){return!ni&&"BroadcastChannel"in self&&(ni=new BroadcastChannel("[Firebase] FID Change"),ni.onmessage=e=>{kS(e.data.key,e.data.fid)}),ni}function sb(){SS.size===0&&ni&&(ni.close(),ni=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="firebase-installations-database",lb=1,yi="firebase-installations-store";let eh=null;function tm(){return eh||(eh=BD(ob,lb,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(yi)}}})),eh}async function Pu(e,t){const n=Bc(e),i=(await tm()).transaction(yi,"readwrite"),s=i.objectStore(yi),o=await s.get(n);return await s.put(t,n),await i.done,(!o||o.fid!==t.fid)&&IS(e,t.fid),t}async function TS(e){const t=Bc(e),r=(await tm()).transaction(yi,"readwrite");await r.objectStore(yi).delete(t),await r.done}async function $c(e,t){const n=Bc(e),i=(await tm()).transaction(yi,"readwrite"),s=i.objectStore(yi),o=await s.get(n),l=t(o);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&IS(e,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nm(e){let t;const n=await $c(e.appConfig,r=>{const i=ab(r),s=ub(e,i);return t=s.registrationPromise,s.installationEntry});return n.fid===Wf?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function ab(e){const t=e||{fid:tb(),registrationStatus:0};return AS(t)}function ub(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(vi.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=cb(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:db(e)}:{installationEntry:t}}async function cb(e,t){try{const n=await XD(e,t);return Pu(e.appConfig,n)}catch(n){throw mS(n)&&n.customData.serverCode===409?await TS(e.appConfig):await Pu(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function db(e){let t=await c0(e.appConfig);for(;t.registrationStatus===1;)await CS(100),t=await c0(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await nm(e);return r||n}return t}function c0(e){return $c(e,t=>{if(!t)throw vi.create("installation-not-found");return AS(t)})}function AS(e){return hb(e)?{fid:e.fid,registrationStatus:0}:e}function hb(e){return e.registrationStatus===1&&e.registrationTime+fS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb({appConfig:e,heartbeatServiceProvider:t},n){const r=pb(e,n),i=YD(e,n),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:pS,appId:e.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},a=await ES(()=>fetch(r,l));if(a.ok){const u=await a.json();return yS(u)}else throw await _S("Generate Auth Token",a)}function pb(e,{fid:t}){return`${vS(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rm(e,t=!1){let n;const r=await $c(e.appConfig,s=>{if(!RS(s))throw vi.create("not-registered");const o=s.authToken;if(!t&&vb(o))return s;if(o.requestStatus===1)return n=gb(e,t),s;{if(!navigator.onLine)throw vi.create("app-offline");const l=_b(s);return n=mb(e,l),l}});return n?await n:r.authToken}async function gb(e,t){let n=await d0(e.appConfig);for(;n.authToken.requestStatus===1;)await CS(100),n=await d0(e.appConfig);const r=n.authToken;return r.requestStatus===0?rm(e,t):r}function d0(e){return $c(e,t=>{if(!RS(t))throw vi.create("not-registered");const n=t.authToken;return wb(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function mb(e,t){try{const n=await fb(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Pu(e.appConfig,r),n}catch(n){if(mS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await TS(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Pu(e.appConfig,r)}throw n}}function RS(e){return e!==void 0&&e.registrationStatus===2}function vb(e){return e.requestStatus===2&&!yb(e)}function yb(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+HD}function _b(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function wb(e){return e.requestStatus===1&&e.requestTime+fS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb(e){const t=e,{installationEntry:n,registrationPromise:r}=await nm(t);return r?r.catch(console.error):rm(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cb(e,t=!1){const n=e;return await Sb(n),(await rm(n,t)).token}async function Sb(e){const{registrationPromise:t}=await nm(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(e){if(!e||!e.options)throw th("App Configuration");if(!e.name)throw th("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw th(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function th(e){return vi.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="installations",kb="installations-internal",Tb=e=>{const t=e.getProvider("app").getImmediate(),n=Ib(t),r=Ri(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Ab=e=>{const t=e.getProvider("app").getImmediate(),n=Ri(t,NS).getImmediate();return{getId:()=>Eb(n),getToken:i=>Cb(n,i)}};function Rb(){fn(new Yt(NS,Tb,"PUBLIC")),fn(new Yt(kb,Ab,"PRIVATE"))}Rb();Ct(hS,em);Ct(hS,em,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou="analytics",Nb="firebase_id",xb="origin",Pb=60*1e3,Ob="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",im="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St=new Rl("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bt=new Ai("analytics","Analytics",Db);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(e){if(!e.startsWith(im)){const t=bt.create("invalid-gtag-resource",{gtagURL:e});return St.warn(t.message),""}return e}function xS(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function Lb(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function Mb(e,t){const n=Lb("firebase-js-sdk-policy",{createScriptURL:bb}),r=document.createElement("script"),i=`${im}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Fb(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function jb(e,t,n,r,i,s){const o=r[i];try{if(o)await t[o];else{const a=(await xS(n)).find(u=>u.measurementId===i);a&&await t[a.appId]}}catch(l){St.error(l)}e("config",i,s)}async function Ub(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await xS(n);for(const a of o){const u=l.find(d=>d.measurementId===a),c=u&&t[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(s){St.error(s)}}function Vb(e,t,n,r){async function i(s,...o){try{if(s==="event"){const[l,a]=o;await Ub(e,t,n,l,a)}else if(s==="config"){const[l,a]=o;await jb(e,t,n,r,l,a)}else if(s==="consent"){const[l]=o;e("consent","update",l)}else if(s==="get"){const[l,a,u]=o;e("get",l,a,u)}else if(s==="set"){const[l]=o;e("set",l)}else e(s,...o)}catch(l){St.error(l)}}return i}function Bb(e,t,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Vb(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function $b(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(im)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=30,Wb=1e3;class Hb{constructor(t={},n=Wb){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const PS=new Hb;function Gb(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Kb(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Gb(r)},s=Ob.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let l="";try{const a=await o.json();!((t=a.error)===null||t===void 0)&&t.message&&(l=a.error.message)}catch{}throw bt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function qb(e,t=PS,n){const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw bt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw bt.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new Jb;return setTimeout(async()=>{l.abort()},n!==void 0?n:Pb),OS({appId:r,apiKey:i,measurementId:s},o,l,t)}async function OS(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=PS){var s;const{appId:o,measurementId:l}=e;try{await Yb(r,t)}catch(a){if(l)return St.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${a==null?void 0:a.message}]`),{appId:o,measurementId:l};throw a}try{const a=await Kb(e);return i.deleteThrottleMetadata(o),a}catch(a){const u=a;if(!Qb(u)){if(i.deleteThrottleMetadata(o),l)return St.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw a}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?vy(n,i.intervalMillis,zb):vy(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),St.debug(`Calling attemptFetch again in ${c} millis`),OS(e,d,r,i)}}function Yb(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(bt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Qb(e){if(!(e instanceof pn)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class Jb{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function Xb(e,t,n,r,i){if(i&&i.global){e("event",n,r);return}else{const s=await t,o=Object.assign(Object.assign({},r),{send_to:s});e("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(){if(gE())try{await mE()}catch(e){return St.warn(bt.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return St.warn(bt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function e4(e,t,n,r,i,s,o){var l;const a=qb(e);a.then(p=>{n[p.measurementId]=p.appId,e.options.measurementId&&p.measurementId!==e.options.measurementId&&St.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>St.error(p)),t.push(a);const u=Zb().then(p=>{if(p)return r.getId()}),[c,d]=await Promise.all([a,u]);$b(s)||Mb(s,c.measurementId),i("js",new Date);const h=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return h[xb]="firebase",h.update=!0,d!=null&&(h[Nb]=d),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(t){this.app=t}_delete(){return delete Ao[this.app.options.appId],Promise.resolve()}}let Ao={},h0=[];const f0={};let nh="dataLayer",n4="gtag",p0,DS,g0=!1;function r4(){const e=[];if(hE()&&e.push("This is a browser extension environment."),_R()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=bt.create("invalid-analytics-context",{errorInfo:t});St.warn(n.message)}}function i4(e,t,n){r4();const r=e.options.appId;if(!r)throw bt.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)St.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bt.create("no-api-key");if(Ao[r]!=null)throw bt.create("already-exists",{id:r});if(!g0){Fb(nh);const{wrappedGtag:s,gtagCore:o}=Bb(Ao,h0,f0,nh,n4);DS=s,p0=o,g0=!0}return Ao[r]=e4(e,h0,f0,t,p0,nh,n),new t4(e)}function s4(e=mg()){e=De(e);const t=Ri(e,Ou);return t.isInitialized()?t.getImmediate():o4(e)}function o4(e,t={}){const n=Ri(e,Ou);if(n.isInitialized()){const i=n.getImmediate();if(Xo(t,n.getOptions()))return i;throw bt.create("already-initialized")}return n.initialize({options:t})}function l4(e,t,n,r){e=De(e),Xb(DS,Ao[e.app.options.appId],t,n,r).catch(i=>St.error(i))}const m0="@firebase/analytics",v0="0.10.0";function a4(){fn(new Yt(Ou,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return i4(r,i,n)},"PUBLIC")),fn(new Yt("analytics-internal",e,"PRIVATE")),Ct(m0,v0),Ct(m0,v0,"esm2017");function e(t){try{const n=t.getProvider(Ou).getImmediate();return{logEvent:(r,i,s)=>l4(n,r,i,s)}}catch(n){throw bt.create("interop-component-reg-failed",{reason:n})}}}a4();var y0={};const _0="@firebase/database",w0="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bS="";function u4(e){bS=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Pe(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Jo(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Rn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new c4(t)}}catch{}return new d4},ri=LS("localStorage"),Hf=LS("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Rl("@firebase/database"),h4=function(){let e=1;return function(){return e++}}(),MS=function(e){const t=NR(e),n=new kR;n.update(t);const r=n.digest();return hg.encodeByteArray(r)},Bl=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Bl.apply(null,r):typeof r=="object"?t+=Pe(r):t+=r,t+=" "}return t};let ai=null,E0=!0;const f4=function(e,t){P(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(ds.logLevel=ne.VERBOSE,ai=ds.log.bind(ds),t&&Hf.set("logging_enabled",!0)):typeof e=="function"?ai=e:(ai=null,Hf.remove("logging_enabled"))},We=function(...e){if(E0===!0&&(E0=!1,ai===null&&Hf.get("logging_enabled")===!0&&f4(!0)),ai){const t=Bl.apply(null,e);ai(t)}},$l=function(e){return function(...t){We(e,...t)}},Gf=function(...e){const t="FIREBASE INTERNAL ERROR: "+Bl(...e);ds.error(t)},Xn=function(...e){const t=`FIREBASE FATAL ERROR: ${Bl(...e)}`;throw ds.error(t),new Error(t)},dt=function(...e){const t="FIREBASE WARNING: "+Bl(...e);ds.warn(t)},p4=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&dt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},sm=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},g4=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ss="[MIN_NAME]",_i="[MAX_NAME]",xi=function(e,t){if(e===t)return 0;if(e===Ss||t===_i)return-1;if(t===Ss||e===_i)return 1;{const n=C0(e),r=C0(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},m4=function(e,t){return e===t?0:e<t?-1:1},Zs=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Pe(t))},om=function(e){if(typeof e!="object"||e===null)return Pe(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Pe(t[r]),n+=":",n+=om(e[t[r]]);return n+="}",n},FS=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Ye(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const jS=function(e){P(!sm(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,l,a;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,o=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=t;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(a=0;a<64;a+=8){let h=parseInt(c.substr(a,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},v4=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},y4=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function _4(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const w4=new RegExp("^-?(0*)\\d{1,10}$"),E4=-2147483648,C4=2147483647,C0=function(e){if(w4.test(e)){const t=Number(e);if(t>=E4&&t<=C4)return t}return null},Vs=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw dt("Exception was thrown by user callback.",n),t},Math.floor(0))}},S4=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ro=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){dt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(We("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',dt(t)}}class hs{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}hs.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="5",US="v",VS="s",BS="r",$S="f",zS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,WS="ls",HS="p",Kf="ac",GS="websocket",KS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(t,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ri.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ri.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function T4(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function YS(e,t,n){P(typeof t=="string","typeof type must == string"),P(typeof n=="object","typeof params must == object");let r;if(t===GS)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===KS)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);T4(e)&&(n.ns=e.namespace);const i=[];return Ye(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this.counters_={}}incrementCounter(t,n=1){Rn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return cR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh={},ih={};function am(e){const t=e.toString();return rh[t]||(rh[t]=new A4),rh[t]}function R4(e,t){const n=e.toString();return ih[n]||(ih[n]=t()),ih[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Vs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="start",x4="close",P4="pLPCommand",O4="pRTLPCB",QS="id",JS="pw",XS="ser",D4="cb",b4="seg",L4="ts",M4="d",F4="dframe",ZS=1870,eI=30,j4=ZS-eI,U4=25e3,V4=3e4;class Xi{constructor(t,n,r,i,s,o,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$l(t),this.stats_=am(n),this.urlFn=a=>(this.appCheckToken&&(a[Kf]=this.appCheckToken),YS(n,KS,a))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new N4(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(V4)),g4(()=>{if(this.isClosed_)return;this.scriptTagHolder=new um((...s)=>{const[o,l,a,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===S0)this.id=l,this.password=a;else if(o===x4)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[S0]="t",r[XS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[D4]=this.scriptTagHolder.uniqueCallbackIdentifier),r[US]=lm,this.transportSessionId&&(r[VS]=this.transportSessionId),this.lastSessionId&&(r[WS]=this.lastSessionId),this.applicationId&&(r[HS]=this.applicationId),this.appCheckToken&&(r[Kf]=this.appCheckToken),typeof location<"u"&&location.hostname&&zS.test(location.hostname)&&(r[BS]=$S);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xi.forceAllow_=!0}static forceDisallow(){Xi.forceDisallow_=!0}static isAvailable(){return Xi.forceAllow_?!0:!Xi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!v4()&&!y4()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Pe(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=lE(n),i=FS(r,j4);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[F4]="t",r[QS]=t,r[JS]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Pe(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class um{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=h4(),window[P4+this.uniqueCallbackIdentifier]=t,window[O4+this.uniqueCallbackIdentifier]=n,this.myIFrame=um.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){We("frame writing exception"),l.stack&&We(l.stack),We(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||We("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[QS]=this.myID,t[JS]=this.myPW,t[XS]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+eI+r.length<=ZS;){const o=this.pendingSegs.shift();r=r+"&"+b4+i+"="+o.seg+"&"+L4+i+"="+o.ts+"&"+M4+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(U4)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{We("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=16384,$4=45e3;let Du=null;typeof MozWebSocket<"u"?Du=MozWebSocket:typeof WebSocket<"u"&&(Du=WebSocket);class sn{constructor(t,n,r,i,s,o,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$l(this.connId),this.stats_=am(n),this.connURL=sn.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[US]=lm,typeof location<"u"&&location.hostname&&zS.test(location.hostname)&&(o[BS]=$S),n&&(o[VS]=n),r&&(o[WS]=r),i&&(o[Kf]=i),s&&(o[HS]=s),YS(t,GS,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ri.set("previous_websocket_failure",!0);try{let r;pE(),this.mySock=new Du(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){sn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Du!==null&&!sn.forceDisallow_}static previouslyFailed(){return ri.isInMemoryStorage||ri.get("previous_websocket_failure")===!0}markConnectionHealthy(){ri.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Jo(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(P(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=Pe(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=FS(n,B4);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor($4))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}sn.responsesRequiredToBeHealthy=2;sn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Xi,sn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=sn&&sn.isAvailable();let r=n&&!sn.previouslyFailed();if(t.webSocketOnly&&(n||dt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[sn];else{const i=this.transports_=[];for(const s of dl.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);dl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}dl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=6e4,W4=5e3,H4=10*1024,G4=100*1024,sh="t",I0="d",K4="s",k0="r",q4="e",T0="o",A0="a",R0="n",N0="p",Y4="h";class Q4{constructor(t,n,r,i,s,o,l,a,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$l("c:"+this.id+":"),this.transportManager_=new dl(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ro(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>G4?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>H4?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(sh in t){const n=t[sh];n===A0?this.upgradeIfSecondaryHealthy_():n===k0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===T0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Zs("t",t),r=Zs("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:N0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:A0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:R0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Zs("t",t),r=Zs("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Zs(sh,t);if(I0 in t){const r=t[I0];if(n===Y4){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===R0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===K4?this.onConnectionShutdown_(r):n===k0?this.onReset_(r):n===q4?Gf("Server Error: "+r):n===T0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Gf("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),lm!==r&&dt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ro(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(z4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ro(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(W4))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:N0,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ri.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t){this.allowedEvents_=t,this.listeners_={},P(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){P(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends nI{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!pg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new bu}getInitialEvent(t){return P(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=32,P0=768;class se{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function te(){return new se("")}function q(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Or(e){return e.pieces_.length-e.pieceNum_}function le(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new se(e.pieces_,t)}function cm(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function J4(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function hl(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function rI(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new se(t,0)}function we(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof se)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new se(n,0)}function Q(e){return e.pieceNum_>=e.pieces_.length}function ut(e,t){const n=q(e),r=q(t);if(n===null)return t;if(n===r)return ut(le(e),le(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function X4(e,t){const n=hl(e,0),r=hl(t,0);for(let i=0;i<n.length&&i<r.length;i++){const s=xi(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function dm(e,t){if(Or(e)!==Or(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ht(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Or(e)>Or(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Z4{constructor(t,n){this.errorPrefix_=n,this.parts_=hl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ec(this.parts_[r]);iI(this)}}function eL(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ec(t),iI(e)}function tL(e){const t=e.parts_.pop();e.byteLength_-=Ec(t),e.parts_.length>0&&(e.byteLength_-=1)}function iI(e){if(e.byteLength_>P0)throw new Error(e.errorPrefix_+"has a key path longer than "+P0+" bytes ("+e.byteLength_+").");if(e.parts_.length>x0)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+x0+") or object contains a cycle "+Kr(e))}function Kr(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm extends nI{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new hm}getInitialEvent(t){return P(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=1e3,nL=60*5*1e3,O0=30*1e3,rL=1.3,iL=3e4,sL="server_kill",D0=3;class Wn extends tI{constructor(t,n,r,i,s,o,l,a){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Wn.nextPersistentConnectionId_++,this.log_=$l("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=eo,this.maxReconnectDelay_=nL,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!pE())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");hm.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&bu.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(Pe(s)),P(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new Al,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),P(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),P(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;Wn.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,a))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Rn(t,"w")){const r=Es(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();dt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||IR(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=O0)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=SR(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),P(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Pe(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Gf("Unrecognized action received from server: "+Pe(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){P(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=eo,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=eo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>iL&&(this.reconnectDelay_=eo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*rL)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Wn.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(d){P(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?We("getToken() completed but was canceled"):(We("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,l=new Q4(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,p=>{dt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(sL)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&dt(d),a())}}}interrupt(t){We("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){We("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Cf(this.interruptReasons_)&&(this.reconnectDelay_=eo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>om(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new se(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){We("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=D0&&(this.reconnectDelay_=O0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){We("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=D0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+bS.replace(/\./g,"-")]=1,pg()?t["framework.cordova"]=1:fE()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=bu.getInstance().currentlyOnline();return Cf(this.interruptReasons_)&&t}}Wn.nextPersistentConnectionId_=0;Wn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new Y(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new Y(Ss,t),i=new Y(Ss,n);return this.compare(r,i)!==0}minPost(){return Y.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _a;class sI extends zc{static get __EMPTY_NODE(){return _a}static set __EMPTY_NODE(t){_a=t}compare(t,n){return xi(t.name,n.name)}isDefinedOn(t){throw bs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Y.MIN}maxPost(){return new Y(_i,_a)}makePost(t,n){return P(typeof t=="string","KeyIndex indexValue must always be a string."),new Y(t,_a)}toString(){return".key"}}const fs=new sI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Me{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Me.RED,this.left=i??yt.EMPTY_NODE,this.right=s??yt.EMPTY_NODE}copy(t,n,r,i,s){return new Me(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return yt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return yt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Me.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Me.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Me.RED=!0;Me.BLACK=!1;class oL{copy(t,n,r,i,s){return this}insert(t,n,r){return new Me(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class yt{constructor(t,n=yt.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new yt(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Me.BLACK,null,null))}remove(t){return new yt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Me.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new wa(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new wa(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new wa(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new wa(this.root_,null,this.comparator_,!0,t)}}yt.EMPTY_NODE=new oL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(e,t){return xi(e.name,t.name)}function fm(e,t){return xi(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qf;function aL(e){qf=e}const oI=function(e){return typeof e=="number"?"number:"+jS(e):"string:"+e},lI=function(e){if(e.isLeafNode()){const t=e.val();P(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Rn(t,".sv"),"Priority must be a string or number.")}else P(e===qf||e.isEmpty(),"priority of unexpected type.");P(e===qf||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b0;class be{constructor(t,n=be.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,P(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),lI(this.priorityNode_)}static set __childrenNodeConstructor(t){b0=t}static get __childrenNodeConstructor(){return b0}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new be(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:be.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Q(t)?this:q(t)===".priority"?this.priorityNode_:be.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:be.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=q(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(P(r!==".priority"||Or(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,be.__childrenNodeConstructor.EMPTY_NODE.updateChild(le(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+oI(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=jS(this.value_):t+=this.value_,this.lazyHash_=MS(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===be.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof be.__childrenNodeConstructor?-1:(P(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=be.VALUE_TYPE_ORDER.indexOf(n),s=be.VALUE_TYPE_ORDER.indexOf(r);return P(i>=0,"Unknown leaf type: "+n),P(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}be.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aI,uI;function uL(e){aI=e}function cL(e){uI=e}class dL extends zc{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?xi(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Y.MIN}maxPost(){return new Y(_i,new be("[PRIORITY-POST]",uI))}makePost(t,n){const r=aI(t);return new Y(n,new be("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ee=new dL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=Math.log(2);class fL{constructor(t){const n=s=>parseInt(Math.log(s)/hL,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Lu=function(e,t,n,r){e.sort(t);const i=function(a,u){const c=u-a;let d,h;if(c===0)return null;if(c===1)return d=e[a],h=n?n(d):d,new Me(h,d.node,Me.BLACK,null,null);{const p=parseInt(c/2,10)+a,y=i(a,p),w=i(p+1,u);return d=e[p],h=n?n(d):d,new Me(h,d.node,Me.BLACK,y,w)}},s=function(a){let u=null,c=null,d=e.length;const h=function(y,w){const C=d-y,m=d;d-=y;const f=i(C+1,m),v=e[C],E=n?n(v):v;p(new Me(E,v.node,w,null,f))},p=function(y){u?(u.left=y,u=y):(c=y,u=y)};for(let y=0;y<a.count;++y){const w=a.nextBitIsOne(),C=Math.pow(2,a.count-(y+1));w?h(C,Me.BLACK):(h(C,Me.BLACK),h(C,Me.RED))}return c},o=new fL(e.length),l=s(o);return new yt(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh;const Mi={};class $n{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return P(Mi&&Ee,"ChildrenNode.ts has not been loaded"),oh=oh||new $n({".priority":Mi},{".priority":Ee}),oh}get(t){const n=Es(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof yt?n:null}hasIndex(t){return Rn(this.indexSet_,t.toString())}addIndex(t,n){P(t!==fs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Y.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Lu(r,t.getCompare()):l=Mi;const a=t.toString(),u=Object.assign({},this.indexSet_);u[a]=t;const c=Object.assign({},this.indexes_);return c[a]=l,new $n(c,u)}addToIndexes(t,n){const r=mu(this.indexes_,(i,s)=>{const o=Es(this.indexSet_,s);if(P(o,"Missing index implementation for "+s),i===Mi)if(o.isDefinedOn(t.node)){const l=[],a=n.getIterator(Y.Wrap);let u=a.getNext();for(;u;)u.name!==t.name&&l.push(u),u=a.getNext();return l.push(t),Lu(l,o.getCompare())}else return Mi;else{const l=n.get(t.name);let a=i;return l&&(a=a.remove(new Y(t.name,l))),a.insert(t,t.node)}});return new $n(r,this.indexSet_)}removeFromIndexes(t,n){const r=mu(this.indexes_,i=>{if(i===Mi)return i;{const s=n.get(t.name);return s?i.remove(new Y(t.name,s)):i}});return new $n(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to;class ${constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&lI(this.priorityNode_),this.children_.isEmpty()&&P(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return to||(to=new $(new yt(fm),null,$n.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||to}updatePriority(t){return this.children_.isEmpty()?this:new $(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?to:n}}getChild(t){const n=q(t);return n===null?this:this.getImmediateChild(n).getChild(le(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(P(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new Y(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?to:this.priorityNode_;return new $(i,o,s)}}updateChild(t,n){const r=q(t);if(r===null)return n;{P(q(t)!==".priority"||Or(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(le(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ee,(o,l)=>{n[o]=l.val(t),r++,s&&$.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+oI(this.getPriority().val())+":"),this.forEachChild(Ee,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":MS(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Y(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new Y(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new Y(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,Y.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,Y.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===zl?-1:0}withIndex(t){if(t===fs||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new $(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===fs||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ee),i=n.getIterator(Ee);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===fs?null:this.indexMap_.get(t.toString())}}$.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class pL extends ${constructor(){super(new yt(fm),$.EMPTY_NODE,$n.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return $.EMPTY_NODE}isEmpty(){return!1}}const zl=new pL;Object.defineProperties(Y,{MIN:{value:new Y(Ss,$.EMPTY_NODE)},MAX:{value:new Y(_i,zl)}});sI.__EMPTY_NODE=$.EMPTY_NODE;be.__childrenNodeConstructor=$;aL(zl);cL(zl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=!0;function xe(e,t=null){if(e===null)return $.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),P(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new be(n,xe(t))}if(!(e instanceof Array)&&gL){const n=[];let r=!1;if(Ye(e,(o,l)=>{if(o.substring(0,1)!=="."){const a=xe(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new Y(o,a)))}}),n.length===0)return $.EMPTY_NODE;const s=Lu(n,lL,o=>o.name,fm);if(r){const o=Lu(n,Ee.getCompare());return new $(s,xe(t),new $n({".priority":o},{".priority":Ee}))}else return new $(s,xe(t),$n.Default)}else{let n=$.EMPTY_NODE;return Ye(e,(r,i)=>{if(Rn(e,r)&&r.substring(0,1)!=="."){const s=xe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(xe(t))}}uL(xe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL extends zc{constructor(t){super(),this.indexPath_=t,P(!Q(t)&&q(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?xi(t.name,n.name):s}makePost(t,n){const r=xe(t),i=$.EMPTY_NODE.updateChild(this.indexPath_,r);return new Y(n,i)}maxPost(){const t=$.EMPTY_NODE.updateChild(this.indexPath_,zl);return new Y(_i,t)}toString(){return hl(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL extends zc{compare(t,n){const r=t.node.compareTo(n.node);return r===0?xi(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Y.MIN}maxPost(){return Y.MAX}makePost(t,n){const r=xe(t);return new Y(n,r)}toString(){return".value"}}const yL=new vL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(e){return{type:"value",snapshotNode:e}}function Is(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function fl(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function pl(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function _L(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){P(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(fl(n,l)):P(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Is(n,r)):o.trackChildChange(pl(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Ee,(i,s)=>{n.hasChild(i)||r.trackChildChange(fl(i,s))}),n.isLeafNode()||n.forEachChild(Ee,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(pl(i,s,o))}else r.trackChildChange(Is(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?$.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(t){this.indexedFilter_=new pm(t.getIndex()),this.index_=t.getIndex(),this.startPost_=gl.getStartPost_(t),this.endPost_=gl.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new Y(n,r))||(r=$.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=$.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority($.EMPTY_NODE);const s=this;return n.forEachChild(Ee,(o,l)=>{s.matches(new Y(o,l))||(i=i.updateImmediateChild(o,$.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new gl(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new Y(n,r))||(r=$.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=$.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=$.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority($.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,$.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,p)=>d(p,h)}else o=this.index_.getCompare();const l=t;P(l.numChildren()===this.limit_,"");const a=new Y(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(l.hasChild(n)){const d=l.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||l.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:o(h,a);if(c&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(pl(n,r,d)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(fl(n,d));const w=l.updateImmediateChild(n,$.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(Is(h.name,h.node)),w.updateImmediateChild(h.name,h.node)):w}}else return r.isEmpty()?t:c&&o(u,a)>=0?(s!=null&&(s.trackChildChange(fl(u.name,u.node)),s.trackChildChange(Is(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,$.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ee}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return P(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return P(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ss}hasEnd(){return this.endSet_}getIndexEndValue(){return P(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return P(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_i}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return P(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ee}copy(){const t=new gm;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function EL(e){return e.loadsAllData()?new pm(e.getIndex()):e.hasLimit()?new wL(e):new gl(e)}function L0(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Ee?n="$priority":e.index_===yL?n="$value":e.index_===fs?n="$key":(P(e.index_ instanceof mL,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Pe(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Pe(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Pe(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Pe(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Pe(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function M0(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Ee&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends tI{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=$l("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(P(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=Mu.getListenId_(t,r),l={};this.listens_[o]=l;const a=L0(t._queryParams);this.restRequest_(s+".json",a,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Es(this.listens_,o)===l){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(t,n){const r=Mu.getListenId_(t,n);delete this.listens_[r]}get(t){const n=L0(t._queryParams),r=t._path.toString(),i=new Al;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Ls(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Jo(l.responseText)}catch{dt("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&dt("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.rootNode_=$.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(){return{value:null,children:new Map}}function dI(e,t,n){if(Q(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=q(t);e.children.has(r)||e.children.set(r,Fu());const i=e.children.get(r);t=le(t),dI(i,t,n)}}function Yf(e,t,n){e.value!==null?n(t,e.value):SL(e,(r,i)=>{const s=new se(t.toString()+"/"+r);Yf(i,s,n)})}function SL(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Ye(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=10*1e3,kL=30*1e3,TL=5*60*1e3;class AL{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new IL(t);const r=F0+(kL-F0)*Math.random();Ro(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Ye(t,(i,s)=>{s>0&&Rn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ro(this.reportStats_.bind(this),Math.floor(Math.random()*2*TL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(an||(an={}));function mm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function vm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ym(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=an.ACK_USER_WRITE,this.source=mm()}operationForChild(t){if(Q(this.path)){if(this.affectedTree.value!=null)return P(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new se(t));return new ju(te(),n,this.revert)}}else return P(q(this.path)===t,"operationForChild called for unrelated child."),new ju(le(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(t,n){this.source=t,this.path=n,this.type=an.LISTEN_COMPLETE}operationForChild(t){return Q(this.path)?new ml(this.source,te()):new ml(this.source,le(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=an.OVERWRITE}operationForChild(t){return Q(this.path)?new wi(this.source,te(),this.snap.getImmediateChild(t)):new wi(this.source,le(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=an.MERGE}operationForChild(t){if(Q(this.path)){const n=this.children.subtree(new se(t));return n.isEmpty()?null:n.value?new wi(this.source,te(),n.value):new ks(this.source,te(),n)}else return P(q(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ks(this.source,le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Q(t))return this.isFullyInitialized()&&!this.filtered_;const n=q(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function NL(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(_L(o.childName,o.snapshotNode))}),no(e,i,"child_removed",t,r,n),no(e,i,"child_added",t,r,n),no(e,i,"child_moved",s,r,n),no(e,i,"child_changed",t,r,n),no(e,i,"value",t,r,n),i}function no(e,t,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>PL(e,l,a)),o.forEach(l=>{const a=xL(e,l,s);i.forEach(u=>{u.respondsTo(l.type)&&t.push(u.createEvent(a,e.query_))})})}function xL(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function PL(e,t,n){if(t.childName==null||n.childName==null)throw bs("Should only compare child_ events.");const r=new Y(t.childName,t.snapshotNode),i=new Y(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(e,t){return{eventCache:e,serverCache:t}}function No(e,t,n,r){return Wc(new Dr(t,n,r),e.serverCache)}function hI(e,t,n,r){return Wc(e.eventCache,new Dr(t,n,r))}function Uu(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ei(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh;const OL=()=>(lh||(lh=new yt(m4)),lh);class oe{constructor(t,n=OL()){this.value=t,this.children=n}static fromObject(t){let n=new oe(null);return Ye(t,(r,i)=>{n=n.set(new se(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:te(),value:this.value};if(Q(t))return null;{const r=q(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(le(t),n);return s!=null?{path:we(new se(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Q(t))return this;{const n=q(t),r=this.children.get(n);return r!==null?r.subtree(le(t)):new oe(null)}}set(t,n){if(Q(t))return new oe(n,this.children);{const r=q(t),s=(this.children.get(r)||new oe(null)).set(le(t),n),o=this.children.insert(r,s);return new oe(this.value,o)}}remove(t){if(Q(t))return this.children.isEmpty()?new oe(null):new oe(null,this.children);{const n=q(t),r=this.children.get(n);if(r){const i=r.remove(le(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new oe(null):new oe(this.value,s)}else return this}}get(t){if(Q(t))return this.value;{const n=q(t),r=this.children.get(n);return r?r.get(le(t)):null}}setTree(t,n){if(Q(t))return n;{const r=q(t),s=(this.children.get(r)||new oe(null)).setTree(le(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new oe(this.value,o)}}fold(t){return this.fold_(te(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(we(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,te(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Q(t))return null;{const s=q(t),o=this.children.get(s);return o?o.findOnPath_(le(t),we(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,te(),n)}foreachOnPath_(t,n,r){if(Q(t))return this;{this.value&&r(n,this.value);const i=q(t),s=this.children.get(i);return s?s.foreachOnPath_(le(t),we(n,i),r):new oe(null)}}foreach(t){this.foreach_(te(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(we(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.writeTree_=t}static empty(){return new dn(new oe(null))}}function xo(e,t,n){if(Q(t))return new dn(new oe(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=ut(i,t);return s=s.updateChild(o,n),new dn(e.writeTree_.set(i,s))}else{const i=new oe(n),s=e.writeTree_.setTree(t,i);return new dn(s)}}}function Qf(e,t,n){let r=e;return Ye(n,(i,s)=>{r=xo(r,we(t,i),s)}),r}function j0(e,t){if(Q(t))return dn.empty();{const n=e.writeTree_.setTree(t,new oe(null));return new dn(n)}}function Jf(e,t){return Pi(e,t)!=null}function Pi(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(ut(n.path,t)):null}function U0(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ee,(r,i)=>{t.push(new Y(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new Y(r,i.value))}),t}function Rr(e,t){if(Q(t))return e;{const n=Pi(e,t);return n!=null?new dn(new oe(n)):new dn(e.writeTree_.subtree(t))}}function Xf(e){return e.writeTree_.isEmpty()}function Ts(e,t){return fI(te(),e.writeTree_,t)}function fI(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(P(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=fI(we(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(we(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(e,t){return vI(t,e)}function DL(e,t,n,r,i){P(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=xo(e.visibleWrites,t,n)),e.lastWriteId=r}function bL(e,t,n,r){P(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Qf(e.visibleWrites,t,n),e.lastWriteId=r}function LL(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function ML(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);P(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const l=e.allWrites[o];l.visible&&(o>=n&&FL(l,r.path)?i=!1:Ht(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return jL(e),!0;if(r.snap)e.visibleWrites=j0(e.visibleWrites,r.path);else{const l=r.children;Ye(l,a=>{e.visibleWrites=j0(e.visibleWrites,we(r.path,a))})}return!0}else return!1}function FL(e,t){if(e.snap)return Ht(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Ht(we(e.path,n),t))return!0;return!1}function jL(e){e.visibleWrites=pI(e.allWrites,UL,te()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function UL(e){return e.visible}function pI(e,t,n){let r=dn.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let l;if(s.snap)Ht(n,o)?(l=ut(n,o),r=xo(r,l,s.snap)):Ht(o,n)&&(l=ut(o,n),r=xo(r,te(),s.snap.getChild(l)));else if(s.children){if(Ht(n,o))l=ut(n,o),r=Qf(r,l,s.children);else if(Ht(o,n))if(l=ut(o,n),Q(l))r=Qf(r,te(),s.children);else{const a=Es(s.children,q(l));if(a){const u=a.getChild(le(l));r=xo(r,te(),u)}}}else throw bs("WriteRecord should have .snap or .children")}}return r}function gI(e,t,n,r,i){if(!r&&!i){const s=Pi(e.visibleWrites,t);if(s!=null)return s;{const o=Rr(e.visibleWrites,t);if(Xf(o))return n;if(n==null&&!Jf(o,te()))return null;{const l=n||$.EMPTY_NODE;return Ts(o,l)}}}else{const s=Rr(e.visibleWrites,t);if(!i&&Xf(s))return n;if(!i&&n==null&&!Jf(s,te()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ht(u.path,t)||Ht(t,u.path))},l=pI(e.allWrites,o,t),a=n||$.EMPTY_NODE;return Ts(l,a)}}}function VL(e,t,n){let r=$.EMPTY_NODE;const i=Pi(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ee,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Rr(e.visibleWrites,t);return n.forEachChild(Ee,(o,l)=>{const a=Ts(Rr(s,new se(o)),l);r=r.updateImmediateChild(o,a)}),U0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Rr(e.visibleWrites,t);return U0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function BL(e,t,n,r,i){P(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=we(t,n);if(Jf(e.visibleWrites,s))return null;{const o=Rr(e.visibleWrites,s);return Xf(o)?i.getChild(n):Ts(o,i.getChild(n))}}function $L(e,t,n,r){const i=we(t,n),s=Pi(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Rr(e.visibleWrites,i);return Ts(o,r.getNode().getImmediateChild(n))}else return null}function zL(e,t){return Pi(e.visibleWrites,t)}function WL(e,t,n,r,i,s,o){let l;const a=Rr(e.visibleWrites,t),u=Pi(a,te());if(u!=null)l=u;else if(n!=null)l=Ts(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const c=[],d=o.getCompare(),h=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let p=h.getNext();for(;p&&c.length<i;)d(p,r)!==0&&c.push(p),p=h.getNext();return c}else return[]}function HL(){return{visibleWrites:dn.empty(),allWrites:[],lastWriteId:-1}}function Vu(e,t,n,r){return gI(e.writeTree,e.treePath,t,n,r)}function _m(e,t){return VL(e.writeTree,e.treePath,t)}function V0(e,t,n,r){return BL(e.writeTree,e.treePath,t,n,r)}function Bu(e,t){return zL(e.writeTree,we(e.treePath,t))}function GL(e,t,n,r,i,s){return WL(e.writeTree,e.treePath,t,n,r,i,s)}function wm(e,t,n){return $L(e.writeTree,e.treePath,t,n)}function mI(e,t){return vI(we(e.treePath,t),e.writeTree)}function vI(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;P(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),P(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,pl(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,fl(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Is(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,pl(r,t.snapshotNode,i.oldSnap));else throw bs("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const yI=new qL;class Em{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Dr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wm(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ei(this.viewCache_),s=GL(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(e){return{filter:e}}function QL(e,t){P(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),P(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function JL(e,t,n,r,i){const s=new KL;let o,l;if(n.type===an.OVERWRITE){const u=n;u.source.fromUser?o=Zf(e,t,u.path,u.snap,r,i,s):(P(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!Q(u.path),o=$u(e,t,u.path,u.snap,r,i,l,s))}else if(n.type===an.MERGE){const u=n;u.source.fromUser?o=ZL(e,t,u.path,u.children,r,i,s):(P(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered(),o=ep(e,t,u.path,u.children,r,i,l,s))}else if(n.type===an.ACK_USER_WRITE){const u=n;u.revert?o=n3(e,t,u.path,r,i,s):o=e3(e,t,u.path,u.affectedTree,r,i,s)}else if(n.type===an.LISTEN_COMPLETE)o=t3(e,t,n.path,r,s);else throw bs("Unknown operation type: "+n.type);const a=s.getChanges();return XL(t,o,a),{viewCache:o,changes:a}}function XL(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Uu(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(cI(Uu(t)))}}function _I(e,t,n,r,i,s){const o=t.eventCache;if(Bu(r,n)!=null)return t;{let l,a;if(Q(n))if(P(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=Ei(t),c=u instanceof $?u:$.EMPTY_NODE,d=_m(r,c);l=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{const u=Vu(r,Ei(t));l=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=q(n);if(u===".priority"){P(Or(n)===1,"Can't have a priority with additional path components");const c=o.getNode();a=t.serverCache.getNode();const d=V0(r,n,c,a);d!=null?l=e.filter.updatePriority(c,d):l=o.getNode()}else{const c=le(n);let d;if(o.isCompleteForChild(u)){a=t.serverCache.getNode();const h=V0(r,n,o.getNode(),a);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=wm(r,u,t.serverCache);d!=null?l=e.filter.updateChild(o.getNode(),u,d,c,i,s):l=o.getNode()}}return No(t,l,o.isFullyInitialized()||Q(n),e.filter.filtersNodes())}}function $u(e,t,n,r,i,s,o,l){const a=t.serverCache;let u;const c=o?e.filter:e.filter.getIndexedFilter();if(Q(n))u=c.updateFullNode(a.getNode(),r,null);else if(c.filtersNodes()&&!a.isFiltered()){const p=a.getNode().updateChild(n,r);u=c.updateFullNode(a.getNode(),p,null)}else{const p=q(n);if(!a.isCompleteForPath(n)&&Or(n)>1)return t;const y=le(n),C=a.getNode().getImmediateChild(p).updateChild(y,r);p===".priority"?u=c.updatePriority(a.getNode(),C):u=c.updateChild(a.getNode(),p,C,y,yI,null)}const d=hI(t,u,a.isFullyInitialized()||Q(n),c.filtersNodes()),h=new Em(i,d,s);return _I(e,d,n,i,h,l)}function Zf(e,t,n,r,i,s,o){const l=t.eventCache;let a,u;const c=new Em(i,t,s);if(Q(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),a=No(t,u,!0,e.filter.filtersNodes());else{const d=q(n);if(d===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),a=No(t,u,l.isFullyInitialized(),l.isFiltered());else{const h=le(n),p=l.getNode().getImmediateChild(d);let y;if(Q(h))y=r;else{const w=c.getCompleteChild(d);w!=null?cm(h)===".priority"&&w.getChild(rI(h)).isEmpty()?y=w:y=w.updateChild(h,r):y=$.EMPTY_NODE}if(p.equals(y))a=t;else{const w=e.filter.updateChild(l.getNode(),d,y,h,c,o);a=No(t,w,l.isFullyInitialized(),e.filter.filtersNodes())}}}return a}function B0(e,t){return e.eventCache.isCompleteForChild(t)}function ZL(e,t,n,r,i,s,o){let l=t;return r.foreach((a,u)=>{const c=we(n,a);B0(t,q(c))&&(l=Zf(e,l,c,u,i,s,o))}),r.foreach((a,u)=>{const c=we(n,a);B0(t,q(c))||(l=Zf(e,l,c,u,i,s,o))}),l}function $0(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function ep(e,t,n,r,i,s,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let a=t,u;Q(n)?u=r:u=new oe(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const p=t.serverCache.getNode().getImmediateChild(d),y=$0(e,p,h);a=$u(e,a,new se(d),y,i,s,o,l)}}),u.children.inorderTraversal((d,h)=>{const p=!t.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!p){const y=t.serverCache.getNode().getImmediateChild(d),w=$0(e,y,h);a=$u(e,a,new se(d),w,i,s,o,l)}}),a}function e3(e,t,n,r,i,s,o){if(Bu(i,n)!=null)return t;const l=t.serverCache.isFiltered(),a=t.serverCache;if(r.value!=null){if(Q(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return $u(e,t,n,a.getNode().getChild(n),i,s,l,o);if(Q(n)){let u=new oe(null);return a.getNode().forEachChild(fs,(c,d)=>{u=u.set(new se(c),d)}),ep(e,t,n,u,i,s,l,o)}else return t}else{let u=new oe(null);return r.foreach((c,d)=>{const h=we(n,c);a.isCompleteForPath(h)&&(u=u.set(c,a.getNode().getChild(h)))}),ep(e,t,n,u,i,s,l,o)}}function t3(e,t,n,r,i){const s=t.serverCache,o=hI(t,s.getNode(),s.isFullyInitialized()||Q(n),s.isFiltered());return _I(e,o,n,r,yI,i)}function n3(e,t,n,r,i,s){let o;if(Bu(r,n)!=null)return t;{const l=new Em(r,t,i),a=t.eventCache.getNode();let u;if(Q(n)||q(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=Vu(r,Ei(t));else{const d=t.serverCache.getNode();P(d instanceof $,"serverChildren would be complete if leaf node"),c=_m(r,d)}c=c,u=e.filter.updateFullNode(a,c,s)}else{const c=q(n);let d=wm(r,c,t.serverCache);d==null&&t.serverCache.isCompleteForChild(c)&&(d=a.getImmediateChild(c)),d!=null?u=e.filter.updateChild(a,c,d,le(n),l,s):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(a,c,$.EMPTY_NODE,le(n),l,s):u=a,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Vu(r,Ei(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||Bu(r,te())!=null,No(t,u,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new pm(r.getIndex()),s=EL(r);this.processor_=YL(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode($.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode($.EMPTY_NODE,l.getNode(),null),c=new Dr(a,o.isFullyInitialized(),i.filtersNodes()),d=new Dr(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Wc(d,c),this.eventGenerator_=new RL(this.query_)}get query(){return this.query_}}function i3(e){return e.viewCache_.serverCache.getNode()}function s3(e){return Uu(e.viewCache_)}function o3(e,t){const n=Ei(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Q(t)&&!n.getImmediateChild(q(t)).isEmpty())?n.getChild(t):null}function z0(e){return e.eventRegistrations_.length===0}function l3(e,t){e.eventRegistrations_.push(t)}function W0(e,t,n){const r=[];if(n){P(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function H0(e,t,n,r){t.type===an.MERGE&&t.source.queryId!==null&&(P(Ei(e.viewCache_),"We should always have a full cache before handling merges"),P(Uu(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=JL(e.processor_,i,t,n,r);return QL(e.processor_,s.viewCache),P(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,wI(e,s.changes,s.viewCache.eventCache.getNode(),null)}function a3(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ee,(s,o)=>{r.push(Is(s,o))}),n.isFullyInitialized()&&r.push(cI(n.getNode())),wI(e,r,n.getNode(),t)}function wI(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return NL(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu;class EI{constructor(){this.views=new Map}}function u3(e){P(!zu,"__referenceConstructor has already been defined"),zu=e}function c3(){return P(zu,"Reference.ts has not been loaded"),zu}function d3(e){return e.views.size===0}function Cm(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return P(s!=null,"SyncTree gave us an op for an invalid query."),H0(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(H0(o,t,n,r));return s}}function CI(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let l=Vu(n,i?r:null),a=!1;l?a=!0:r instanceof $?(l=_m(n,r),a=!1):(l=$.EMPTY_NODE,a=!1);const u=Wc(new Dr(l,a,!1),new Dr(r,i,!1));return new r3(t,u)}return o}function h3(e,t,n,r,i,s){const o=CI(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),l3(o,n),a3(o,n)}function f3(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const l=br(e);if(i==="default")for(const[a,u]of e.views.entries())o=o.concat(W0(u,n,r)),z0(u)&&(e.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=e.views.get(i);a&&(o=o.concat(W0(a,n,r)),z0(a)&&(e.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!br(e)&&s.push(new(c3())(t._repo,t._path)),{removed:s,events:o}}function SI(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Nr(e,t){let n=null;for(const r of e.views.values())n=n||o3(r,t);return n}function II(e,t){if(t._queryParams.loadsAllData())return Gc(e);{const r=t._queryIdentifier;return e.views.get(r)}}function kI(e,t){return II(e,t)!=null}function br(e){return Gc(e)!=null}function Gc(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu;function p3(e){P(!Wu,"__referenceConstructor has already been defined"),Wu=e}function g3(){return P(Wu,"Reference.ts has not been loaded"),Wu}let m3=1;class G0{constructor(t){this.listenProvider_=t,this.syncPointTree_=new oe(null),this.pendingWriteTree_=HL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function TI(e,t,n,r,i){return DL(e.pendingWriteTree_,t,n,r,i),i?Bs(e,new wi(mm(),t,n)):[]}function v3(e,t,n,r){bL(e.pendingWriteTree_,t,n,r);const i=oe.fromObject(n);return Bs(e,new ks(mm(),t,i))}function gr(e,t,n=!1){const r=LL(e.pendingWriteTree_,t);if(ML(e.pendingWriteTree_,t)){let s=new oe(null);return r.snap!=null?s=s.set(te(),!0):Ye(r.children,o=>{s=s.set(new se(o),!0)}),Bs(e,new ju(r.path,s,n))}else return[]}function Wl(e,t,n){return Bs(e,new wi(vm(),t,n))}function y3(e,t,n){const r=oe.fromObject(n);return Bs(e,new ks(vm(),t,r))}function _3(e,t){return Bs(e,new ml(vm(),t))}function w3(e,t,n){const r=Im(e,n);if(r){const i=km(r),s=i.path,o=i.queryId,l=ut(s,t),a=new ml(ym(o),l);return Tm(e,s,a)}else return[]}function Hu(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let l=[];if(o&&(t._queryIdentifier==="default"||kI(o,t))){const a=f3(o,t,n,r);d3(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const c=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(s,(h,p)=>br(p));if(c&&!d){const h=e.syncPointTree_.subtree(s);if(!h.isEmpty()){const p=S3(h);for(let y=0;y<p.length;++y){const w=p[y],C=w.query,m=xI(e,w);e.listenProvider_.startListening(Po(C),vl(e,C),m.hashFn,m.onComplete)}}}!d&&u.length>0&&!r&&(c?e.listenProvider_.stopListening(Po(t),null):u.forEach(h=>{const p=e.queryToTagMap.get(Kc(h));e.listenProvider_.stopListening(Po(h),p)}))}I3(e,u)}return l}function AI(e,t,n,r){const i=Im(e,r);if(i!=null){const s=km(i),o=s.path,l=s.queryId,a=ut(o,t),u=new wi(ym(l),a,n);return Tm(e,o,u)}else return[]}function E3(e,t,n,r){const i=Im(e,r);if(i){const s=km(i),o=s.path,l=s.queryId,a=ut(o,t),u=oe.fromObject(n),c=new ks(ym(l),a,u);return Tm(e,o,c)}else return[]}function tp(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(h,p)=>{const y=ut(h,i);s=s||Nr(p,y),o=o||br(p)});let l=e.syncPointTree_.get(i);l?(o=o||br(l),s=s||Nr(l,te())):(l=new EI,e.syncPointTree_=e.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=$.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((p,y)=>{const w=Nr(y,te());w&&(s=s.updateImmediateChild(p,w))}));const u=kI(l,t);if(!u&&!t._queryParams.loadsAllData()){const h=Kc(t);P(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=k3();e.queryToTagMap.set(h,p),e.tagToQueryMap.set(p,h)}const c=Hc(e.pendingWriteTree_,i);let d=h3(l,t,n,c,s,a);if(!u&&!o&&!r){const h=II(l,t);d=d.concat(T3(e,t,h))}return d}function Sm(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,l)=>{const a=ut(o,t),u=Nr(l,a);if(u)return u});return gI(i,t,s,n,!0)}function C3(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=ut(u,n);r=r||Nr(c,d)});let i=e.syncPointTree_.get(n);i?r=r||Nr(i,te()):(i=new EI,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=r!=null,o=s?new Dr(r,!0,!1):null,l=Hc(e.pendingWriteTree_,t._path),a=CI(i,t,l,s?o.getNode():$.EMPTY_NODE,s);return s3(a)}function Bs(e,t){return RI(t,e.syncPointTree_,null,Hc(e.pendingWriteTree_,te()))}function RI(e,t,n,r){if(Q(e.path))return NI(e,t,n,r);{const i=t.get(te());n==null&&i!=null&&(n=Nr(i,te()));let s=[];const o=q(e.path),l=e.operationForChild(o),a=t.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,c=mI(r,o);s=s.concat(RI(l,a,u,c))}return i&&(s=s.concat(Cm(i,e,r,n))),s}}function NI(e,t,n,r){const i=t.get(te());n==null&&i!=null&&(n=Nr(i,te()));let s=[];return t.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=mI(r,o),c=e.operationForChild(o);c&&(s=s.concat(NI(c,l,a,u)))}),i&&(s=s.concat(Cm(i,e,r,n))),s}function xI(e,t){const n=t.query,r=vl(e,n);return{hashFn:()=>(i3(t)||$.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?w3(e,n._path,r):_3(e,n._path);{const s=_4(i,n);return Hu(e,n,null,s)}}}}function vl(e,t){const n=Kc(t);return e.queryToTagMap.get(n)}function Kc(e){return e._path.toString()+"$"+e._queryIdentifier}function Im(e,t){return e.tagToQueryMap.get(t)}function km(e){const t=e.indexOf("$");return P(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new se(e.substr(0,t))}}function Tm(e,t,n){const r=e.syncPointTree_.get(t);P(r,"Missing sync point for query tag that we're tracking");const i=Hc(e.pendingWriteTree_,t);return Cm(r,n,i,null)}function S3(e){return e.fold((t,n,r)=>{if(n&&br(n))return[Gc(n)];{let i=[];return n&&(i=SI(n)),Ye(r,(s,o)=>{i=i.concat(o)}),i}})}function Po(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(g3())(e._repo,e._path):e}function I3(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=Kc(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function k3(){return m3++}function T3(e,t,n){const r=t._path,i=vl(e,t),s=xI(e,n),o=e.listenProvider_.startListening(Po(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)P(!br(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,c,d)=>{if(!Q(u)&&c&&br(c))return[Gc(c).query];{let h=[];return c&&(h=h.concat(SI(c).map(p=>p.query))),Ye(d,(p,y)=>{h=h.concat(y)}),h}});for(let u=0;u<a.length;++u){const c=a[u];e.listenProvider_.stopListening(Po(c),vl(e,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Am(n)}node(){return this.node_}}class Rm{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=we(this.path_,t);return new Rm(this.syncTree_,n)}node(){return Sm(this.syncTree_,this.path_)}}const A3=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},K0=function(e,t,n){if(!e||typeof e!="object")return e;if(P(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return R3(e[".sv"],t,n);if(typeof e[".sv"]=="object")return N3(e[".sv"],t);P(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},R3=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:P(!1,"Unexpected server value: "+e)}},N3=function(e,t,n){e.hasOwnProperty("increment")||P(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&P(!1,"Unexpected increment value: "+r);const i=t.node();if(P(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},PI=function(e,t,n,r){return Nm(t,new Rm(n,e),r)},OI=function(e,t,n){return Nm(e,new Am(t),n)};function Nm(e,t,n){const r=e.getPriority().val(),i=K0(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,l=K0(o.getValue(),t,n);return l!==o.getValue()||i!==o.getPriority().val()?new be(l,xe(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new be(i))),o.forEachChild(Ee,(l,a)=>{const u=Nm(a,t.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Pm(e,t){let n=t instanceof se?t:new se(t),r=e,i=q(n);for(;i!==null;){const s=Es(r.node.children,i)||{children:{},childCount:0};r=new xm(i,r,s),n=le(n),i=q(n)}return r}function $s(e){return e.node.value}function DI(e,t){e.node.value=t,np(e)}function bI(e){return e.node.childCount>0}function x3(e){return $s(e)===void 0&&!bI(e)}function qc(e,t){Ye(e.node.children,(n,r)=>{t(new xm(n,e,r))})}function LI(e,t,n,r){n&&!r&&t(e),qc(e,i=>{LI(i,t,!0,r)}),n&&r&&t(e)}function P3(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Hl(e){return new se(e.parent===null?e.name:Hl(e.parent)+"/"+e.name)}function np(e){e.parent!==null&&O3(e.parent,e.name,e)}function O3(e,t,n){const r=x3(n),i=Rn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,np(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,np(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=/[\[\].#$\/\u0000-\u001F\u007F]/,b3=/[\[\].#$\u0000-\u001F\u007F]/,ah=10*1024*1024,Om=function(e){return typeof e=="string"&&e.length!==0&&!D3.test(e)},MI=function(e){return typeof e=="string"&&e.length!==0&&!b3.test(e)},L3=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),MI(e)},M3=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!sm(e)||e&&typeof e=="object"&&Rn(e,".sv")},F3=function(e,t,n,r){r&&t===void 0||Yc(wc(e,"value"),t,n)},Yc=function(e,t,n){const r=n instanceof se?new Z4(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Kr(r));if(typeof t=="function")throw new Error(e+"contains a function "+Kr(r)+" with contents = "+t.toString());if(sm(t))throw new Error(e+"contains "+t.toString()+" "+Kr(r));if(typeof t=="string"&&t.length>ah/3&&Ec(t)>ah)throw new Error(e+"contains a string greater than "+ah+" utf8 bytes "+Kr(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(Ye(t,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Om(o)))throw new Error(e+" contains an invalid key ("+o+") "+Kr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);eL(r,o),Yc(e,l,r),tL(r)}),i&&s)throw new Error(e+' contains ".value" child '+Kr(r)+" in addition to actual children.")}},j3=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=hl(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Om(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(X4);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&Ht(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},U3=function(e,t,n,r){if(r&&t===void 0)return;const i=wc(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];Ye(t,(o,l)=>{const a=new se(o);if(Yc(i,l,we(n,a)),cm(a)===".priority"&&!M3(l))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(a)}),j3(i,s)},FI=function(e,t,n,r){if(!(r&&n===void 0)&&!MI(n))throw new Error(wc(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},V3=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),FI(e,t,n,r)},B3=function(e,t){if(q(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},$3=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Om(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!L3(n))throw new Error(wc(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qc(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!dm(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function jI(e,t,n){Qc(e,n),UI(e,r=>dm(r,t))}function Xt(e,t,n){Qc(e,n),UI(e,r=>Ht(r,t)||Ht(t,r))}function UI(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(W3(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function W3(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();ai&&We("event: "+n.toString()),Vs(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3="repo_interrupt",G3=25;class K3{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new z3,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Fu(),this.transactionQueueTree_=new xm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function q3(e,t,n){if(e.stats_=am(e.repoInfo_),e.forceRestClient_||S4())e.server_=new Mu(e.repoInfo_,(r,i,s,o)=>{q0(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Y0(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Pe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Wn(e.repoInfo_,t,(r,i,s,o)=>{q0(e,r,i,s,o)},r=>{Y0(e,r)},r=>{Q3(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=R4(e.repoInfo_,()=>new AL(e.stats_,e.server_)),e.infoData_=new CL,e.infoSyncTree_=new G0({startListening:(r,i,s,o)=>{let l=[];const a=e.infoData_.getNode(r._path);return a.isEmpty()||(l=Wl(e.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Dm(e,"connected",!1),e.serverSyncTree_=new G0({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);Xt(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function Y3(e){const n=e.infoData_.getNode(new se(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Jc(e){return A3({timestamp:Y3(e)})}function q0(e,t,n,r,i){e.dataUpdateCount++;const s=new se(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const a=mu(n,u=>xe(u));o=E3(e.serverSyncTree_,s,a,i)}else{const a=xe(n);o=AI(e.serverSyncTree_,s,a,i)}else if(r){const a=mu(n,u=>xe(u));o=y3(e.serverSyncTree_,s,a)}else{const a=xe(n);o=Wl(e.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=As(e,s)),Xt(e.eventQueue_,l,o)}function Y0(e,t){Dm(e,"connected",t),t===!1&&eM(e)}function Q3(e,t){Ye(t,(n,r)=>{Dm(e,n,r)})}function Dm(e,t,n){const r=new se("/.info/"+t),i=xe(n);e.infoData_.updateSnapshot(r,i);const s=Wl(e.infoSyncTree_,r,i);Xt(e.eventQueue_,r,s)}function bm(e){return e.nextWriteId_++}function J3(e,t,n){const r=C3(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const s=xe(i).withIndex(t._queryParams.getIndex());tp(e.serverSyncTree_,t,n,!0);let o;if(t._queryParams.loadsAllData())o=Wl(e.serverSyncTree_,t._path,s);else{const l=vl(e.serverSyncTree_,t);o=AI(e.serverSyncTree_,t._path,s,l)}return Xt(e.eventQueue_,t._path,o),Hu(e.serverSyncTree_,t,n,null,!0),s},i=>(Gl(e,"get for query "+Pe(t)+" failed: "+i),Promise.reject(new Error(i))))}function X3(e,t,n,r,i){Gl(e,"set",{path:t.toString(),value:n,priority:r});const s=Jc(e),o=xe(n,r),l=Sm(e.serverSyncTree_,t),a=OI(o,l,s),u=bm(e),c=TI(e.serverSyncTree_,t,a,u,!0);Qc(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(h,p)=>{const y=h==="ok";y||dt("set at "+t+" failed: "+h);const w=gr(e.serverSyncTree_,u,!y);Xt(e.eventQueue_,t,w),rp(e,i,h,p)});const d=Mm(e,t);As(e,d),Xt(e.eventQueue_,d,[])}function Z3(e,t,n,r){Gl(e,"update",{path:t.toString(),value:n});let i=!0;const s=Jc(e),o={};if(Ye(n,(l,a)=>{i=!1,o[l]=PI(we(t,l),xe(a),e.serverSyncTree_,s)}),i)We("update() called with empty data.  Don't do anything."),rp(e,r,"ok",void 0);else{const l=bm(e),a=v3(e.serverSyncTree_,t,o,l);Qc(e.eventQueue_,a),e.server_.merge(t.toString(),n,(u,c)=>{const d=u==="ok";d||dt("update at "+t+" failed: "+u);const h=gr(e.serverSyncTree_,l,!d),p=h.length>0?As(e,t):t;Xt(e.eventQueue_,p,h),rp(e,r,u,c)}),Ye(n,u=>{const c=Mm(e,we(t,u));As(e,c)}),Xt(e.eventQueue_,t,[])}}function eM(e){Gl(e,"onDisconnectEvents");const t=Jc(e),n=Fu();Yf(e.onDisconnect_,te(),(i,s)=>{const o=PI(i,s,e.serverSyncTree_,t);dI(n,i,o)});let r=[];Yf(n,te(),(i,s)=>{r=r.concat(Wl(e.serverSyncTree_,i,s));const o=Mm(e,i);As(e,o)}),e.onDisconnect_=Fu(),Xt(e.eventQueue_,te(),r)}function tM(e,t,n){let r;q(t._path)===".info"?r=tp(e.infoSyncTree_,t,n):r=tp(e.serverSyncTree_,t,n),jI(e.eventQueue_,t._path,r)}function Q0(e,t,n){let r;q(t._path)===".info"?r=Hu(e.infoSyncTree_,t,n):r=Hu(e.serverSyncTree_,t,n),jI(e.eventQueue_,t._path,r)}function nM(e){e.persistentConnection_&&e.persistentConnection_.interrupt(H3)}function Gl(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),We(n,...t)}function rp(e,t,n,r){t&&Vs(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function VI(e,t,n){return Sm(e.serverSyncTree_,t,n)||$.EMPTY_NODE}function Lm(e,t=e.transactionQueueTree_){if(t||Xc(e,t),$s(t)){const n=$I(e,t);P(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&rM(e,Hl(t),n)}else bI(t)&&qc(t,n=>{Lm(e,n)})}function rM(e,t,n){const r=n.map(u=>u.currentWriteId),i=VI(e,t,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];P(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=ut(t,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const l=s.val(!0),a=t;e.server_.put(a.toString(),l,u=>{Gl(e,"transaction put response",{path:a.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(gr(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Xc(e,Pm(e.transactionQueueTree_,t)),Lm(e,e.transactionQueueTree_),Xt(e.eventQueue_,t,c);for(let h=0;h<d.length;h++)Vs(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{dt("transaction at "+a.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}As(e,t)}},o)}function As(e,t){const n=BI(e,t),r=Hl(n),i=$I(e,n);return iM(e,i,r),r}function iM(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const a=t[l],u=ut(n,a.path);let c=!1,d;if(P(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)c=!0,d=a.abortReason,i=i.concat(gr(e.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=G3)c=!0,d="maxretry",i=i.concat(gr(e.serverSyncTree_,a.currentWriteId,!0));else{const h=VI(e,a.path,o);a.currentInputSnapshot=h;const p=t[l].update(h.val());if(p!==void 0){Yc("transaction failed: Data returned ",p,a.path);let y=xe(p);typeof p=="object"&&p!=null&&Rn(p,".priority")||(y=y.updatePriority(h.getPriority()));const C=a.currentWriteId,m=Jc(e),f=OI(y,h,m);a.currentOutputSnapshotRaw=y,a.currentOutputSnapshotResolved=f,a.currentWriteId=bm(e),o.splice(o.indexOf(C),1),i=i.concat(TI(e.serverSyncTree_,a.path,f,a.currentWriteId,a.applyLocally)),i=i.concat(gr(e.serverSyncTree_,C,!0))}else c=!0,d="nodata",i=i.concat(gr(e.serverSyncTree_,a.currentWriteId,!0))}Xt(e.eventQueue_,n,i),i=[],c&&(t[l].status=2,function(h){setTimeout(h,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(d==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(d),!1,null))))}Xc(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Vs(r[l]);Lm(e,e.transactionQueueTree_)}function BI(e,t){let n,r=e.transactionQueueTree_;for(n=q(t);n!==null&&$s(r)===void 0;)r=Pm(r,n),t=le(t),n=q(t);return r}function $I(e,t){const n=[];return zI(e,t,n),n.sort((r,i)=>r.order-i.order),n}function zI(e,t,n){const r=$s(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);qc(t,i=>{zI(e,i,n)})}function Xc(e,t){const n=$s(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,DI(t,n.length>0?n:void 0)}qc(t,r=>{Xc(e,r)})}function Mm(e,t){const n=Hl(BI(e,t)),r=Pm(e.transactionQueueTree_,t);return P3(r,i=>{uh(e,i)}),uh(e,r),LI(r,i=>{uh(e,i)}),n}function uh(e,t){const n=$s(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(P(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(P(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(gr(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?DI(t,void 0):n.length=s+1,Xt(e.eventQueue_,Hl(t),i);for(let o=0;o<r.length;o++)Vs(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function oM(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):dt(`Invalid query segment '${n}' in query '${e}'`)}return t}const J0=function(e,t){const n=lM(e),r=n.namespace;n.domain==="firebase.com"&&Xn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||p4();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new qS(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new se(n.pathString)}},lM=function(e){let t="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=sM(e.substring(c,d)));const h=oM(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(t.substring(u+1),10)):u=t.length;const p=t.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const y=t.indexOf(".");r=t.substring(0,y).toLowerCase(),n=t.substring(y+1),s=r}"ns"in h&&(s=h.ns)}return{host:t,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Pe(this.snapshot.exportVal())}}class HI{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return P(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Q(this._path)?null:cm(this._path)}get ref(){return new xn(this._repo,this._path)}get _queryIdentifier(){const t=M0(this._queryParams),n=om(t);return n==="{}"?"default":n}get _queryObject(){return M0(this._queryParams)}isEqual(t){if(t=De(t),!(t instanceof Fm))return!1;const n=this._repo===t._repo,r=dm(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+J4(this._path)}}class xn extends Fm{constructor(t,n){super(t,n,new gm,!1)}get parent(){const t=rI(this._path);return t===null?null:new xn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Rs{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new se(t),r=yl(this.ref,t);return new Rs(this._node.getChild(n),r,Ee)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new Rs(i,yl(this.ref,r),Ee)))}hasChild(t){const n=new se(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Zc(e,t){return e=De(e),e._checkNotDeleted("ref"),t!==void 0?yl(e._root,t):e._root}function yl(e,t){return e=De(e),q(e._path)===null?V3("child","path",t,!1):FI("child","path",t,!1),new xn(e._repo,we(e._path,t))}function aM(e,t){e=De(e),B3("set",e._path),F3("set",t,e._path,!1);const n=new Al;return X3(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function uM(e,t){U3("update",t,e._path,!1);const n=new Al;return Z3(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function cM(e){e=De(e);const t=new GI(()=>{}),n=new ed(t);return J3(e._repo,e,n).then(r=>new Rs(r,new xn(e._repo,e._path),e._queryParams.getIndex()))}class ed{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new WI("value",this,new Rs(t.snapshotNode,new xn(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new HI(this,t,n):null}matches(t){return t instanceof ed?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class jm{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new HI(this,t,n):null}createEvent(t,n){P(t.childName!=null,"Child events should have a childName.");const r=yl(new xn(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new WI(t.type,this,new Rs(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof jm?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function dM(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const a=n,u=(c,d)=>{Q0(e._repo,e,l),a(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new GI(n,s||void 0),l=t==="value"?new ed(o):new jm(t,o);return tM(e._repo,e,l),()=>Q0(e._repo,e,l)}function hM(e,t,n,r){return dM(e,"value",t,n,r)}u3(xn);p3(xn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM="FIREBASE_DATABASE_EMULATOR_HOST",ip={};let pM=!1;function gM(e,t,n,r){e.repoInfo_=new qS(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function mM(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),We("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=J0(s,i),l=o.repoInfo,a,u;typeof process<"u"&&y0&&(u=y0[fM]),u?(a=!0,s=`http://${u}?ns=${l.namespace}`,o=J0(s,i),l=o.repoInfo):a=!o.repoInfo.secure;const c=i&&a?new hs(hs.OWNER):new k4(e.name,e.options,t);$3("Invalid Firebase Database URL",o),Q(o.path)||Xn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=yM(l,e,c,new I4(e.name,n));return new _M(d,e)}function vM(e,t){const n=ip[t];(!n||n[e.key]!==e)&&Xn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),nM(e),delete n[e.key]}function yM(e,t,n,r){let i=ip[t.name];i||(i={},ip[t.name]=i);let s=i[e.toURLString()];return s&&Xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new K3(e,pM,n,r),i[e.toURLString()]=s,s}class _M{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(q3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new xn(this._repo,te())),this._rootInternal}_delete(){return this._rootInternal!==null&&(vM(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Xn("Cannot call "+t+" on a deleted database.")}}function wM(e=mg(),t){const n=Ri(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=mR("database");r&&EM(n,...r)}return n}function EM(e,t,n,r={}){e=De(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Xn("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new hs(hs.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:vR(r.mockUserToken,e.app.options.projectId);s=new hs(o)}gM(i,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(e){u4(Ni),fn(new Yt("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return mM(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Ct(_0,w0,e),Ct(_0,w0,"esm2017")}Wn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Wn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};CM();const SM={apiKey:"AIzaSyDZTdRn4Auo-weSPUceWIFinY0rQsVNn3U",authDomain:"jobchaser-26d9a.firebaseapp.com",projectId:"jobchaser-26d9a",storageBucket:"jobchaser-26d9a.appspot.com",messagingSenderId:"871802840073",appId:"1:871802840073:web:3c289fe370ec71235784d8",measurementId:"G-QGYD6EBDJH",databaseURL:"https://jobchaser-26d9a-default-rtdb.europe-west1.firebasedatabase.app"},IM=wE(SM),td=wM();s4(IM);function nd(){var r;const e=kD();(r=e.currentUser)==null||r.reload();const t=new Mn,[n]=OD(e);return{auth:e,user:n,provider:t,updateProfile:cO,signInWithRedirect:UO,signInWithPopup:DO,signInWithEmailAndPassword:lO,createUserWithEmailAndPassword:oO,sendEmailVerification:aO,onIdTokenChanged:YC,onAuthStateChanged:QC,signOut:hO}}function KI(e,t,n,r,i){aM(Zc(td,"users/"+e),{userId:e,fullname:n,email:t,password:r,profileImg:i})}function X0(e,t){const n=Zc(td);return new Promise(r=>{cM(yl(n,e+"/"+t)).then(i=>{if(i.exists()){const s=i.val();r(s)}else r(i.exists()),console.log("No data available")}).catch(i=>{console.error(i)})})}function kM(e){return new Promise(t=>{hM(Zc(td,"SavedJobs/"+e),n=>{t(n.val())})})}function Z0(e,t){uM(Zc(td,"SavedJobs/"+t),{jobs:e})}function Be(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var TM=typeof Symbol=="function"&&Symbol.observable||"@@observable",e_=TM,ch=()=>Math.random().toString(36).substring(7).split("").join("."),AM={INIT:`@@redux/INIT${ch()}`,REPLACE:`@@redux/REPLACE${ch()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ch()}`},Gu=AM;function Um(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function qI(e,t,n){if(typeof e!="function")throw new Error(Be(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Be(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Be(1));return n(qI)(e,t)}let r=e,i=t,s=new Map,o=s,l=0,a=!1;function u(){o===s&&(o=new Map,s.forEach((C,m)=>{o.set(m,C)}))}function c(){if(a)throw new Error(Be(3));return i}function d(C){if(typeof C!="function")throw new Error(Be(4));if(a)throw new Error(Be(5));let m=!0;u();const f=l++;return o.set(f,C),function(){if(m){if(a)throw new Error(Be(6));m=!1,u(),o.delete(f),s=null}}}function h(C){if(!Um(C))throw new Error(Be(7));if(typeof C.type>"u")throw new Error(Be(8));if(typeof C.type!="string")throw new Error(Be(17));if(a)throw new Error(Be(9));try{a=!0,i=r(i,C)}finally{a=!1}return(s=o).forEach(f=>{f()}),C}function p(C){if(typeof C!="function")throw new Error(Be(10));r=C,h({type:Gu.REPLACE})}function y(){const C=d;return{subscribe(m){if(typeof m!="object"||m===null)throw new Error(Be(11));function f(){const E=m;E.next&&E.next(c())}return f(),{unsubscribe:C(f)}},[e_](){return this}}}return h({type:Gu.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:p,[e_]:y}}function RM(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Gu.INIT})>"u")throw new Error(Be(12));if(typeof n(void 0,{type:Gu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Be(13))})}function NM(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{RM(n)}catch(s){i=s}return function(o={},l){if(i)throw i;let a=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],h=n[d],p=o[d],y=h(p,l);if(typeof y>"u")throw l&&l.type,new Error(Be(14));u[d]=y,a=a||y!==p}return a=a||r.length!==Object.keys(o).length,a?u:o}}function Ku(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function xM(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(Be(15))};const o={getState:i.getState,dispatch:(a,...u)=>s(a,...u)},l=e.map(a=>a(o));return s=Ku(...l)(i.dispatch),{...i,dispatch:s}}}function PM(e){return Um(e)&&"type"in e&&typeof e.type=="string"}var YI=Symbol.for("immer-nothing"),t_=Symbol.for("immer-draftable"),Mt=Symbol.for("immer-state");function on(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ns=Object.getPrototypeOf;function Lr(e){return!!e&&!!e[Mt]}function Zn(e){var t;return e?QI(e)||Array.isArray(e)||!!e[t_]||!!((t=e.constructor)!=null&&t[t_])||id(e)||sd(e):!1}var OM=Object.prototype.constructor.toString();function QI(e){if(!e||typeof e!="object")return!1;const t=Ns(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===OM}function qu(e,t){rd(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function rd(e){const t=e[Mt];return t?t.type_:Array.isArray(e)?1:id(e)?2:sd(e)?3:0}function sp(e,t){return rd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function JI(e,t,n){const r=rd(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function DM(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function id(e){return e instanceof Map}function sd(e){return e instanceof Set}function qr(e){return e.copy_||e.base_}function op(e,t){if(id(e))return new Map(e);if(sd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&QI(e))return Ns(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[Mt];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Ns(e),n)}function Vm(e,t=!1){return od(e)||Lr(e)||!Zn(e)||(rd(e)>1&&(e.set=e.add=e.clear=e.delete=bM),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Vm(r,!0))),e}function bM(){on(2)}function od(e){return Object.isFrozen(e)}var LM={};function Ci(e){const t=LM[e];return t||on(0,e),t}var _l;function XI(){return _l}function MM(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function n_(e,t){t&&(Ci("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function lp(e){ap(e),e.drafts_.forEach(FM),e.drafts_=null}function ap(e){e===_l&&(_l=e.parent_)}function r_(e){return _l=MM(_l,e)}function FM(e){const t=e[Mt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function i_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Mt].modified_&&(lp(t),on(4)),Zn(e)&&(e=Yu(t,e),t.parent_||Qu(t,e)),t.patches_&&Ci("Patches").generateReplacementPatches_(n[Mt].base_,e,t.patches_,t.inversePatches_)):e=Yu(t,n,[]),lp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==YI?e:void 0}function Yu(e,t,n){if(od(t))return t;const r=t[Mt];if(!r)return qu(t,(i,s)=>s_(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Qu(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),qu(s,(l,a)=>s_(e,r,i,l,a,n,o)),Qu(e,i,!1),n&&e.patches_&&Ci("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function s_(e,t,n,r,i,s,o){if(Lr(i)){const l=s&&t&&t.type_!==3&&!sp(t.assigned_,r)?s.concat(r):void 0,a=Yu(e,i,l);if(JI(n,r,a),Lr(a))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Zn(i)&&!od(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Yu(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Qu(e,i)}}function Qu(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Vm(t,n)}function jM(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:XI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Bm;n&&(i=[r],s=wl);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=o,l}var Bm={get(e,t){if(t===Mt)return e;const n=qr(e);if(!sp(n,t))return UM(e,n,t);const r=n[t];return e.finalized_||!Zn(r)?r:r===dh(e.base_,t)?(hh(e),e.copy_[t]=cp(r,e)):r},has(e,t){return t in qr(e)},ownKeys(e){return Reflect.ownKeys(qr(e))},set(e,t,n){const r=ZI(qr(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=dh(qr(e),t),s=i==null?void 0:i[Mt];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(DM(n,i)&&(n!==void 0||sp(e.base_,t)))return!0;hh(e),up(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return dh(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,hh(e),up(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=qr(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){on(11)},getPrototypeOf(e){return Ns(e.base_)},setPrototypeOf(){on(12)}},wl={};qu(Bm,(e,t)=>{wl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});wl.deleteProperty=function(e,t){return wl.set.call(this,e,t,void 0)};wl.set=function(e,t,n){return Bm.set.call(this,e[0],t,n,e[0])};function dh(e,t){const n=e[Mt];return(n?qr(n):e)[t]}function UM(e,t,n){var i;const r=ZI(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function ZI(e,t){if(!(t in e))return;let n=Ns(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ns(n)}}function up(e){e.modified_||(e.modified_=!0,e.parent_&&up(e.parent_))}function hh(e){e.copy_||(e.copy_=op(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var VM=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(a=s,...u){return o.produce(a,c=>n.call(this,c,...u))}}typeof n!="function"&&on(6),r!==void 0&&typeof r!="function"&&on(7);let i;if(Zn(t)){const s=r_(this),o=cp(t,void 0);let l=!0;try{i=n(o),l=!1}finally{l?lp(s):ap(s)}return n_(s,r),i_(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===YI&&(i=void 0),this.autoFreeze_&&Vm(i,!0),r){const s=[],o=[];Ci("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else on(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,a=>t(a,...l));let r,i;return[this.produce(t,n,(o,l)=>{r=o,i=l}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Zn(e)||on(8),Lr(e)&&(e=e2(e));const t=r_(this),n=cp(e,void 0);return n[Mt].isManual_=!0,ap(t),n}finishDraft(e,t){const n=e&&e[Mt];(!n||!n.isManual_)&&on(9);const{scope_:r}=n;return n_(r,t),i_(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Ci("Patches").applyPatches_;return Lr(e)?r(e,t):this.produce(e,i=>r(i,t))}};function cp(e,t){const n=id(e)?Ci("MapSet").proxyMap_(e,t):sd(e)?Ci("MapSet").proxySet_(e,t):jM(e,t);return(t?t.scope_:XI()).drafts_.push(n),n}function e2(e){return Lr(e)||on(10,e),t2(e)}function t2(e){if(!Zn(e)||od(e))return e;const t=e[Mt];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=op(e,t.scope_.immer_.useStrictShallowCopy_)}else n=op(e,!0);return qu(n,(r,i)=>{JI(n,r,t2(i))}),t&&(t.finalized_=!1),n}var Ft=new VM,n2=Ft.produce;Ft.produceWithPatches.bind(Ft);Ft.setAutoFreeze.bind(Ft);Ft.setUseStrictShallowCopy.bind(Ft);Ft.applyPatches.bind(Ft);Ft.createDraft.bind(Ft);Ft.finishDraft.bind(Ft);function BM(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function $M(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function zM(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var o_=e=>Array.isArray(e)?e:[e];function WM(e){const t=Array.isArray(e[0])?e[0]:e;return zM(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function HM(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var GM=class{constructor(e){this.value=e}deref(){return this.value}},KM=typeof WeakRef<"u"?WeakRef:GM,qM=0,l_=1;function Ea(){return{s:qM,v:void 0,o:null,p:null}}function $m(e,t={}){let n=Ea();const{resultEqualityCheck:r}=t;let i,s=0;function o(){var d;let l=n;const{length:a}=arguments;for(let h=0,p=a;h<p;h++){const y=arguments[h];if(typeof y=="function"||typeof y=="object"&&y!==null){let w=l.o;w===null&&(l.o=w=new WeakMap);const C=w.get(y);C===void 0?(l=Ea(),w.set(y,l)):l=C}else{let w=l.p;w===null&&(l.p=w=new Map);const C=w.get(y);C===void 0?(l=Ea(),w.set(y,l)):l=C}}const u=l;let c;if(l.s===l_?c=l.v:(c=e.apply(null,arguments),s++),u.s=l_,r){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&r(h,c)&&(c=h,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new KM(c):c}return u.v=c,c}return o.clearCache=()=>{n=Ea(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function r2(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,o=0,l,a={},u=i.pop();typeof u=="object"&&(a=u,u=i.pop()),BM(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...a},{memoize:d,memoizeOptions:h=[],argsMemoize:p=$m,argsMemoizeOptions:y=[],devModeChecks:w={}}=c,C=o_(h),m=o_(y),f=WM(i),v=d(function(){return s++,u.apply(null,arguments)},...C),E=p(function(){o++;const x=HM(f,arguments);return l=v.apply(null,x),l},...m);return Object.assign(E,{resultFunc:u,memoizedResultFunc:v,dependencies:f,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var YM=r2($m),QM=Object.assign((e,t=YM)=>{$M(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((o,l,a)=>(o[n[a]]=l,o),{}))},{withTypes:()=>QM});function i2(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var JM=i2(),XM=i2,ZM=(...e)=>{const t=r2(...e),n=Object.assign((...r)=>{const i=t(...r),s=(o,...l)=>i(Lr(o)?e2(o):o,...l);return Object.assign(s,i),s},{withTypes:()=>n});return n};ZM($m);var e9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ku:Ku.apply(null,arguments)},t9=e=>e&&typeof e.match=="function";function Hn(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(It(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>PM(r)&&r.type===e,n}var s2=class go extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,go.prototype)}static get[Symbol.species](){return go}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new go(...t[0].concat(this)):new go(...t.concat(this))}};function a_(e){return Zn(e)?n2(e,()=>{}):e}function u_(e,t,n){if(e.has(t)){let i=e.get(t);return n.update&&(i=n.update(i,t,e),e.set(t,i)),i}if(!n.insert)throw new Error(It(10));const r=n.insert(t,e);return e.set(t,r),r}function n9(e){return typeof e=="boolean"}var r9=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new s2;return n&&(n9(n)?o.push(JM):o.push(XM(n.extraArgument))),o},i9="RTK_autoBatch",o2=e=>t=>{setTimeout(t,e)},s9=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:o2(10),o9=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,o=!1;const l=new Set,a=e.type==="tick"?queueMicrotask:e.type==="raf"?s9:e.type==="callback"?e.queueNotification:o2(e.timeout),u=()=>{o=!1,s&&(s=!1,l.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),h=r.subscribe(d);return l.add(c),()=>{h(),l.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[i9]),s=!i,s&&(o||(o=!0,a(u))),r.dispatch(c)}finally{i=!0}}})},l9=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new s2(e);return r&&i.push(o9(typeof r=="object"?r:void 0)),i},a9=!0;function u9(e){const t=r9(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(Um(n))l=NM(n);else throw new Error(It(1));let a;typeof r=="function"?a=r(t):a=t();let u=Ku;i&&(u=e9({trace:!a9,...typeof i=="object"&&i}));const c=xM(...a),d=l9(c);let h=typeof o=="function"?o(d):d();const p=u(...h);return qI(l,s,p)}function l2(e){const t={},n=[];let r;const i={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(It(28));if(l in t)throw new Error(It(29));return t[l]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function c9(e){return typeof e=="function"}function d9(e,t){let[n,r,i]=l2(t),s;if(c9(e))s=()=>a_(e());else{const l=a_(e);s=()=>l}function o(l=s(),a){let u=[n[a.type],...r.filter(({matcher:c})=>c(a)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(Lr(c)){const p=d(c,a);return p===void 0?c:p}else{if(Zn(c))return n2(c,h=>d(h,a));{const h=d(c,a);if(h===void 0){if(c===null)return c;throw new Error(It(9))}return h}}return c},l)}return o.getInitialState=s,o}var h9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",a2=(e=21)=>{let t="",n=e;for(;n--;)t+=h9[Math.random()*64|0];return t},f9=(e,t)=>t9(e)?e.match(t):e(t);function p9(...e){return t=>e.some(n=>f9(n,t))}var g9=["name","message","stack","code"],fh=class{constructor(e,t){cd(this,"_type");this.payload=e,this.meta=t}},c_=class{constructor(e,t){cd(this,"_type");this.payload=e,this.meta=t}},m9=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of g9)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},v9=(()=>{function e(t,n,r){const i=Hn(t+"/fulfilled",(a,u,c,d)=>({payload:a,meta:{...d||{},arg:c,requestId:u,requestStatus:"fulfilled"}})),s=Hn(t+"/pending",(a,u,c)=>({payload:void 0,meta:{...c||{},arg:u,requestId:a,requestStatus:"pending"}})),o=Hn(t+"/rejected",(a,u,c,d,h)=>({payload:d,error:(r&&r.serializeError||m9)(a||"Rejected"),meta:{...h||{},arg:c,requestId:u,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(a==null?void 0:a.name)==="AbortError",condition:(a==null?void 0:a.name)==="ConditionError"}}));function l(a){return(u,c,d)=>{const h=r!=null&&r.idGenerator?r.idGenerator(a):a2(),p=new AbortController;let y,w;function C(f){w=f,p.abort()}const m=async function(){var E,k;let f;try{let x=(E=r==null?void 0:r.condition)==null?void 0:E.call(r,a,{getState:c,extra:d});if(_9(x)&&(x=await x),x===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const O=new Promise((R,z)=>{y=()=>{z({name:"AbortError",message:w||"Aborted"})},p.signal.addEventListener("abort",y)});u(s(h,a,(k=r==null?void 0:r.getPendingMeta)==null?void 0:k.call(r,{requestId:h,arg:a},{getState:c,extra:d}))),f=await Promise.race([O,Promise.resolve(n(a,{dispatch:u,getState:c,extra:d,requestId:h,signal:p.signal,abort:C,rejectWithValue:(R,z)=>new fh(R,z),fulfillWithValue:(R,z)=>new c_(R,z)})).then(R=>{if(R instanceof fh)throw R;return R instanceof c_?i(R.payload,h,a,R.meta):i(R,h,a)})])}catch(x){f=x instanceof fh?o(null,h,a,x.payload,x.meta):o(x,h,a)}finally{y&&p.signal.removeEventListener("abort",y)}return r&&!r.dispatchConditionRejection&&o.match(f)&&f.meta.condition||u(f),f}();return Object.assign(m,{abort:C,requestId:h,arg:a,unwrap(){return m.then(y9)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,settled:p9(o,i),typePrefix:t})}return e.withTypes=()=>e,e})();function y9(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function _9(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var w9=Symbol.for("rtk-slice-createasyncthunk");function E9(e,t){return`${e}/${t}`}function C9({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[w9];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(It(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(I9()):i.reducers)||{},a=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(v,E){const k=typeof v=="string"?v:v.type;if(!k)throw new Error(It(12));if(k in u.sliceCaseReducersByType)throw new Error(It(13));return u.sliceCaseReducersByType[k]=E,c},addMatcher(v,E){return u.sliceMatchers.push({matcher:v,reducer:E}),c},exposeAction(v,E){return u.actionCreators[v]=E,c},exposeCaseReducer(v,E){return u.sliceCaseReducersByName[v]=E,c}};a.forEach(v=>{const E=l[v],k={reducerName:v,type:E9(s,v),createNotation:typeof i.reducers=="function"};T9(E)?R9(k,E,c,t):k9(k,E,c)});function d(){const[v={},E=[],k=void 0]=typeof i.extraReducers=="function"?l2(i.extraReducers):[i.extraReducers],x={...v,...u.sliceCaseReducersByType};return d9(i.initialState,O=>{for(let R in x)O.addCase(R,x[R]);for(let R of u.sliceMatchers)O.addMatcher(R.matcher,R.reducer);for(let R of E)O.addMatcher(R.matcher,R.reducer);k&&O.addDefaultCase(k)})}const h=v=>v,p=new Map;let y;function w(v,E){return y||(y=d()),y(v,E)}function C(){return y||(y=d()),y.getInitialState()}function m(v,E=!1){function k(O){let R=O[v];return typeof R>"u"&&E&&(R=C()),R}function x(O=h){const R=u_(p,E,{insert:()=>new WeakMap});return u_(R,O,{insert:()=>{const z={};for(const[G,V]of Object.entries(i.selectors??{}))z[G]=S9(V,O,C,E);return z}})}return{reducerPath:v,getSelectors:x,get selectors(){return x(k)},selectSlice:k}}const f={name:s,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:C,...m(o),injectInto(v,{reducerPath:E,...k}={}){const x=E??o;return v.inject({reducerPath:x,reducer:w},k),{...f,...m(x,!0)}}};return f}}function S9(e,t,n,r){function i(s,...o){let l=t(s);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return i.unwrapped=e,i}var ld=C9();function I9(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function k9({type:e,reducerName:t,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!A9(r))throw new Error(It(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?Hn(e,o):Hn(e))}function T9(e){return e._reducerDefinitionType==="asyncThunk"}function A9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function R9({type:e,reducerName:t},n,r,i){if(!i)throw new Error(It(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:a,settled:u,options:c}=n,d=i(e,s,c);r.exposeAction(t,d),o&&r.addCase(d.fulfilled,o),l&&r.addCase(d.pending,l),a&&r.addCase(d.rejected,a),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:o||Ca,pending:l||Ca,rejected:a||Ca,settled:u||Ca})}function Ca(){}var N9=(e,t)=>{if(typeof e!="function")throw new Error(It(32))},zm="listenerMiddleware",x9=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=Hn(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(It(21));return N9(s),{predicate:i,type:t,effect:s}},P9=Object.assign(e=>{const{type:t,predicate:n,effect:r}=x9(e);return{id:a2(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(It(22))}}},{withTypes:()=>P9}),O9=Object.assign(Hn(`${zm}/add`),{withTypes:()=>O9});Hn(`${zm}/removeAll`);var D9=Object.assign(Hn(`${zm}/remove`),{withTypes:()=>D9});function It(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const b9={bodyStyle:{overflow:"auto"},isMobileScreen:!1,menuClass:null,checked:!1,timeoutId:setTimeout(()=>{},0),styleTransition:"none",marginBottom:"none"},u2=ld({name:"sidemenu",initialState:b9,reducers:{TOGGLE_MENU:e=>{const{menuClass:t,timeoutId:n}=e;if(t){n?(clearTimeout(n),e.timeoutId=setTimeout(()=>"none",350)):e.timeoutId=setTimeout(()=>"none",350),e.bodyStyle.overflow="auto",e.checked=!1,e.menuClass=null;return}if(t===null){e.bodyStyle.overflow="hidden",e.styleTransition="translate 350ms",e.checked=!0,e.menuClass="show-menu";return}},IS_DESKTOP:e=>{e.isMobileScreen=!1,e.checked=!1,e.menuClass=null,e.styleTransition="none"},IS_MOBILE:(e,t)=>{e.isMobileScreen=t.payload},STYLE_TRANSITION:(e,t)=>{e.styleTransition=t.payload},MARGIN_BOTTOM:(e,t)=>{e.marginBottom=t.payload}}}),{IS_DESKTOP:L9,TOGGLE_MENU:c2,IS_MOBILE:d_,STYLE_TRANSITION:M9,MARGIN_BOTTOM:h_}=u2.actions,F9=u2.reducer;var d2={exports:{}},h2={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kl=T;function j9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var U9=typeof Object.is=="function"?Object.is:j9,V9=Kl.useSyncExternalStore,B9=Kl.useRef,$9=Kl.useEffect,z9=Kl.useMemo,W9=Kl.useDebugValue;h2.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=B9(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=z9(function(){function a(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var y=o.value;if(i(y,p))return d=y}return d=p}if(y=d,U9(c,p))return y;var w=r(p);return i!==void 0&&i(y,w)?y:(c=p,d=w)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return a(t())},h===null?void 0:function(){return a(h())}]},[t,n,r,i]);var l=V9(e,s[0],s[1]);return $9(function(){o.hasValue=!0,o.value=l},[l]),W9(l),l};d2.exports=h2;var H9=d2.exports,Ot="default"in Ih?mt:Ih,f_=Symbol.for("react-redux-context"),p_=typeof globalThis<"u"?globalThis:{};function G9(){if(!Ot.createContext)return{};const e=p_[f_]??(p_[f_]=new Map);let t=e.get(Ot.createContext);return t||(t=Ot.createContext(null),e.set(Ot.createContext,t)),t}var Mr=G9(),K9=()=>{throw new Error("uSES not initialized!")};function Wm(e=Mr){return function(){return Ot.useContext(e)}}var f2=Wm(),p2=K9,q9=e=>{p2=e},Y9=(e,t)=>e===t;function Q9(e=Mr){const t=e===Mr?f2:Wm(e),n=(r,i={})=>{const{equalityFn:s=Y9,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:a,getServerState:u,stabilityCheck:c,identityFunctionCheck:d}=t();Ot.useRef(!0);const h=Ot.useCallback({[r.name](y){return r(y)}}[r.name],[r,c,o.stabilityCheck]),p=p2(a.addNestedSub,l.getState,u||l.getState,h,s);return Ot.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var Ke=Q9();function J9(e){e()}function X9(){let e=null,t=null;return{clear(){e=null,t=null},notify(){J9(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var g_={notify(){},get:()=>[]};function Z9(e,t){let n,r=g_,i=0,s=!1;function o(w){c();const C=r.subscribe(w);let m=!1;return()=>{m||(m=!0,C(),d())}}function l(){r.notify()}function a(){y.onStateChange&&y.onStateChange()}function u(){return s}function c(){i++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=X9())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=g_)}function h(){s||(s=!0,c())}function p(){s&&(s=!1,d())}const y={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:a,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return y}var e5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",t5=e5?Ot.useLayoutEffect:Ot.useEffect;function n5({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Ot.useMemo(()=>{const u=Z9(e);return{store:e,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[e,r,i,s]),l=Ot.useMemo(()=>e.getState(),[e]);t5(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,l]);const a=t||Mr;return Ot.createElement(a.Provider,{value:o},n)}var r5=n5;function g2(e=Mr){const t=e===Mr?f2:Wm(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var i5=g2();function s5(e=Mr){const t=e===Mr?i5:g2(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Pn=s5();q9(H9.useSyncExternalStoreWithSelector);const ph=e=>e?void 0:"0ms, 0ms, 0ms, 200ms";function o5({menuClass:e,textColorHeader:t,checked:n,color:r}){const i=Pn();return g.jsxs("div",{onClick:()=>i(c2()),className:"menu",children:[g.jsx("div",{style:{background:e?r:t,transitionDelay:ph(e)},className:"bar"}),g.jsx("input",{style:{background:e?r:t,transitionDelay:ph(e)},checked:n,type:"checkbox",className:"bar"}),g.jsx("div",{style:{background:e?r:t,transitionDelay:ph(e)},className:"bar"}),g.jsx("p",{style:{color:e?r:t},children:"Menu"})]})}function gh({label:e,className:t,isMobileScreen:n,color:r,textColorHeader:i,isDarkTheme:s}){const[o,l]=T.useState("");return T.useEffect(()=>{e.toLocaleLowerCase()==="hem"&&l("/Jobchaser/"),e.toLocaleLowerCase()==="lediga jobb"&&l("/Jobchaser/Find-job"),e.toLocaleLowerCase()==="logga in"&&l("/Jobchaser/Sign-in")},[]),g.jsxs(iE,{style:{color:n?r:i},to:o,children:[e,n&&g.jsx("img",{className:t,src:s?W1:H1,alt:"chevron icon"})]})}const l5="_toggleContainer_1opv2_13",a5="_slider_1opv2_65",mh={toggleContainer:l5,switch:"_switch_1opv2_39",slider:a5},u5={isDarkTheme:!1,textColorHeader:"",color:"",background:""},m2=ld({name:"background",initialState:u5,reducers:{setIsDarkTheme:e=>{if(e.isDarkTheme===!1){e.isDarkTheme=!0;return}if(e.isDarkTheme===!0){e.isDarkTheme=!1;return}},setTextColorHeader:(e,t)=>{e.textColorHeader=t.payload},setColor:e=>{e.color=e.isDarkTheme?"":"#ffff"},setBackground:e=>{e.background=e.isDarkTheme?"linear-gradient(147deg, #4d4855 0%, #000000 74%)":"whitesmoke"}}}),{setTextColorHeader:v2,setColor:KF,setBackground:qF,setIsDarkTheme:c5}=m2.actions,d5=m2.reducer;function h5({sidemenu:e,color:t,textColorHeader:n}){const r=Ke(o=>o.background.isDarkTheme),i=Pn();function s(){i({type:"background/setColor"}),i(c5())}return g.jsx(g.Fragment,{children:g.jsxs("div",{className:mh.toggleContainer,children:[g.jsx("p",{style:{color:e?t:n}}),g.jsxs("label",{className:mh.switch,children:[g.jsx("input",{onClick:s,type:"checkbox",id:"checkbox"}),g.jsx("span",{className:mh.slider,children:g.jsx("img",{src:"https://www.svgrepo.com/show/521865/sun.svg",style:{opacity:r?void 0:"1"},alt:"sun icon for light mode"})})]})]})})}function f5(){const e=Ke(C=>C.user.isOnline),{textColorHeader:t,color:n,isDarkTheme:r,background:i}=Ke(C=>C.background),{bodyStyle:s,isMobileScreen:o,menuClass:l,checked:a,styleTransition:u}=Ke(C=>C.sidemenu),c=Pn(),{auth:d}=nd(),h=window.matchMedia("(width < 1249px)"),p=window.matchMedia("(height < 801px)"),y=document.body;y.style.background=r?"linear-gradient(147deg, #4d4855 0%, #000000 74%)":"whitesmoke",T.useEffect(()=>{if(c({type:"background/setBackground"}),r){y.style.background="linear-gradient(147deg, #4d4855 0%, #000000 74%)";return}if(!r){y.style.background="whitesmoke";return}},[r]),T.useEffect(()=>{y.style.overflow=s.overflow},[s.overflow]),T.useEffect(()=>{h.matches&&c(d_(!0)),h.addEventListener("change",C=>{if(!C.matches){y.style.overflowY=s.overflow,c(L9());return}c(d_(!0)),c(M9("none"))}),p.addEventListener("change",C=>{C.matches&&c(h_("-120px")),C.matches||c(h_("0px"))})},[]);function w(C){if(C)return n?sy:oy;if(!C)return t==="white"?sy:oy}return g.jsx(g.Fragment,{children:g.jsx("header",{children:g.jsxs("div",{className:"header-container",children:[g.jsxs("div",{className:"title-container",style:{color:l?n:t},children:[g.jsx("img",{tabIndex:0,src:aA,alt:"Jobchaser logo"}),g.jsx("span",{className:"char-in-logo",style:{color:l?n:t},children:"J"}),g.jsx("p",{children:"Jobchaser"}),g.jsx("p",{children:"EST 2023"})]}),g.jsx(o5,{menuClass:l,textColorHeader:t,checked:a,color:n}),g.jsxs("nav",{onClick:C=>{const m=C.target;if(m.tagName!=="SPAN"&&m.tagName!=="INPUT"&&l)return c(c2())},className:`link-options ${l}`,style:{transition:u,background:o?i:void 0},children:[g.jsx(h5,{color:n,textColorHeader:t,sidemenu:l}),g.jsx(gh,{label:"Hem",className:"chevron",isMobileScreen:o,color:n,textColorHeader:t,isDarkTheme:r}),g.jsx(gh,{label:"Lediga jobb",className:"chevron",isMobileScreen:o,color:n,textColorHeader:t,isDarkTheme:r}),e&&g.jsxs(iE,{to:"/Jobchaser/User-profile",style:{color:o?n:t},children:[g.jsxs("div",{className:"profile-container",children:[g.jsx("p",{children:"Profil"}),g.jsx("img",{src:e.profileImg?e.profileImg:G1,alt:"user profile picture",style:{border:"2px solid "+(l?n:t)}})]}),o&&g.jsx("img",{style:{bottom:"30%"},className:"chevron",src:r?W1:H1,alt:"chevron icon"})]}),e?g.jsxs("div",{onClick:()=>d.signOut(),className:"sign-out-cont",children:[g.jsx("button",{className:"sign-out-btn",style:{color:o?n:t},children:"Logga ut"}),g.jsx("div",{className:"sign-out-img-container",children:g.jsx("img",{src:w(o),alt:"sign out icon"})})]}):g.jsx(gh,{label:"Logga in",className:"chevron",isMobileScreen:o,color:n,textColorHeader:t,isDarkTheme:r})]})]})})})}const p5="/Jobchaser/assets/Search%20SVG%20Vector-BR--GbvO.svg",g5=()=>{const e=T.useContext(ad),{isOnline:t}=Ke(r=>r.user),n=dg();return g.jsxs("div",{className:"search-opening-text-container",children:[g.jsxs("picture",{children:[g.jsx("source",{type:"image/webp"}),g.jsx("img",{className:"jobb-hero-img",loading:"lazy",src:e[1].src,alt:"hero image of a women laughing"})]}),g.jsxs("div",{children:[g.jsx("article",{className:"search-opening-text",children:g.jsx("h1",{children:"Lediga jobb för hela Sverige!"})}),g.jsx("button",{style:{background:"#f09711",color:"black",position:"relative"},className:"available-jobs-btn",onClick:()=>n(t?"/Jobchaser/User-profile":"/Jobchaser/Sign-in"),children:"Bli medlem"})]})]})},m5="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2064%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20stroke='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M45.35%206.1709H19.41C16.8178%206.17618%2014.3333%207.20827%2012.5003%209.04123C10.6674%2010.8742%209.63528%2013.3587%209.62999%2015.9509V52.2709C9.6272%2053.3655%209.92973%2054.4392%2010.5036%2055.3713C11.0775%2056.3034%2011.9%2057.057%2012.8787%2057.5474C13.8573%2058.0377%2014.9533%2058.2454%2016.0435%2058.1471C17.1337%2058.0488%2018.1748%2057.6484%2019.05%2056.9909L31.25%2047.8509C31.5783%2047.6074%2031.9762%2047.4759%2032.385%2047.4759C32.7938%2047.4759%2033.1917%2047.6074%2033.52%2047.8509L45.71%2056.9809C46.5842%2057.6387%2047.6246%2058.0397%2048.7142%2058.1387C49.8038%2058.2378%2050.8994%2058.0311%2051.8779%2057.5418C52.8565%2057.0525%2053.6793%2056.3001%2054.2537%2055.3689C54.8282%2054.4378%2055.1317%2053.365%2055.13%2052.2709V15.9509C55.1247%2013.3587%2054.0926%2010.8742%2052.2597%209.04123C50.4267%207.20827%2047.9422%206.17618%2045.35%206.1709Z'%20fill='%23ffffff'/%3e%3c/g%3e%3c/svg%3e",v5="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2064%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M45.35%206.1709H19.41C16.8178%206.17618%2014.3333%207.20827%2012.5003%209.04123C10.6674%2010.8742%209.63528%2013.3587%209.62999%2015.9509V52.2709C9.6272%2053.3655%209.92973%2054.4392%2010.5036%2055.3713C11.0775%2056.3034%2011.9%2057.057%2012.8787%2057.5474C13.8573%2058.0377%2014.9533%2058.2454%2016.0435%2058.1471C17.1337%2058.0488%2018.1748%2057.6484%2019.05%2056.9909L31.25%2047.8509C31.5783%2047.6074%2031.9762%2047.4759%2032.385%2047.4759C32.7938%2047.4759%2033.1917%2047.6074%2033.52%2047.8509L45.71%2056.9809C46.5842%2057.6387%2047.6246%2058.0397%2048.7142%2058.1387C49.8038%2058.2378%2050.8994%2058.0311%2051.8779%2057.5418C52.8565%2057.0525%2053.6793%2056.3001%2054.2537%2055.3689C54.8282%2054.4378%2055.1317%2053.365%2055.13%2052.2709V15.9509C55.1247%2013.3587%2054.0926%2010.8742%2052.2597%209.04123C50.4267%207.20827%2047.9422%206.17618%2045.35%206.1709Z'%20fill='%23000000'/%3e%3c/g%3e%3c/svg%3e",y5={isFetchingUserData:!0,isOnline:null,savedJobAds:[],createUser:{userName:null,email:null,password:null}},y2=ld({name:"user",initialState:y5,reducers:{userState:(e,t)=>{e.isOnline=t.payload,e.isFetchingUserData=!1},jobListing:(e,t)=>{e.savedJobAds=t.payload},saveJobAd:(e,t)=>{e.savedJobAds.unshift(t.payload)}}}),{userState:vh,jobListing:dp,saveJobAd:_5}=y2.actions,w5=y2.reducer;function E5({style:e,jobObj:t}){const{savedJobAds:n,isOnline:r}=Ke(d=>d.user),i=Pn(),[s,o]=T.useState(null),[l,a]=T.useState(null);T.useEffect(()=>{if(n.map(h=>h.id).includes(t.id)&&s===null){a(!0);return}c(s)},[s]);function u(){if(l){o(!1),a(null);return}r&&o(d=>!d)}function c(d){if(d===!0)i(_5(t));else if(d===!1&&n.length!==0){const h=n.map(p=>{if(p.id===t.id)return null;if(p.id!==t.id)return p});i(dp(h.filter(p=>p!==null))),r&&Z0(h,r.userId)}}return T.useEffect(()=>{r&&Z0(n,r.userId)},[n]),g.jsxs("div",{className:e,children:[g.jsx("img",{onClick:u,tabIndex:0,src:s||l?v5:m5,alt:"save to favorite button"}),g.jsx("p",{children:l||s?"Sparad":"Spara"})]})}const C5="/Jobchaser/assets/Jobchaser-log-D2mofJjZ.svg";function _2(e){const{id:t,headline:n,duration:{label:r},employer:{name:i},working_hours_type:{label:s},employment_type:{label:o},occupation:{label:l},workplace_address:{municipality:a},last_publication_date:u,webpage_url:c,logo_url:d}=e;return g.jsxs("li",{className:"card",children:[g.jsx(E5,{style:"favorite-btn",jobObj:e}),g.jsx("div",{className:"card-logo-container",children:g.jsx("img",{src:d||C5,alt:`Logo for ${i}`})}),g.jsxs("article",{className:"information-container",children:[g.jsx("div",{className:"card-title-container",children:g.jsx("a",{style:{color:"black"},href:c,children:g.jsx("h2",{children:n})})}),g.jsxs("div",{className:"details-container",children:[g.jsxs("div",{className:"upper-job-details",children:[g.jsx("p",{children:i}),g.jsxs("p",{children:["Position: ",g.jsx("span",{style:{fontWeight:"500"},children:l})]}),g.jsxs("p",{children:["Kommun: ",g.jsx("span",{style:{fontWeight:"500"},children:a})]})]}),g.jsxs("div",{className:"lower-job-details",children:[g.jsxs("p",{children:["Omfattning: ",s]}),g.jsxs("p",{children:["Varaktighet: ",r]}),g.jsxs("p",{children:["Anställningsform: ",o]})]})]})]}),g.jsxs("div",{className:"footer",children:[g.jsx("a",{href:c,children:g.jsx("p",{style:{color:"#3E619F"},children:"Besök webbplatsen"})}),g.jsxs("div",{children:[g.jsx("p",{children:"Sista datum: "}),g.jsx("p",{children:u})]})]})]},t)}const S5=({jobs:e})=>g.jsx("div",{className:"card-container",children:g.jsx("ul",{className:"card-layout",children:e.map(t=>_2(t))})}),I5={inputValue:"",submitValue:"",error:"",jobs:[],isLoading:!1,isActive:!1},Ua=v9("search/fetchingJobData",async e=>(await(await fetch("https://jobsearch.api.jobtechdev.se/search?q="+e)).json()).hits),w2=ld({name:"search",initialState:I5,reducers:{submit:e=>{e.submitValue=e.inputValue},input:(e,t)=>{e.inputValue=t.payload},error:(e,t)=>{e.error=t.payload},tag:(e,t)=>{const n=t.payload;e.inputValue=n,e.submitValue=n}},extraReducers:e=>{e.addCase(Ua.pending,t=>{t.isLoading=!0,t.isActive=!1}).addCase(Ua.fulfilled,(t,n)=>{const i=n.payload.map(s=>{const o="Information saknas";return s.duration.label===null&&(s.duration.label=o),s.working_hours_type.label===null&&(s.working_hours_type.label=o),s.employment_type.label===null&&(s.employment_type.label=o),s});t.jobs=i,t.isActive=!0,t.isLoading=!1}).addCase(Ua.rejected,(t,n)=>{const r=n.payload;t.error=r.err.message,t.isLoading=!1})}}),{submit:k5,input:m_,error:YF,tag:T5}=w2.actions,A5=w2.reducer,R5="_loaderCircle_ozygp_1",N5="_l13_ozygp_1",x5="_loaderProgress_ozygp_33",P5="_l23_ozygp_1",v_={loaderCircle:R5,l13:N5,loaderProgress:x5,l23:P5},Va=({type:e})=>g.jsx("div",{className:e==="loaderProgress"?v_.loaderProgress:v_.loaderCircle});function O5(){const{inputValue:e,submitValue:t,error:n,jobs:r,isActive:i,isLoading:s}=Ke(u=>u.search),{color:o}=Ke(u=>u.background),l=Pn();T.useEffect(()=>{l(v2("black")),l(Ua(t))},[t]),T.useEffect(()=>{l(m_(""))},[]);function a(u){const c=u.target;c.textContent&&l(T5(c.textContent))}return g.jsxs(g.Fragment,{children:[g.jsx(g5,{}),g.jsxs("form",{tabIndex:0,className:"job-form",onSubmit:u=>{u.preventDefault(),l(k5())},children:[g.jsxs("div",{className:"input-container",children:[g.jsxs("div",{className:"label-for-input",children:[g.jsx("p",{children:"Sök på ett eller flera ord"}),g.jsx("p",{children:"Skriv t.ex. utvecklare Stockholm"})]}),g.jsx("button",{type:"submit",className:"search-btn",children:g.jsx("img",{src:p5,alt:"magnifying glass"})}),g.jsx("input",{disabled:s,className:"search-input",value:e,onChange:u=>l(m_(u.target.value)),type:"text",placeholder:"Jobbtitel, nyckelord eller stad","aria-label":"Search bar for job ads"})]}),g.jsxs("div",{className:"tag-container",children:[g.jsx("div",{onClick:a,className:"tag",children:"Stockholm"}),g.jsx("div",{onClick:a,className:"tag",children:"Jönköping"}),g.jsx("div",{onClick:a,className:"tag",children:"Göteborg"})]})]}),s&&g.jsx(Va,{type:"loadingCircle"}),i&&r.length!==0&&g.jsx(S5,{jobs:r}),i&&r.length===0&&g.jsx("h1",{className:"no-jobs",style:{color:o},children:"Inga jobb hittades som matchar din sökning."}),n&&g.jsx("div",{className:"error-container",children:g.jsx("h1",{children:n})})]})}const D5="/Jobchaser/assets/Female%20pp-Cja9UEM7.png",b5="/Jobchaser/assets/Male%20pp-gAItaz0u.png",L5="/Jobchaser/assets/Female%20pp-1-Dy8qnpCo.png",M5="/Jobchaser/assets/Male%20pp-1-e-OwLf6a.png",F5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAAJCAYAAACIYoQoAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADRSURBVHgB3ZS9DcIwEIXfORGigxGyQiREnRQBSrJBsgFMwgiwAfRQpAMBEhmBEVIi8mMsByElGAnK4zXWPX/3JMv2AS3Jc7DED+LAiwZwDCJIRPIwnuGbQCY86c2L10fZ8VDJhXIcZWXKDWEXKblJ9hbGjCd5Gq2VMcUnEVY02MavQIa8gH2PIelqBpRv5fOGx5AX+vpL4RuhXPjt58GRrwdP95YZoT/x60Pm+rMqyQRUhXrVpegZm5nxti5KNY0suDTcpc+2jdxPHBQWGUOZ8Q90bh3S9+OHDQAAAABJRU5ErkJggg==",j5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAAJCAYAAACIYoQoAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEiSURBVHgB1dQxT8JAFAfw/6OtxqXB6OYgiR9ASYS5mJD4CXR1d3F2Mf0klm/gLEZkIpGElITv0bGloTweBzQtLQlsxxt67d3vLn3X1wO2gv/bdzggdPPx5L3gK7kFB04NhJ5q93kBDT2fXfWCIMj5XJKwrA+5VmFan9gnNPRMJ1XDMHKepBxeQHQr++DIc/ZT/8mwLzvZp/vvr02n7n568YT48ll5IvKZuW+u6RuK4aiJ82RcHDoOLwnKHIwr1Ox6glyUBrvU/PWyPcfkJUnXtm2P0o5hm7cRNbqEHaGrz5QrJEHl1cHDg8dahvvp3ejhunRBjT1xnPowDJVfna7mTBDLz8wtavzUly0YHYTGedmiOvvTm9d6kiQtKdVOFEXKLwBq9QCB/JQuZAAAAABJRU5ErkJggg==",y_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAAJCAYAAACIYoQoAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE6SURBVHgB1ZRPToQwFMbfo8Swc7gBcwQSY+KOzahLuQHcwDnJHMG5gS5NdMFOoyZyA+cG/FkZp536UXQSLCS6qy8hpV9/PPryvpboR+iXxRX9IVzj27a1eG+Q8GmRkaZMP55d0m824BiPAjMMWdM0A55NstdkRuogoZ1eQYkg1VBT8mXJcVFbP3eMr6pqJoRI8LrCY3hmTqWUZRiGNevn02skuKCpYFrz0V2+34BjPLoHnqZ5orVH/kdOmjfjCaGL7XKgOcYrpXKt9Sjf6Vhf9nZ9OI/IV28WJcWcT26tBK7xsGsEu1o8CpzDrpv+4gneLZ//K92c2Wm9L3JrDitCF8S71Ixm6h2OfuoaT988Fehe2o3dJAgCw/tmSaFiQTEf35df8I2xjBQ8mtI1Hh1DcTGsuec7C0Mz/CcdKSqPumuAJwAAAABJRU5ErkJggg==",U5=[{id:"DA86E2400000000006174283575328768",userName:"Sofia Lundén",header:"Fantastiskt jobbsökningsplattform!",content:"Jag har testat många jobbsökningsplattformar, men Jobchaser sticker ut för sin effektivitet och effektivitet. Sökfilterna är omfattande, vilket gör att jag snabbt kan begränsa mina alternativ. Dessutom håller notifieringssystemet mig uppdaterad om nya listor som matchar mina kriterier. Tack vare Jobchaser landade jag mitt drömjobb inom veckor efter att ha använt plattformen. Kunde inte vara lyckligare!"},{id:"IO91FPSA2019418445971456",userName:"Douglas Fowler",header:"Effektiv och effektiv.",content:"Jobchaser har varit en absolut spelväxlare för mig i min jobbjakt. Gränssnittet är användarvänligt, vilket gör det enkelt att navigera bland listor och ansöka om relevanta positioner. Jag uppskattar särskilt funktionen för personliga jobbförslag, som har hjälpt mig att upptäcka möjligheter jag annars inte skulle ha hittat. Rekommenderas varmt!"},{id:"SD134UQB6568605363732480",userName:"Catherine Simpson",header:"Ett måste-ha verktyg för jobbsökande!",content:"Jobchaser är ett måste-ha verktyg för alla som är på jobbjakt. Det som skiljer det åt är dess intuitiva design och robusta funktioner. Möjligheten att spara favoritlistor och följa ansökningsstatus har avsevärt effektiviserat min jobbsökningsprocess. Plattformens omfattande databas ser till att jag aldrig tar slut på alternativ. Kudos till Jobchaser-teamet för att ha skapat en sådan värdefull resurs."},{id:"RX85MDYP8606513606164480",userName:"Simon Liamsson",header:"Oersättlig resurs för jobbsökande!",content:"Som nyligen examinerad som går in på arbetsmarknaden har Jobchaser varit en ovärderlig resurs. Inte bara samlar det jobblistor från olika källor, utan det ger också insikter om företagskulturer och intervjuupplevelser delade av andra användare. Den gemenskapliga aspekten lägger till en unik dimension på plattformen, vilket främjar samarbete och stöd bland jobbsökande. Tack vare Jobchaser säkrade jag flera jobberbjudanden på en konkurrensutsatt marknad. Mycket imponerad!"}],V5=()=>{const{isDarkTheme:e,color:t}=Ke(i=>i.background),n=[D5,b5,L5,M5],r=[F5,j5,y_,y_];return g.jsxs("div",{style:{color:t},className:"reviews-container",children:[g.jsx("h3",{style:{color:t},children:"Recensioner"}),g.jsx("ul",{className:"reviews-card-layout",children:U5.map((i,s)=>g.jsxs("li",{style:{background:e?"black":"white",border:"1px solid whitesmoke"},tabIndex:0,"aria-label":"A review card",className:"review-card",children:[g.jsxs("div",{className:"upper-container",children:[g.jsx("div",{className:"pp-container",children:g.jsx("img",{src:n[s],alt:"Profile pic"})}),g.jsx("div",{className:"ratings-container",children:g.jsx("img",{loading:"lazy",src:r[s],alt:"Ratings, five stars"})})]}),g.jsxs("article",{children:[g.jsxs("h4",{children:[g.jsx("span",{className:"user-highlight",children:i.userName})," har lämnat en recension."]}),g.jsxs("div",{className:"text-container",children:[g.jsx("h5",{children:i.header}),g.jsx("p",{children:i.content})]})]})]},i.id))})]})},B5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAiCAYAAAC9WiCBAAAK0ElEQVR42u2ceXBTxx3H9fR0y9Zl+ZBsS75v2bKNT9myLVuWDxJDqAs4EMDmJo07TTpNmklh6EETGDIDtJNM2iRlEv5oJ0fzBxDSzHSYNJ0GmvaPTpISSpvJ0aY0oWkC5vDR75JVa4z2HdIzdaj++M1Y7+3x293P7v5+u79nlUqlmhGQVxu+1KKPfHWxSky6t/YZOI47zioL7x5EGn52ntxq7268m46VXqPTHOgdH+Sk1J2UhScqBcEyAp4TAmB9B2nUSbCSYMkFywR4/iIA1teRhkuClQRLFlh5dQWZSH+RUc6k15+/tveuQVUSrCRYssBy5KQNIv0Uo5zzFSFf/9w8SbCSYAkWEv7KgMrmsu9jQQL5B8CqTIKVBEsWWEhjQ9rXBcp5G2CZkmAlwZIFVlW4JoC0/2KVY0g1/pisakmwkmBJBgvAqAHBEwJlTJts5nCsvEmwkmAxC/D485qQ7jOBMt5qX9uVPt9g1S9pMvsX1xdB6iHNED/E41+8SDfXG11o0rWpl4OuNkgp1X8RpALibLm9PeHJhTJUKMsOKYM0QJogPogLdfPxlFl7a0MW8pejbL3iYLWt6UzRGXXPCRjt02pefaBjrJufD7BCmyPa7IrcYkuG9SHU83vke5c4CpBzkLMQcq72q1SnZbxhWXOmr9dvQNrtkIfnijXD+kDPtn5dtOz0/MzBWOkge3OqPL10teYCqztMeFYKWQ/ZWRwoc5F3RHe727GeUcaDSJcW2hJRFzYVF2NFJ47PHyDvU/0/gvwV8kf070+deRldoc29BrmDT/IgbzPKeBJlvQn5gJb9MeRDyGnUfQT6DKMdVujiIn0ZS2e0ZV10PKC7l+O4Tci/FWUPdW7o4RUDq2WkndMatFuR5rJA/s8ATwOr4fGC1b0loipuLc1Xa9T7kfafIm2ICoFsO+TvjAPcM+SQN1qH0WLaxZosjpy0b1X31WoyCrOW4/cv6PkdaccFtMlHwSImwgus4xdrlq1ca9CN0wEW0/0y9Hu2sLnEHxzrFgUKaTikbSF5kPeShPLJMRG5NdnBOotEW54hbaLjdgue1UMOQDqDoyGLImCRAS9qLgnRVYGZX6PVHMSs5JUEi8xyrECtdAZOS4QqKldYeeSAhdVxN+QRAtKcd1LBIoNH8k/I1P/PRouxDWUzocLqoYWztEYisNcBzBzLWWABWrJircLzIa1eu7RjfY9GEbCKWkpq8e6USN4PsbTWCs0suWBhq+JsLnuELukzSooMsGbolnUlxnOpYM0w8ovrqeZOwwsvj2mrbQxrzPaUr5EVUen+mQ0Wker+WhdMi+qm5QFlbKyyjspWDIIYVNPYJve0rgrySoLl9KaX4907SndaHGCxRA5Y8co04Ho6OBa6Zlxgx6qMqcYleP/pfPTPXLAU8wrb13VpbW7HSgzAexIG6dfNK9rSxCqXA1bTlwMWjV5zVKzT6TZznsolqdvl/xisKar3Rbodien8SXpBZsk1Ez5YWYjnf5JQzwTtmwsi9vH8gwWPwQHr/3sSl9izjhxne6wD0XjBIjYFoBoSsUn+RozJHJ/nVk9NXiXEBxlOSUt9nHqJCxEsMtC/NaQYHoCuRO+wuzxnLZ49JdbX0O/uWZElPFax7wrc1RJ5A87GTtQRgpRBFuH3GJ6/IBA8MH9g6c16N7yXl0iEgoSOPW/NtK2eG3eVKFhdm8IaXsu/zFqlkPY12F5VwdFuzVzDtmtTrw5wBeBBnponsM6hfw4j/WpIVUFjsU4iWFOA4SmYFumdG8L/WZnJmVv7upDeZDWNCG1rqOv5aJ6sEreD2n0xI0ug3yFAlBW+c+CaccFvFRYNMxaNNfQY4saBlevzetDpJ6V4XPZsx30YHK3UyqWChXQVAoewp3NrvKWi0Re5aY10VVMKLLI6vAxHpg2Dw8fwnMXAeq2so8LJ0heels5kMx9i9Q/0OzErsmSElY5AD/3sQn2D9xzgukNoR1AcrPqhRr3ZZg6JEU22AcwKSVtgHGBtYHhRl61ZtpU9d/ZLOd1Wox3fZG0XMsGaRvojxYEyR4Th+ouANZldlXtvZHxQLBQpwtIX+v3u8zO9PpUl3foTRj+egy1WIWUsyEEv0j9/Q20scnIOj+Meke2QNOzVtjWdTiXB6twYVhlSjQ8x0p2BfnlS66sI+epZ9pZMsN4tDVZUCdUlAtYltD0spi+84AxWn0fBQvt1+P0Ko54jwdGQWUrfhDE50/Mz1rOOQebTK0ylRAt5LNM6k34f4NIpBRY6Ro3fjzHqOwH9UmWAlc6yReSApTfpf952RyefAFgTaHuj6JXMlkgK9JoQActKHABGPY+g/zgZE72FtR3OG1i9dw2o4HEVqbir93GCBrzebFhBDjMVBOtHjLpOygTLiTzvKXCls0usLglgNUj4joCAdeGmBivq9sNNvU0o9iq6RZV3VZUoARa5F4QdtVtgK/TK3Ao/VgCsHQsILD25aGfUcxhgmWSANXbDt8KoNK9s1/JazQ/FDvHgSh/1RfzW+TbeDSmG5b3j4mEx5AgEZd6rgPG+oMAixxN2t+Mgo56PUp2WSikgwI42qnn1c/EY78SrhHOU+F1h/dImp9DHqdFBJwNJAgETBcvjz6tkHRgC4FMVoaoCwY4bX6zKbyjyC90xflHBot7jKtaE4bX84bqhRouIrpy7PGckxqU6Gyz0aWFjsSWzyLUNdTwNz/RJ/D3SenvQHDdYxL23ZFhbWCEos+RTeBo9LHtLKlg0SvWXAq7/KxXdvrrgupA6RpAbX9Ra2gHb8E2FDkgXHFgFDUVOgUkzqVarH/f11XrmripEGodbDdBlNctEYIFVEigrRZ/+ZpbXOk0Xk2dbRtoz447HunouZE/ZJOGW/vXWVcGsRK90sOUNiVw9fGBINf4AwDc1LGt2+nr96fi7U2fUHaTBczM3K1jkSgd17RK40iHP3zLZzPejT8rJFR0N6lsGs+aYSATwdWAVB8q00OsYY+ym0Of7E4ogJYYh0hwSs7e0Bu0ToNiQyCU09X6OSbn9p57NRTnxWl9ksKhjUkSDGaVceJ+XeNnNCvQLiNzbvpMQWGQlyV9UmIvGvy1SzoRWrx3t3hb/J/bkRD+rxFXOOi64gWEzCxIsmCecze24Tcrqk2jYDHQfFdmpJhX5/AvLar+ECIL3i1pKqhOJx4IHxGVX5g6IRa7+P4L1eSBknzbN47xHYjhyImAtFanjE0XAgg2lwXb3fZGwDTJ4x8s6Kh2JhCYTuDKLXV3EZogjNHlKidDkhQoWXdl5e3ba5jhDk69IAausszId3rhQwOVLiv3vhuYVbVZ0wlGRwb4CBb8NL5FP5GMK8nWMq9SdBzf3UXpYKwYYWZrPqjXq7awOv1nAohfTvN3tqEd7X6S20LQoUDBn4D3eL+VjCmIC6U36FXRluu7fKWSVujtU9EuLmAJP7O72tV0aSZeYsIEcOU4f8j0sVCZkT26N9+p3hjUDdUs8NXn7IPvnSl59wbDg51/j5POzLh5pGzDQe1DucXoPGI0aJQNyBnIU7bgP5XnJJEH6nbHq8/rzd6ANuv9u7yW3xEpH9MWqOyABLA51bmSUsRdt90roUz302hurDOj3DbGzu8bhVr27PGeA3rWepCbEJO0fMiHfUPPqn6G8DSjPVt1f5yK6McZjbPZ4kL7P8XmWoYwXqdNwGvIMJnwrSfdv/8UqLdMkQogAAAAASUVORK5CYII=",$5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAIAAACzY+a1AAAHf0lEQVR42u2b6XNTVRiH/TOkihWKQh0YBBVZdBg3PuAgLjMO46jQja7DUmiLKIICRVkclrYWhArqACMMFZFFQAbQYSvNnjbpkqVNS5qWJmmzNMs98TUZmNLcpEnKLb31d+b51N6c5J7n3vu+7znnPrak9nEgah7DEEAhgEIAhVCIUYBCAIUACqEQQCGAQgCFUAigEEAhgEIoBFAIoBBAIRQCKARQCKAQCgEUAigEUAiFAAoBFAIohEIAhQAKARRCIYBCAIUACqEQQCGAQgCFUAigEEAhgEIoBFAIoBBAIRQCKARQGE6JanalPm+ZfPJD7zlTMrZcl7Wt8cM0KBSUQy0lLMBt0b770HvOl010+q2a3utptWOgEAqhEAqhEAqhEAqjkiVJXqOeU9acccy06ay54nzHvur2bVXGws3aBZRqpkueiEfhmFXKF0tUsxJmlfKFJUFn4QpzZBPi6qpYNXOFYmqONCWtNmnUKlwun3Kifau5r9nHPIEACzzYyI3b39PsqD3cum6l4nneu2GAwgzJk21urZ95E8bglFMnvAor9blxdeVjXi/ntnstqp4re/V52dLxo0oh3VtVhpV2nyUQU2NOv/1S58FC5bRBFdIFERhCa3WpIyncq89PuFsWYCaX5mvN/FGiMEMy9nzHD37mi3MUAj2+rkPG4tAQi0thqDl9NiHC9nArpBE53lbKMX9io0AfJP33h1VcCqlZ+ox5soniVvi5em4f54ygx+fmHC5/D4UQxrjgjccGPI60vdeLVS+PpLuQxftEPWgsErXCMVe7DoefGAX/i5YD6+vfpBS0QJ5aqJheql14sn1Hu7uBC3ChYyjlOWMuWyodl0AspIGjj/tY36DonbK4FDLGbtw9cdpc1h96Tphc9SyCXZntwhIhCxVhFZKALo8p/KxudFfzZt5Z0uRyXWanp8Xq7djVtDj8mBgVmtyaQuV0SmsH5f6MeawKA4w3vFH+KbGe471HjU5ler9wLjKFyxVTeJ+iNdZT6ZKIxRMNKwmIpS6MpNDoUkWvL2Mp7eNSSGzUzOcN+U2O24JWisIqpFKX4hxvFLxg2U+e4h3okaxwe+OiYEQf2C53/iziWJgre4YKg0ih3u3vbXTUVLdtpfopRzYhlpmtR6+Qcd9o30+vTRpAkWoGfSlf1PfR8SJWSA8Qtf1KLJWD3WuR2s5XGQqLVTOpjhyiQqffdqv75M0IVLdvD79cYi8q6BsNTkV/SB7l1bwJqcR2LkPIQDgcRcXOpk/iKQoZPXhNLs3J9u/WqGYnnM5Eb7xz2Q+9LgxVRAXy50Rf2tMoU/LC4iynqHk4163u30tUs8SokIL9GXN5jjRllEyw5ckmquyXE7BIrdfXvbs5LU18dyFz+KxU+y5TTBkl09xUIP7WviNCwBhkLNx+R6n2HdE9SEM/vsvTIvRk9/AtNtHQrFa+dNq8x9Jn8DNvXDNVBqc8U/JUnApZZIXXhqCQeTh3H+cIJ3hSPM3m7aAcbVQt+S6VPr2u7vXDrevk9otW7x3etcPwCTn6SOwKOz0tlfrcCl02L982fDCUunBn08f58klhpK6vf4u3rqAmtf0Zb5Ejjo0XNFjZ0vFr1a/uNyy/dvdYR58+Su66T18wwkt74su6N4JXJE9qVqScIW6FVOP/ZCzJlU2Iencm72j8qNt7h1fh0dYNI19hnuxZh8/G+6k9zekiVrhWPVfvlNNpNDskn6lfiX7wAcMK3ty1ylg48hVu1LwdISKyKsMqUSqkcdynz6f0+l60Y06f7VfTJrpaIx1/tuN73m01m4NJaYwKKWOiUmRX0+JB2dn0aX5wSTZ2hXQ/8Sx6KKdtb1xk7tNFyq2oN/EppIfn5c5fwvdb0Cjc9badNVds0b5XqJxeIE9dJp9MORsNaK31DMe3P8PutYSsx5mRDg4L+ENJf+xFRXCnU/jSo4cFuCjpGIVJ8Sks12XdyzZZhDHmvJybikU35wgOQaTDGJUiAq3aU2/xKkygmVyaLEmy+BSm1SZRYEuonH+gtbm1+bJJ4lVIt+Du5iUi3nixoX6e3ilLbHYtuCygW6OeI9zeGaEVkr/jbaXp4l3yvV/L/2hcbfEYokQL3pOvsf6xQjFV0H2kwilk/82utVbostMF3tw9fKV9jjSFcjmF/S9KUKO4pH85/NYa66nNmgXhhUG4wibHbbuvcwhY1tfP41VYpstMoEOb13LH3Ui/v1KXmxsh8Rb37AwFSEpBycFR01d/dx1R2C819N5s6L1Baq92HaE/UpqaL58UaQU//LWYbOk4ujgSJluaEtrFE66Qro8EOlwqHZchGTuc79Y84jeb6FTTJEnBpd2YzhlvNuHlNCiEQiiEwv+7woMtxX7mKdUuFEJhr6+rrucfKBSWfHnqF3WvCfH2JRUwa9Vzi/q9ggOFAAoBFEIhgEIAhQAKoRBAIYBCAIVQCKAQQCGAQigEUAigEEAhFAIoBFAIoBAKARQCKARQCIUACgEUAiiEQgCFAAoBFEIhgEIAhQAKoRBAIYBCAIVQCKAQQCGAQigEUAigEEAhFAIoBFAI+vMvOYAt/1i0GM8AAAAASUVORK5CYII=",z5="/Jobchaser/assets/chas-logo-tcOHv2FV.png",W5="/Jobchaser/assets/scania-logo-DfFPQ2C5.png";function H5(){const e=T.useContext(ad),{color:t,isDarkTheme:n}=Ke(l=>l.background),{isOnline:r}=Ke(l=>l.user),i=Pn(),s=dg();T.useEffect(()=>{i(v2("white"));const l=new IntersectionObserver(u=>{u.forEach(c=>{c.isIntersecting&&c.target.classList.add("show-logo")})});Array.from(document.getElementsByClassName("company-logo-container")).forEach(u=>l.observe(u))},[]);const o=l=>l?"1px 3px 5px rgba(255, 255, 255, 0.25)":"1px 3px 5px rgba(0, 0, 0, 0.25)";return g.jsx(g.Fragment,{children:g.jsxs("div",{className:"home-layout",children:[g.jsxs("div",{className:"hero-container",children:[g.jsxs("picture",{children:[g.jsx("source",{type:"image/webp"}),g.jsx("img",{className:"home-hero-img",loading:"lazy",src:e[0].src,alt:"hero image of a women laughing"})]}),g.jsxs("div",{className:"opening-text-container",children:[g.jsxs("article",{className:"opening-text",children:[g.jsxs("h1",{children:["Vi hjälper dig med ditt ",g.jsx("span",{style:{color:"#f09711"},children:"jobbsökande!"})]}),g.jsx("p",{children:"Välkommen till nästa steg i din karriär - vi tar dig närmare anställningen du strävar efter."})]}),g.jsxs("div",{className:"btn-layout",children:[g.jsx("button",{className:"available-jobs-btn",onClick:()=>s("/Jobchaser/Find-job"),children:"Lediga jobb"}),g.jsx("button",{className:"available-jobs-btn",onClick:()=>s(r?"/Jobchaser/User-profile":"/Jobchaser/Sign-in"),children:r?"Profil":"Registrera dig"})]})]})]}),g.jsxs("div",{className:"middle-container",children:[g.jsx("h2",{style:{color:t},children:"Upptäck jobbmöjligheter från företag"}),g.jsxs("div",{className:"companies-logo-layout",children:[g.jsx("div",{className:"company-logo-container",style:{boxShadow:o(n)},children:g.jsx("img",{loading:"lazy",src:B5,alt:"Amazon logo"})}),g.jsx("div",{className:"company-logo-container",style:{boxShadow:o(n)},children:g.jsx("img",{loading:"lazy",src:$5,alt:"Google logo"})}),g.jsx("div",{className:"company-logo-container",style:{boxShadow:o(n)},children:g.jsx("img",{loading:"lazy",src:z5,alt:"Netflix logo"})}),g.jsx("div",{className:"company-logo-container",style:{boxShadow:o(n)},children:g.jsx("img",{loading:"lazy",src:W5,alt:"Android logo"})})]})]}),g.jsx(V5,{})]})})}var ql=e=>e.type==="checkbox",Zi=e=>e instanceof Date,lt=e=>e==null;const E2=e=>typeof e=="object";var Qe=e=>!lt(e)&&!Array.isArray(e)&&E2(e)&&!Zi(e),G5=e=>Qe(e)&&e.target?ql(e.target)?e.target.checked:e.target.value:e,K5=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,q5=(e,t)=>e.has(K5(t)),Yl=e=>Array.isArray(e)?e.filter(Boolean):[],Fe=e=>e===void 0,j=(e,t,n)=>{if(!t||!Qe(e))return n;const r=Yl(t.split(/[,[\].]+?/)).reduce((i,s)=>lt(i)?i:i[s],e);return Fe(r)||r===e?Fe(e[t])?n:e[t]:r};const __={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ln={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Dn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},C2=mt.createContext(null),Y5=()=>mt.useContext(C2),Q5=e=>{const{children:t,...n}=e;return mt.createElement(C2.Provider,{value:n},t)};var J5=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==ln.all&&(t._proxyFormState[o]=!r||ln.all),n&&(n[o]=!0),e[o]}});return i},Vt=e=>Qe(e)&&!Object.keys(e).length,X5=(e,t,n)=>{const{name:r,...i}=e;return Vt(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(s=>t[s]===(!n||ln.all))},yh=e=>Array.isArray(e)?e:[e];function Z5(e){const t=mt.useRef(e);t.current=e,mt.useEffect(()=>{const n=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return()=>{n&&n.unsubscribe()}},[e.disabled])}var Cn=e=>typeof e=="string",eF=(e,t,n,r)=>{const i=Array.isArray(e);return Cn(e)?(r&&t.watch.add(e),j(n,e)):i?e.map(s=>(r&&t.watch.add(s),j(n,s))):(r&&(t.watchAll=!0),n)},Ju=e=>typeof e=="function",S2=e=>{for(const t in e)if(Ju(e[t]))return!0;return!1},tF=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},Hm=e=>/^\w*$/.test(e),I2=e=>Yl(e.replace(/["|']|\]/g,"").split(/\.|\[/));function fe(e,t,n){let r=-1;const i=Hm(t)?[t]:I2(t),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let a=n;if(r!==o){const u=e[l];a=Qe(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}e[l]=a,e=e[l]}return e}const hp=(e,t,n)=>{for(const r of n||Object.keys(e)){const i=j(e,r);if(i){const{_f:s,...o}=i;if(s&&t(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else Qe(o)&&hp(o,t)}}};var w_=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),nF=(e,t,n)=>{const r=Yl(j(e,n));return fe(r,"root",t[n]),fe(e,n,r),e},Xu=e=>typeof e=="boolean",Gm=e=>e.type==="file",Ba=e=>Cn(e)||mt.isValidElement(e),Km=e=>e.type==="radio",Zu=e=>e instanceof RegExp;const E_={value:!1,isValid:!1},C_={value:!0,isValid:!0};var k2=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Fe(e[0].attributes.value)?Fe(e[0].value)||e[0].value===""?C_:{value:e[0].value,isValid:!0}:C_:E_}return E_};const S_={isValid:!1,value:null};var T2=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,S_):S_;function I_(e,t,n="validate"){if(Ba(e)||Array.isArray(e)&&e.every(Ba)||Xu(e)&&!e)return{type:n,message:Ba(e)?e:"",ref:t}}var Fi=e=>Qe(e)&&!Zu(e)?e:{value:e,message:""},k_=async(e,t,n,r,i)=>{const{ref:s,refs:o,required:l,maxLength:a,minLength:u,min:c,max:d,pattern:h,validate:p,name:y,valueAsNumber:w,mount:C,disabled:m}=e._f;if(!C||m)return{};const f=o?o[0]:s,v=V=>{r&&f.reportValidity&&(f.setCustomValidity(Xu(V)?"":V||" "),f.reportValidity())},E={},k=Km(s),x=ql(s),O=k||x,R=(w||Gm(s))&&!s.value||t===""||Array.isArray(t)&&!t.length,z=tF.bind(null,y,n,E),G=(V,J,ue,Re=Dn.maxLength,kt=Dn.minLength)=>{const Je=V?J:ue;E[y]={type:V?Re:kt,message:Je,ref:s,...z(V?Re:kt,Je)}};if(i?!Array.isArray(t)||!t.length:l&&(!O&&(R||lt(t))||Xu(t)&&!t||x&&!k2(o).isValid||k&&!T2(o).isValid)){const{value:V,message:J}=Ba(l)?{value:!!l,message:l}:Fi(l);if(V&&(E[y]={type:Dn.required,message:J,ref:f,...z(Dn.required,J)},!n))return v(J),E}if(!R&&(!lt(c)||!lt(d))){let V,J;const ue=Fi(d),Re=Fi(c);if(!lt(t)&&!isNaN(t)){const kt=s.valueAsNumber||t&&+t;lt(ue.value)||(V=kt>ue.value),lt(Re.value)||(J=kt<Re.value)}else{const kt=s.valueAsDate||new Date(t),Je=W=>new Date(new Date().toDateString()+" "+W),On=s.type=="time",b=s.type=="week";Cn(ue.value)&&t&&(V=On?Je(t)>Je(ue.value):b?t>ue.value:kt>new Date(ue.value)),Cn(Re.value)&&t&&(J=On?Je(t)<Je(Re.value):b?t<Re.value:kt<new Date(Re.value))}if((V||J)&&(G(!!V,ue.message,Re.message,Dn.max,Dn.min),!n))return v(E[y].message),E}if((a||u)&&!R&&(Cn(t)||i&&Array.isArray(t))){const V=Fi(a),J=Fi(u),ue=!lt(V.value)&&t.length>V.value,Re=!lt(J.value)&&t.length<J.value;if((ue||Re)&&(G(ue,V.message,J.message),!n))return v(E[y].message),E}if(h&&!R&&Cn(t)){const{value:V,message:J}=Fi(h);if(Zu(V)&&!t.match(V)&&(E[y]={type:Dn.pattern,message:J,ref:s,...z(Dn.pattern,J)},!n))return v(J),E}if(p){if(Ju(p)){const V=await p(t),J=I_(V,f);if(J&&(E[y]={...J,...z(Dn.validate,J.message)},!n))return v(J.message),E}else if(Qe(p)){let V={};for(const J in p){if(!Vt(V)&&!n)break;const ue=I_(await p[J](t),f,J);ue&&(V={...ue,...z(J,ue.message)},v(ue.message),n&&(E[y]=V))}if(!Vt(V)&&(E[y]={ref:f,...V},!n))return E}}return v(!0),E},rF=e=>{const t=e.constructor&&e.constructor.prototype;return Qe(t)&&t.hasOwnProperty("isPrototypeOf")},fp=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Yr(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(fp&&(e instanceof Blob||e instanceof FileList))&&(n||Qe(e)))if(t=n?[]:{},!Array.isArray(e)&&!rF(e))t=e;else for(const r in e)t[r]=Yr(e[r]);else return e;return t}var T_=e=>({isOnSubmit:!e||e===ln.onSubmit,isOnBlur:e===ln.onBlur,isOnChange:e===ln.onChange,isOnAll:e===ln.all,isOnTouch:e===ln.onTouched});function iF(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Fe(e)?r++:e[t[r++]];return e}function sF(e){for(const t in e)if(!Fe(e[t]))return!1;return!0}function st(e,t){const n=Hm(t)?[t]:I2(t),r=n.length==1?e:iF(e,n),i=n[n.length-1];let s;r&&delete r[i];for(let o=0;o<n.slice(0,-1).length;o++){let l=-1,a;const u=n.slice(0,-(o+1)),c=u.length-1;for(o>0&&(s=e);++l<u.length;){const d=u[l];a=a?a[d]:e[d],c===l&&(Qe(a)&&Vt(a)||Array.isArray(a)&&sF(a))&&(s?delete s[d]:delete e[d]),s=a}}return e}function _h(){let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}}var ec=e=>lt(e)||!E2(e);function es(e,t){if(ec(e)||ec(t))return e===t;if(Zi(e)&&Zi(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const s=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Zi(s)&&Zi(o)||Qe(s)&&Qe(o)||Array.isArray(s)&&Array.isArray(o)?!es(s,o):s!==o)return!1}}return!0}var pp=e=>{const t=e?e.ownerDocument:0,n=t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement;return e instanceof n},A2=e=>e.type==="select-multiple",oF=e=>Km(e)||ql(e),wh=e=>pp(e)&&e.isConnected;function tc(e,t={}){const n=Array.isArray(e);if(Qe(e)||n)for(const r in e)Array.isArray(e[r])||Qe(e[r])&&!S2(e[r])?(t[r]=Array.isArray(e[r])?[]:{},tc(e[r],t[r])):lt(e[r])||(t[r]=!0);return t}function R2(e,t,n){const r=Array.isArray(e);if(Qe(e)||r)for(const i in e)Array.isArray(e[i])||Qe(e[i])&&!S2(e[i])?Fe(t)||ec(n[i])?n[i]=Array.isArray(e[i])?tc(e[i],[]):{...tc(e[i])}:R2(e[i],lt(t)?{}:t[i],n[i]):n[i]=!es(e[i],t[i]);return n}var Eh=(e,t)=>R2(e,t,tc(t)),N2=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Fe(e)?e:t?e===""?NaN:e&&+e:n&&Cn(e)?new Date(e):r?r(e):e;function Ch(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return Gm(t)?t.files:Km(t)?T2(e.refs).value:A2(t)?[...t.selectedOptions].map(({value:n})=>n):ql(t)?k2(e.refs).value:N2(Fe(t.value)?e.ref.value:t.value,e)}var lF=(e,t,n,r)=>{const i={};for(const s of e){const o=j(t,s);o&&fe(i,s,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},ro=e=>Fe(e)?void 0:Zu(e)?e.source:Qe(e)?Zu(e.value)?e.value.source:e.value:e,aF=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function A_(e,t,n){const r=j(e,n);if(r||Hm(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=j(t,s),l=j(e,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:n}}var uF=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,cF=(e,t)=>!Yl(j(e,t)).length&&st(e,t);const dF={mode:ln.onSubmit,reValidateMode:ln.onChange,shouldFocusError:!0};function hF(e={}){let t={...dF,...e},n={submitCount:0,isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},r={},i=Yr(t.defaultValues)||{},s=t.shouldUnregister?{}:Yr(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},a,u=0,c={};const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={watch:_h(),array:_h(),state:_h()},p=T_(t.mode),y=T_(t.reValidateMode),w=t.criteriaMode===ln.all,C=_=>S=>{clearTimeout(u),u=window.setTimeout(_,S)},m=async _=>{let S=!1;return d.isValid&&(S=t.resolver?Vt((await O()).errors):await z(r,!0),!_&&S!==n.isValid&&(n.isValid=S,h.state.next({isValid:S}))),S},f=(_,S=[],I,L,F=!0,N=!0)=>{if(L&&I){if(o.action=!0,N&&Array.isArray(j(r,_))){const U=I(j(r,_),L.argA,L.argB);F&&fe(r,_,U)}if(d.errors&&N&&Array.isArray(j(n.errors,_))){const U=I(j(n.errors,_),L.argA,L.argB);F&&fe(n.errors,_,U),cF(n.errors,_)}if(d.touchedFields&&N&&Array.isArray(j(n.touchedFields,_))){const U=I(j(n.touchedFields,_),L.argA,L.argB);F&&fe(n.touchedFields,_,U)}d.dirtyFields&&(n.dirtyFields=Eh(i,s)),h.state.next({isDirty:V(_,S),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else fe(s,_,S)},v=(_,S)=>{fe(n.errors,_,S),h.state.next({errors:n.errors})},E=(_,S,I,L)=>{const F=j(r,_);if(F){const N=j(s,_,Fe(I)?j(i,_):I);Fe(N)||L&&L.defaultChecked||S?fe(s,_,S?N:Ch(F._f)):Re(_,N),o.mount&&m()}},k=(_,S,I,L,F)=>{let N=!1;const U={name:_},ke=j(n.touchedFields,_);if(d.isDirty){const Tt=n.isDirty;n.isDirty=U.isDirty=V(),N=Tt!==U.isDirty}if(d.dirtyFields&&(!I||L)){const Tt=j(n.dirtyFields,_);es(j(i,_),S)?st(n.dirtyFields,_):fe(n.dirtyFields,_,!0),U.dirtyFields=n.dirtyFields,N=N||Tt!==j(n.dirtyFields,_)}return I&&!ke&&(fe(n.touchedFields,_,I),U.touchedFields=n.touchedFields,N=N||d.touchedFields&&ke!==I),N&&F&&h.state.next(U),N?U:{}},x=async(_,S,I,L)=>{const F=j(n.errors,_),N=d.isValid&&n.isValid!==S;if(e.delayError&&I?(a=C(()=>v(_,I)),a(e.delayError)):(clearTimeout(u),a=null,I?fe(n.errors,_,I):st(n.errors,_)),(I?!es(F,I):F)||!Vt(L)||N){const U={...L,...N?{isValid:S}:{},errors:n.errors,name:_};n={...n,...U},h.state.next(U)}c[_]--,d.isValidating&&!Object.values(c).some(U=>U)&&(h.state.next({isValidating:!1}),c={})},O=async _=>t.resolver?await t.resolver({...s},t.context,lF(_||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation)):{},R=async _=>{const{errors:S}=await O();if(_)for(const I of _){const L=j(S,I);L?fe(n.errors,I,L):st(n.errors,I)}else n.errors=S;return S},z=async(_,S,I={valid:!0})=>{for(const L in _){const F=_[L];if(F){const{_f:N,...U}=F;if(N){const ke=l.array.has(N.name),Tt=await k_(F,j(s,N.name),w,t.shouldUseNativeValidation,ke);if(Tt[N.name]&&(I.valid=!1,S))break;!S&&(j(Tt,N.name)?ke?nF(n.errors,Tt,N.name):fe(n.errors,N.name,Tt[N.name]):st(n.errors,N.name))}U&&await z(U,S,I)}}return I.valid},G=()=>{for(const _ of l.unMount){const S=j(r,_);S&&(S._f.refs?S._f.refs.every(I=>!wh(I)):!wh(S._f.ref))&&Zt(_)}l.unMount=new Set},V=(_,S)=>(_&&S&&fe(s,_,S),!es(W(),i)),J=(_,S,I)=>{const L={...o.mount?s:Fe(S)?i:Cn(_)?{[_]:S}:S};return eF(_,l,L,I)},ue=_=>Yl(j(o.mount?s:i,_,e.shouldUnregister?j(i,_,[]):[])),Re=(_,S,I={})=>{const L=j(r,_);let F=S;if(L){const N=L._f;N&&(!N.disabled&&fe(s,_,N2(S,N)),F=fp&&pp(N.ref)&&lt(S)?"":S,A2(N.ref)?[...N.ref.options].forEach(U=>U.selected=F.includes(U.value)):N.refs?ql(N.ref)?N.refs.length>1?N.refs.forEach(U=>(!U.defaultChecked||!U.disabled)&&(U.checked=Array.isArray(F)?!!F.find(ke=>ke===U.value):F===U.value)):N.refs[0]&&(N.refs[0].checked=!!F):N.refs.forEach(U=>U.checked=U.value===F):Gm(N.ref)?N.ref.value="":(N.ref.value=F,N.ref.type||h.watch.next({name:_})))}(I.shouldDirty||I.shouldTouch)&&k(_,F,I.shouldTouch,I.shouldDirty,!0),I.shouldValidate&&b(_)},kt=(_,S,I)=>{for(const L in S){const F=S[L],N=`${_}.${L}`,U=j(r,N);(l.array.has(_)||!ec(F)||U&&!U._f)&&!Zi(F)?kt(N,F,I):Re(N,F,I)}},Je=(_,S,I={})=>{const L=j(r,_),F=l.array.has(_),N=Yr(S);fe(s,_,N),F?(h.array.next({name:_,values:s}),(d.isDirty||d.dirtyFields)&&I.shouldDirty&&(n.dirtyFields=Eh(i,s),h.state.next({name:_,dirtyFields:n.dirtyFields,isDirty:V(_,N)}))):L&&!L._f&&!lt(N)?kt(_,N,I):Re(_,N,I),w_(_,l)&&h.state.next({}),h.watch.next({name:_})},On=async _=>{const S=_.target;let I=S.name;const L=j(r,I);if(L){let F,N;const U=S.type?Ch(L._f):G5(_),ke=_.type===__.BLUR||_.type===__.FOCUS_OUT,Tt=!aF(L._f)&&!t.resolver&&!j(n.errors,I)&&!L._f.deps||uF(ke,j(n.touchedFields,I),n.isSubmitted,y,p),Ql=w_(I,l,ke);fe(s,I,U),ke?(L._f.onBlur&&L._f.onBlur(_),a&&a(0)):L._f.onChange&&L._f.onChange(_);const ud=k(I,U,ke,!1),O2=!Vt(ud)||Ql;if(!ke&&h.watch.next({name:I,type:_.type}),Tt)return O2&&h.state.next({name:I,...Ql?{}:ud});if(!ke&&Ql&&h.state.next({}),c[I]=(c[I],1),h.state.next({isValidating:!0}),t.resolver){const{errors:qm}=await O([I]),D2=A_(n.errors,r,I),Ym=A_(qm,r,D2.name||I);F=Ym.error,I=Ym.name,N=Vt(qm)}else F=(await k_(L,j(s,I),w,t.shouldUseNativeValidation))[I],N=await m(!0);L._f.deps&&b(L._f.deps),x(I,N,F,ud)}},b=async(_,S={})=>{let I,L;const F=yh(_);if(h.state.next({isValidating:!0}),t.resolver){const N=await R(Fe(_)?_:F);I=Vt(N),L=_?!F.some(U=>j(N,U)):I}else _?(L=(await Promise.all(F.map(async N=>{const U=j(r,N);return await z(U&&U._f?{[N]:U}:U)}))).every(Boolean),!(!L&&!n.isValid)&&m()):L=I=await z(r);return h.state.next({...!Cn(_)||d.isValid&&I!==n.isValid?{}:{name:_},...t.resolver||!_?{isValid:I}:{},errors:n.errors,isValidating:!1}),S.shouldFocus&&!L&&hp(r,N=>N&&j(n.errors,N),_?F:l.mount),L},W=_=>{const S={...i,...o.mount?s:{}};return Fe(_)?S:Cn(_)?j(S,_):_.map(I=>j(S,I))},K=(_,S)=>({invalid:!!j((S||n).errors,_),isDirty:!!j((S||n).dirtyFields,_),isTouched:!!j((S||n).touchedFields,_),error:j((S||n).errors,_)}),ge=_=>{_?yh(_).forEach(S=>st(n.errors,S)):n.errors={},h.state.next({errors:n.errors})},Ie=(_,S,I)=>{const L=(j(r,_,{_f:{}})._f||{}).ref;fe(n.errors,_,{...S,ref:L}),h.state.next({name:_,errors:n.errors,isValid:!1}),I&&I.shouldFocus&&L&&L.focus&&L.focus()},Oi=(_,S)=>Ju(_)?h.watch.subscribe({next:I=>_(J(void 0,S),I)}):J(_,S,!0),Zt=(_,S={})=>{for(const I of _?yh(_):l.mount)l.mount.delete(I),l.array.delete(I),j(r,I)&&(S.keepValue||(st(r,I),st(s,I)),!S.keepError&&st(n.errors,I),!S.keepDirty&&st(n.dirtyFields,I),!S.keepTouched&&st(n.touchedFields,I),!t.shouldUnregister&&!S.keepDefaultValue&&st(i,I));h.watch.next({}),h.state.next({...n,...S.keepDirty?{isDirty:V()}:{}}),!S.keepIsValid&&m()},$r=(_,S={})=>{let I=j(r,_);const L=Xu(S.disabled);return fe(r,_,{...I||{},_f:{...I&&I._f?I._f:{ref:{name:_}},name:_,mount:!0,...S}}),l.mount.add(_),I?L&&fe(s,_,S.disabled?void 0:j(s,_,Ch(I._f))):E(_,!0,S.value),{...L?{disabled:S.disabled}:{},...t.shouldUseNativeValidation?{required:!!S.required,min:ro(S.min),max:ro(S.max),minLength:ro(S.minLength),maxLength:ro(S.maxLength),pattern:ro(S.pattern)}:{},name:_,onChange:On,onBlur:On,ref:F=>{if(F){$r(_,S),I=j(r,_);const N=Fe(F.value)&&F.querySelectorAll&&F.querySelectorAll("input,select,textarea")[0]||F,U=oF(N),ke=I._f.refs||[];if(U?ke.find(Tt=>Tt===N):N===I._f.ref)return;fe(r,_,{_f:{...I._f,...U?{refs:[...ke.filter(wh),N,...Array.isArray(j(i,_))?[{}]:[]],ref:{type:N.type,name:_}}:{ref:N}}}),E(_,!1,void 0,N)}else I=j(r,_,{}),I._f&&(I._f.mount=!1),(t.shouldUnregister||S.shouldUnregister)&&!(q5(l.array,_)&&o.action)&&l.unMount.add(_)}}},gn=()=>t.shouldFocusError&&hp(r,_=>_&&j(n.errors,_),l.mount),Di=(_,S)=>async I=>{I&&(I.preventDefault&&I.preventDefault(),I.persist&&I.persist());let L=!0,F=Yr(s);h.state.next({isSubmitting:!0});try{if(t.resolver){const{errors:N,values:U}=await O();n.errors=N,F=U}else await z(r);Vt(n.errors)?(h.state.next({errors:{},isSubmitting:!0}),await _(F,I)):(S&&await S({...n.errors},I),gn())}catch(N){throw L=!1,N}finally{n.isSubmitted=!0,h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Vt(n.errors)&&L,submitCount:n.submitCount+1,errors:n.errors})}},x2=(_,S={})=>{j(r,_)&&(Fe(S.defaultValue)?Je(_,j(i,_)):(Je(_,S.defaultValue),fe(i,_,S.defaultValue)),S.keepTouched||st(n.touchedFields,_),S.keepDirty||(st(n.dirtyFields,_),n.isDirty=S.defaultValue?V(_,j(i,_)):V()),S.keepError||(st(n.errors,_),d.isValid&&m()),h.state.next({...n}))},P2=(_,S={})=>{const I=_||i,L=Yr(I),F=_&&!Vt(_)?L:i;if(S.keepDefaultValues||(i=I),!S.keepValues){if(S.keepDirtyValues)for(const N of l.mount)j(n.dirtyFields,N)?fe(F,N,j(s,N)):Je(N,j(F,N));else{if(fp&&Fe(_))for(const N of l.mount){const U=j(r,N);if(U&&U._f){const ke=Array.isArray(U._f.refs)?U._f.refs[0]:U._f.ref;try{if(pp(ke)){ke.closest("form").reset();break}}catch{}}}r={}}s=e.shouldUnregister?S.keepDefaultValues?Yr(i):{}:L,h.array.next({values:F}),h.watch.next({values:F})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!S.keepIsValid,o.watch=!!e.shouldUnregister,h.state.next({submitCount:S.keepSubmitCount?n.submitCount:0,isDirty:S.keepDirty||S.keepDirtyValues?n.isDirty:!!(S.keepDefaultValues&&!es(_,i)),isSubmitted:S.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:S.keepDirty||S.keepDirtyValues?n.dirtyFields:S.keepDefaultValues&&_?Eh(i,_):{},touchedFields:S.keepTouched?n.touchedFields:{},errors:S.keepErrors?n.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})};return{control:{register:$r,unregister:Zt,getFieldState:K,_executeSchema:O,_focusError:gn,_getWatch:J,_getDirty:V,_updateValid:m,_removeUnmounted:G,_updateFieldArray:f,_getFieldArray:ue,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return s},get _stateFlags(){return o},set _stateFlags(_){o=_},get _defaultValues(){return i},get _names(){return l},set _names(_){l=_},get _formState(){return n},set _formState(_){n=_},get _options(){return t},set _options(_){t={...t,..._}}},trigger:b,register:$r,handleSubmit:Di,watch:Oi,setValue:Je,getValues:W,reset:(_,S)=>P2(Ju(_)?_(s):_,S),resetField:x2,clearErrors:ge,unregister:Zt,setError:Ie,setFocus:(_,S={})=>{const I=j(r,_),L=I&&I._f;if(L){const F=L.refs?L.refs[0]:L.ref;F.focus&&(F.focus(),S.shouldSelect&&F.select())}},getFieldState:K}}function fF(e={}){const t=mt.useRef(),[n,r]=mt.useState({isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:e.defaultValues});t.current||(t.current={...hF(e),formState:n});const i=t.current.control;return i._options=e,Z5({subject:i._subjects.state,callback:mt.useCallback(s=>{X5(s,i._proxyFormState,!0)&&(i._formState={...i._formState,...s},r({...i._formState}))},[i])}),mt.useEffect(()=>{i._stateFlags.mount||(i._proxyFormState.isValid&&i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),mt.useEffect(()=>{n.submitCount&&i._focusError()},[i,n.submitCount]),t.current.formState=J5(n,i),t.current}function Sh({label:e,property:t,type:n,required:r,placeholder:i,errors:s}){const{register:o}=Y5(),l=e.charAt(0).toLocaleUpperCase()+e.slice(1),a=d=>{let h,p;return d==="email"&&(h=/^[\w\.-]+@[a-zA-Z\d\.-]+\.[a-zA-Z]{2,}$/,p="Ogiltig e-postadress. Vänligen ange en giltig e-postadress."),d==="password"&&(h=/^(?=.*[A-Z])(?=.*\d)(?!.*<.*>).*.{6,}$/,p="Vänligen ange en sträng som innehåller minst en stor bokstav, en siffra och är minst 6 tecken lång."),d==="userName"&&(h=/^[a-zA-ZåäöÅÄÖ\s]{2,}$/,p="Vänligen ange en giltig sträng med minst två bokstäver."),{pattern:h,errorMessage:p}},{pattern:u,errorMessage:c}=a(t);return g.jsxs("div",{className:"form-control",children:[g.jsx("label",{style:{whiteSpace:"nowrap"},children:l}),g.jsx("input",{className:"post-job-data-input",placeholder:i,type:n,...o(t,{required:r,pattern:u})}),s[t]&&s[t].type==="required"&&g.jsxs("p",{className:"errorMsg",children:[l," är obligatoriskt."]}),s[t]&&s[t].type==="pattern"&&g.jsx("p",{className:"errorMsg",children:c})]})}const pF=()=>{const e=fF(),[t,n]=T.useState(!0),r=Pn(),{auth:i,provider:s,signInWithPopup:o,signInWithEmailAndPassword:l,createUserWithEmailAndPassword:a}=nd(),u=()=>{o(i,s).then(d=>{console.log(d)}).catch(d=>{const h=d.message;alert("Inloggningen misslyckades. "+h)})},c=d=>{const{email:h,password:p,userName:y}=d;t?l(i,h,p).then(w=>{const C=w.user;console.log("Email is verified: ",C.emailVerified)}).catch(w=>{const C=w.message;alert("Fel E-post eller lösenord. "+C)}):a(i,h,p).then(w=>{const C=w.user;console.log(w),KI(C.uid,h,y,p,null),r({type:"user/userState",payload:{userId:C.uid,fullname:y,email:h,password:p}})}).catch(w=>{const C=w.message;console.log(C),alert("Kontot existerar redan. Vänligen logga in eller återställ ditt lösenord om du har glömt det.")})};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"google-container",children:[g.jsx("h1",{children:"Kom igång"}),g.jsxs("div",{onClick:u,tabIndex:0,"aria-label":"sign in with google button",className:"google-btn-container",children:[g.jsx("div",{className:"google-img-cont",children:g.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google icon"})}),g.jsx("p",{children:"Logga in med Google"})]})]}),g.jsx("div",{className:"hr"}),g.jsx(Q5,{...e,children:g.jsxs("form",{className:"post-job-form",onSubmit:e.handleSubmit(c),children:[t?g.jsx("h1",{children:"Logga in"}):g.jsx("h1",{children:"Skapa konto"}),g.jsxs("div",{children:[g.jsxs("div",{children:[!t&&g.jsx(Sh,{property:"userName",label:"För- och efternamn",type:"text",required:!0,placeholder:"Skriv ditt för- och efternamn",errors:e.formState.errors}),g.jsx(Sh,{property:"email",label:"e-post",type:"text",required:!0,placeholder:"Skriv in e-post",errors:e.formState.errors}),g.jsx(Sh,{property:"password",label:"lösenord",type:"password",required:!0,placeholder:"Skriv in lösenord",errors:e.formState.errors})]}),g.jsx("div",{onClick:()=>n(d=>!d),className:"create-account-container",children:t?g.jsx("p",{children:"Skapa konto?"}):g.jsx("p",{children:"Logga in"})})]}),g.jsx("div",{style:{alignSelf:"center"},children:g.jsx("button",{className:"submit-btn",children:t?"Logga in":"Skapa"})})]})})]})},gF=()=>{const e=T.useContext(ad),t=Pn();return T.useEffect(()=>{t({type:"background/setTextColorHeader",payload:"white"})}),g.jsx(g.Fragment,{children:g.jsxs("div",{className:"sign-in-layout",children:[g.jsxs("picture",{children:[g.jsx("source",{type:"image/webp"}),g.jsx("img",{className:"signIn-hero-img",src:e[2].src,alt:"image of people in the office"})]}),g.jsx("div",{className:"side-img-container",children:g.jsx("img",{src:e[3].src})}),g.jsx("div",{className:"sign-in-cont",children:g.jsx(pF,{})})]})})},mF="_profileContainer_lgfnf_1",vF="_profileImgCont_lgfnf_23",yF="_profileImgAvailable_lgfnf_61",_F="_anonymous_lgfnf_71",wF="_userContactInfo_lgfnf_81",EF="_checkMarkCont_lgfnf_101",CF="_checkMarkImg_lgfnf_123",zr={profileContainer:mF,profileImgCont:vF,profileImgAvailable:yF,anonymous:_F,userContactInfo:wF,checkMarkCont:EF,checkMarkImg:CF},R_="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20id='verified'%20data-name='Flat%20Line'%20xmlns='http://www.w3.org/2000/svg'%20class='icon%20flat-line'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20id='secondary'%20d='M21.37,12c0,1-.86,1.79-1.14,2.67s-.1,2.08-.65,2.83-1.73.94-2.5,1.49-1.28,1.62-2.18,1.92S13,20.65,12,20.65s-2,.55-2.9.27S7.67,19.55,6.92,19,5,18.28,4.42,17.51s-.35-1.92-.65-2.83S2.63,13,2.63,12s.86-1.8,1.14-2.68.1-2.08.65-2.83S6.15,5.56,6.92,5,8.2,3.39,9.1,3.09s1.93.27,2.9.27,2-.55,2.9-.27S16.33,4.46,17.08,5s1.94.72,2.5,1.49.35,1.92.65,2.83S21.37,11,21.37,12Z'%20style='fill:%20rgb(29%20161%20242);%20stroke-width:%202;'/%3e%3cpolyline%20id='primary'%20points='8%2012%2011%2015%2016%2010'%20style='fill:%20none;%20stroke:%20%23000000;%20stroke-linecap:%20round;%20stroke-linejoin:%20round;%20stroke-width:%202;'/%3e%3cpath%20id='primary-2'%20data-name='primary'%20d='M21.37,12c0,1-.86,1.79-1.14,2.67s-.1,2.08-.65,2.83-1.73.94-2.5,1.49-1.28,1.62-2.18,1.92S13,20.65,12,20.65s-2,.55-2.9.27S7.67,19.55,6.92,19,5,18.28,4.42,17.51s-.35-1.92-.65-2.83S2.63,13,2.63,12s.86-1.8,1.14-2.68.1-2.08.65-2.83S6.15,5.56,6.92,5,8.2,3.39,9.1,3.09s1.93.27,2.9.27,2-.55,2.9-.27S16.33,4.46,17.08,5s1.94.72,2.5,1.49.35,1.92.65,2.83S21.37,11,21.37,12Z'%20style='fill:%20none;%20stroke:%20%23000000;%20stroke-linecap:%20round;%20stroke-linejoin:%20round;%20stroke-width:%202;'/%3e%3c/g%3e%3c/svg%3e",SF="_modal_3knew_13",IF="_backdrop_3knew_43",kF="_container_3knew_65",TF="_verificationCont_3knew_73",AF="_modalContent_3knew_105",io={modal:SF,backdrop:IF,container:kF,verificationCont:TF,modalContent:AF},RF=({verifiedIcon:e,isOnline:t,showModal:n})=>n?lA.createPortal(g.jsxs(g.Fragment,{children:[g.jsx("div",{className:io.backdrop}),g.jsx("dialog",{className:io.modal,open:n,children:g.jsxs("div",{className:io.container,children:[g.jsx("div",{className:io.verificationCont,children:g.jsx("img",{src:e,alt:"blue checkmark"})}),g.jsxs("div",{className:io.modalContent,children:[g.jsxs("p",{children:["Vi har skickat ett verifieringsmejl till: ",g.jsx("span",{children:t&&t.email}),". ",g.jsx("br",{})," Vänligen kontrollera din inkorg och eventuellt skräppost."]}),g.jsx("button",{type:"button",children:"OK"})]})]})})]}),document.getElementById("portal")):null;function NF(){const e=Ke(u=>u.background.color),t=Ke(u=>u.user.isOnline),[n,r]=T.useState(!1),{auth:i,sendEmailVerification:s}=nd(),o=i.currentUser,l=u=>g.jsxs("div",{onClick:()=>a(u),className:zr.checkMarkCont,children:[g.jsx("img",{className:zr.checkMarkImg,src:R_,style:{filter:u!=null&&u.emailVerified?"":"grayscale(100%)"},alt:u!=null&&u.emailVerified?"blue checkmark":"gray checkmark"}),g.jsx("p",{style:{color:e},children:u!=null&&u.emailVerified?"Verifierad":"Få ett verifieringsmejl"})]}),a=u=>{u&&!u.emailVerified&&(s(u,{url:"https://FriceIce.github.io/Jobchaser/User-profile"}).then(()=>console.log("Email verification sent!")),r(!0))};return g.jsxs("div",{onClick:u=>{u.target.tagName!=="IMG"&&!(o!=null&&o.emailVerified)&&r(!1)},style:{borderColor:e},className:zr.profileContainer,children:[l(o),g.jsx(RF,{verifiedIcon:R_,isOnline:t,showModal:n}),g.jsx("div",{className:zr.profileImgCont,style:{borderColor:e},children:g.jsx("img",{className:t&&t.profileImg?zr.profileImgAvailable:zr.anonymous,src:t&&t.profileImg?t.profileImg:G1,alt:"user picture"})}),g.jsxs("div",{className:zr.userContactInfo,children:[g.jsxs("p",{style:{color:e},children:[g.jsx("b",{children:"Name:"})," ",t&&t.fullname]}),g.jsxs("p",{style:{color:e},children:[g.jsx("b",{children:"Email:"})," ",t&&t.email]})]})]})}const xF="_titleForSavedJobs_1yvwz_1",PF={titleForSavedJobs:xF};function OF(){const e=Ke(n=>n.background.color),t=Ke(n=>n.user.savedJobAds);return g.jsxs(g.Fragment,{children:[g.jsx("h1",{className:PF.titleForSavedJobs,style:{color:e},children:"Sparade jobbannonser"}),g.jsx("div",{className:"card-container",children:g.jsx("ul",{className:"card-layout",children:t.map(n=>_2(n))})})]})}const DF="_hr_1pzqc_1",bF={hr:DF};function LF(){const{color:e,isDarkTheme:t}=Ke(r=>r.background),n=Pn();return T.useEffect(()=>{n({type:"background/setTextColorHeader",payload:e})},[t]),g.jsxs(g.Fragment,{children:[g.jsx(NF,{}),g.jsx("div",{style:{background:e},className:bF.hr}),g.jsx(OF,{})]})}const MF="/Jobchaser/assets/home-page-hero-pic-BpeKQlgR.avif",FF="/Jobchaser/assets/start-page-background-Dm21Msj3.jpg",jF="/Jobchaser/assets/office-sign-in-D-019RZs.avif",UF="/Jobchaser/assets/skrivmaskin-O_-Z9A5K.avif",VF=async(e,t)=>{const n=e.map(r=>new Promise((i,s)=>{const o=new Image;o.src=r,o.onload=()=>i(o),o.onerror=()=>s()}));await Promise.all(n).then(r=>{t(r)})},ad=T.createContext([]);function BF(){const[e,t]=T.useState([]),{isOnline:n}=Ke(a=>a.user),r=Pn(),{auth:i,onAuthStateChanged:s}=nd();T.useEffect(()=>{const a=s(i,u=>{if(u){X0("users",u.uid).then(d=>{if(!d&&u.emailVerified){console.log("data is",d),KI(u.uid,u.email,u.displayName,null,u.photoURL),X0("users",u.uid).then(p=>r(vh(p)));return}else if(!d&&!u.displayName)return;r(vh(d))}),console.log("Email is verified: ",u.emailVerified);return}r(dp([])),r(vh(!1))});return()=>a()},[i]),T.useEffect(()=>{if(!n)return;kM(n.userId).then(u=>{const c=u.jobs;r(dp(c))})},[n]);const o=a=>{if(a===null)return g.jsx(Va,{type:"loaderProgress"});if(a===!1)return g.jsx(gF,{});if(a)return g.jsx(LF,{})},l=[MF,FF,jF,UF];return T.useEffect(()=>{VF(l,t)},[]),g.jsx(g.Fragment,{children:g.jsx(ad.Provider,{value:e,children:g.jsxs(iR,{children:[g.jsx(f5,{}),g.jsx("main",{className:"job-form-container",children:g.jsxs(JA,{children:[g.jsx(uo,{path:"/Jobchaser/",element:n===null?g.jsx(Va,{type:"loaderProgress"}):g.jsx(H5,{})}),g.jsx(uo,{path:"/Jobchaser/Find-job",element:n===null?g.jsx(Va,{type:"loaderProgress"}):g.jsx(O5,{})}),g.jsx(uo,{path:"/Jobchaser/Sign-in",element:o(n)}),g.jsx(uo,{path:"/Jobchaser/User-profile",element:o(n)})]})})]})})})}const $F=u9({reducer:{search:A5,sidemenu:F9,user:w5,background:d5},middleware:e=>e({serializableCheck:!1})});kh.createRoot(document.getElementById("root")).render(g.jsx(mt.StrictMode,{children:g.jsx(r5,{store:$F,children:g.jsx(BF,{})})}));
